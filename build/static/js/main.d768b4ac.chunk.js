(this["webpackJsonppower-distribution-box"]=this["webpackJsonppower-distribution-box"]||[]).push([[0],{148:function(e,t,i){},157:function(e,t){},159:function(e,t){},170:function(e,t){},172:function(e,t){},199:function(e,t){},201:function(e,t){},202:function(e,t){},207:function(e,t){},209:function(e,t){},228:function(e,t){},240:function(e,t){},243:function(e,t){},246:function(e,t,i){},247:function(e,t,i){},248:function(e,t,i){"use strict";i.r(t);var n=i(0),a=i(1),o=i.n(a),s=i(57),r=i.n(s),c=(i(148),i(14)),l=i(15),d=i(5),u=i(22),p=i(21),m=i(18),g=i(24),h=i(8),b=i(252),j=i(141),f={useLocalStorage:!0,gridSize:16,ElementType:{INPUTS:"Inputs",OUTPUTS:"Outputs",THROUGH_OUTPUTS:"Through Output",ADDONS:"Add-ons"},SVG_ELEMENTS:{FULL_WIDTH:"280px"},SCALE:{FRONT_SIDE:5,REAR_SIDE:5}};function O(e,t){return[Math.round(e/f.gridSize)*f.gridSize,Math.round(t/f.gridSize)*f.gridSize]}var x=i(254),v=i(253),y=i(32),S=i.n(y),_="Pilot Lights",w="Multimeter",I="Live Pins Input",D="Loop Through",E="Pins Input@1",T="Pins Input@2",C="Plugs@1",k="Plugs@2",B="Plugs@3",z="Plugs@4",N="Plugs@5",P="Sockets@1",U="Sockets@2",A="Sockets@3",L=i(63),q=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"getGridBoxId",value:function(e){var t="grid-box-item-"+e.name;return{shortClassName:t,className:"grid-box "+t,id:t+"-"+e.uniqid}}},{key:"removeItem",value:function(t){alert(t);var i=e.controller.containerRef.state.distributions.totalDroppedItems,n=[];for(var a in i)!i[a].uniqid==t.uniqid&&n.push(i[a]);e.controller.containerRef.setTotalDroppedItems(n,t.distribution,t.distribution_name)}}]),e}();q.controller=null;var R=q,W=function(e){Object(u.a)(i,e);var t=Object(p.a)(i);function i(e){return Object(c.a)(this,i),t.call(this,e)}return Object(l.a)(i,[{key:"handleClick",value:function(e){alert(e),R.removeItem(this.item)}},{key:"render",value:function(){var e=this.props,t=e.image,i=e.name,a=e.width,o=e.height;e.uniqid;return this.item={image:t,name:i,width:a,height:o},Object(n.jsxs)("div",{className:"distribution-box-menu",children:[Object(n.jsxs)(L.b,{id:"distribution-box-contextmenu",children:[Object(n.jsx)("div",{className:"well"}),Object(n.jsx)("img",{src:t,alt:i,title:i,width:a,height:o})]}),Object(n.jsx)(L.a,{id:"distribution-box-contextmenu",children:Object(n.jsx)(L.c,{data:{},onClick:this.handleClick,children:"Remove"})})]})}}]),i}(o.a.Component),V=i(2),G=i.n(V),H={border:"1px dashed gray",backgroundColor:"transparent",padding:"0.1px",marginRight:"1.5rem",marginBottom:"1.5rem",cursor:"move",float:"left",zIndex:1e3},M=function(e){var t,i=e.name,o=e.type,s=e.uniqid,r=e.distribution,c=e.image,l=e.top,d=e.left,u=e.width,p=e.height,f=e.distribution_name,x=e.description,y=e.container,S=(e.e_name,e.isDropped,R.getGridBoxId({name:i,uniqid:s})),_=S.className,w=S.id,I=Object(v.a)({item:{name:i,type:o,uniqid:s,distribution:r,image:c,width:u,height:p,distribution_name:f,description:x},collect:function(e){return{item:e.getItem(),opacity:e.isDragging()?.4:1,initialOffset:e.getInitialClientOffset(),currentOffset:e.getSourceClientOffset(),clientOffset:e.getClientOffset(),canDrag:e.canDrag(),isDragging:e.isDragging()}}}),D=Object(h.a)(I,2),E=D[0],T=E.opacity,C=(E.initialOffset,E.currentOffset,E.clientOffset,E.item),k=E.isDragging,B=D[1];!function(){var e=Object(a.useState)(null),t=Object(h.a)(e,2),i=t[0],n=t[1],o=Object(a.useState)(null),r=Object(h.a)(o,2),c=r[0],l=r[1];if(Object(a.useLayoutEffect)((function(){var e=Object(b.a)(document,"drag").pipe(Object(j.a)((function(e){return[e.clientX,e.clientY]}))).subscribe((function(e){var t=Object(h.a)(e,2),i=t[0],a=t[1];n(i+window.scrollX),l(a+window.scrollY)}));return function(){e.unsubscribe()}}),[]),k&&i&&c){var d=O(i,c),u=Object(h.a)(d,2),p=u[0],m=u[1],g={left:0,top:0};"cartesian"==f?g=G()("#cartesian_distribution_container").offset():"templated"==f&&(g=G()("#templated_distribution_container").offset());var x=function(e){var t=y.getTotalDroppedItems(C.distribution);for(var i in t)if(e==t[i].uniqid)return t[i];return null}(s);x&&(x.left=p-g.left-40+"px",x.top=m-g.top-40+"px",function(e){var t=y.getTotalDroppedItems(e.distribution);for(var i in t)if(t[i].uniqid==e.uniqid){t[i]=e;break}y.setTotalDroppedItems(t,e.distribution,e.distribution_name)}(x))}}();return Object(n.jsx)("div",{ref:B,style:Object(m.a)(Object(m.a)({},H),{},{opacity:T,top:l,left:d}),className:_,id:w,children:Object(n.jsx)(W,(t={image:c,name:i,width:u,height:"auto"},Object(g.a)(t,"name",i),Object(g.a)(t,"type",o),Object(g.a)(t,"uniqid",s),t))})},F=function(e){var t=e.item,i=(e.currentOffset,e.clientOffset,G()(document.getElementById(t.dragElementId)).width()),a=G()(document.getElementById(t.dragElementId)).height(),o="highlight-component-"+t.name;return Object(n.jsx)("div",{className:"highlight-component",id:o,style:{position:"absolute",opacity:.4,display:"block",zIndex:1,backgroundColor:"pink",backgroundImage:'url("images/power_box/canvas_grid-8u.png")',backgroundSize:"25%",width:i.toString()+"px",height:a.toString()+"px"}})},J=(f.useLocalStorage,{marginBottom:"0.5rem",padding:"5%",textAlign:"center",fontSize:"1rem",lineHeight:"normal"}),X=function(e){var t=e.accept,i=(e.lastDroppedItem,e.totalDroppedItems),o=e.e_name,s=e.container,r=e.onDrop,c=Object(x.a)({accept:t,drop:r,collect:function(e){return{isOver:e.isOver(),canDrop:e.canDrop(),initialOffset:e.getInitialClientOffset(),currentOffset:e.getSourceClientOffset(),clientOffset:e.getClientOffset(),diffOffset:e.getInitialSourceClientOffset(),item:e.getItem()}},canDrop:function(e,t){return null==e.distribution&&void 0==e.distribution},hover:function(e,t){e;var i="element-box-item-"+e.name;return e.dragElementId=i,e.highlightComponent="highlight-component-"+e.name,!1}}),l=Object(h.a)(c,2),d=l[0],u=d.isOver,p=d.canDrop,g=(d.initialOffset,d.currentOffset),f=d.clientOffset,v=(d.diffOffset,d.item),y=l[1],S="transparent";u&&p?S="darkgreen":p&&(S="darkkhaki");var _=Object(n.jsx)("div",{});v&&f&&g&&document.getElementById(v.dragElementId)&&(_=Object(n.jsx)(F,{item:v,currentOffset:g,clientOffset:f}));!function(){var e=Object(a.useState)(null),t=Object(h.a)(e,2),i=t[0],n=t[1],o=Object(a.useState)(null),s=Object(h.a)(o,2),r=s[0],c=s[1];if(Object(a.useEffect)((function(){var e=Object(b.a)(document,"drag").pipe(Object(j.a)((function(e){return[e.clientX,e.clientY]}))).subscribe((function(e){var t=Object(h.a)(e,2),i=t[0],a=t[1];n(i+window.scrollX),c(a+window.scrollY)}));return function(){e.unsubscribe()}}),[]),p&&v&&document.getElementById(v.highlightComponent)){var l=O(i,r),d=Object(h.a)(l,2),u=d[0],m=d[1];if("cartesian"==v.distribution_name){var g=G()("#cartesian_distribution_container").offset();document.getElementById(v.highlightComponent).style.width=v.width,document.getElementById(v.highlightComponent).style.height=v.height,document.getElementById(v.highlightComponent).style.left=(u-g.left).toString()+"px",document.getElementById(v.highlightComponent).style.top=(m-g.top).toString()+"px",document.getElementById(v.dragElementId).style.left=(u-g.left-80).toString()+"px",document.getElementById(v.dragElementId).style.top=(m-g.top-80).toString()+"px",v.left=(u-g.left-80).toString()+"px",v.top=(m-g.top-80).toString()+"px"}else if("templated"==v.distribution_name){var f=G()("#templated_distribution_container").offset(),x=G()("#boxes_container_draggable_holder").width();document.getElementById(v.highlightComponent).style.width=v.width,document.getElementById(v.highlightComponent).style.height=v.height,document.getElementById(v.highlightComponent).style.left=(u-x-120).toString()+"px",document.getElementById(v.highlightComponent).style.top=(m-f.top).toString()+"px",document.getElementById(v.dragElementId).style.left=(u-f.left-80).toString()+"px",document.getElementById(v.dragElementId).style.top=(m-f.top-80).toString()+"px",v.left=(u-f.left-80).toString()+"px",v.top=(m-f.top-80).toString()+"px"}}}();var w=Object(a.useState)(0),I=Object(h.a)(w,2),D=I[0],E=I[1];return Object(a.useLayoutEffect)((function(){var e=localStorage.getItem("cartesian: size");if(e){E(e);var t=new Map([["24U",1137],["20U",937],["16U",743],["12U",550],["8U",350]]);"24U"!=D&&(J.padding="5.4%"),t=Object.fromEntries(t),G()(document.getElementById(o)).css("height",(.4*G()(document).width()/681*1455).toString()+"px"),document.getElementById(o+"_distribution_container").style.height=(t[D]*G()(document.getElementById(o)).outerWidth()/681).toString()+"px"}}),[D]),i||(i=[]),Object(n.jsxs)("div",{style:Object(m.a)({},J),className:o,id:o,children:[_,Object(n.jsx)("div",{ref:y,style:{backgroundColor:S,backgroundSize:R.__singletonRef.controller.state.value-50+100+"%"},className:"distribution_container",id:o+"_distribution_container",children:i.map((function(e,t){return Object(n.jsx)(M,{container:s,name:e.name,type:e.type,uniqid:e.uniqid,distribution:e.distribution,image:e.image,e_name:o,top:e.top,left:e.left,width:e.width,height:e.height,distribution_name:e.distribution_name,description:e.description,isDropped:!0},e.index)}))})]})},Y={marginRight:"10%",marginLeft:"5%",width:"90%",marginBottom:"0.5rem",color:"white",padding:f.gridSize.toString()+"px",textAlign:"center",fontSize:"5rem",lineHeight:"normal"},$=function(e){var t=e.accept,i=e.onDrop,a=Object(x.a)({accept:t,drop:i,collect:function(e){return{isOver:e.isOver(),canDrop:e.canDrop()}}}),o=Object(h.a)(a,2),s=o[0],r=s.isOver,c=s.canDrop,l=o[1],d="#222";return r&&c?d="darkgreen":c&&(d="darkkhaki"),Object(n.jsx)("div",{ref:l,style:Object(m.a)(Object(m.a)({},Y),{},{backgroundColor:d}),className:"dustbin-container",children:"DUSTBIN"})},K={border:"0px none",backgroundColor:"white",padding:"0px",marginRight:"1.5rem",marginBottom:"1.5rem",cursor:"move",zIndex:100},Q=function(e){var t=e.name,i=e.type,a=e.uniqid,s=e.distribution,r=e.image,c=e.width,l=e.height,d=e.distribution_name,u=e.description,p=(e.isDropped,Object(v.a)({item:{name:t,type:i,uniqid:a,distribution:s,image:r,width:c,height:l,distribution_name:d,description:u},collect:function(e){return{opacity:e.isDragging()?.4:1}}})),g=Object(h.a)(p,2),b=g[0].opacity,j=g[1],f="box-item box-item-"+t;return Object(n.jsxs)("div",{ref:j,style:Object(m.a)(Object(m.a)({},K),{},{opacity:b}),className:f,id:"element-box-item-"+t,children:[Object(n.jsx)("img",{src:r,alt:t,title:t,width:c,height:"auto"}),Object(n.jsx)("br",{}),Object(n.jsx)("abbr",{style:{width:"100%"},children:Object(n.jsx)(o.a.Fragment,{children:Object(n.jsx)("b",{children:u})})})]})},Z=i(142),ee=i.n(Z);var te=i(139);function ie(e,t,i){var n="translate3d(".concat(e,"px, ").concat(t,"px, 0)");return{opacity:i?0:1,height:i?0:"",transform:n,WebkitTransform:n,left:e,top:t}}var ne=function(e){var t=e.name,i=e.type,o=e.uniqid,s=e.distribution,r=e.image,c=e.width,l=e.height,d=e.isDropped,u=e.left,p=e.top,m=e.distribution_name,g=e.description,b=e.id,j=Object(v.a)({item:{name:t,type:i,uniqid:o,distribution:s,image:r,width:c,distribution_name:m},collect:function(e){return{isDragging:e.isDragging()}}}),f=Object(h.a)(j,3),O=f[0].isDragging,x=(f[1],f[2]);return Object(a.useEffect)((function(){x(Object(te.a)(),{captureDraggingState:!0})}),[]),Object(n.jsx)("div",{style:ie(u,p,O),className:"draggable-box",children:Object(n.jsx)(Q,{name:t,type:i,uniqid:o,distribution:s,image:r,width:c,height:l,distribution_name:m,description:g,isDropped:d})},b)},ae=function(e){Object(u.a)(i,e);var t=Object(p.a)(i);function i(e){return Object(c.a)(this,i),t.call(this,e)}return Object(l.a)(i,[{key:"render",value:function(){var e=this.props,t=e.accept,i=e.lastDroppedItem,a=e.totalDroppedItems,o=e.e_name,s=e.onDrop,r=e.index;return this.e_name=o,Object(n.jsx)(X,{container:this.props.container,accept:t,lastDroppedItem:i,totalDroppedItems:a,e_name:o,onDrop:s},r)}}]),i}(o.a.Component),oe=f.useLocalStorage,se=[C,k,B,z,N,P,U,A,I,D,E,T],re=[C,k,B,z,N,P,U,A,_,w,I,D,E,T],ce={width:"100%",marginBottom:"0.5rem",color:"#ababab",padding:"1rem",textAlign:"center",fontSize:"1rem",lineHeight:"normal",float:"left"},le=function(e){Object(u.a)(i,e);var t=Object(p.a)(i);function i(e){var a;Object(c.a)(this,i),(a=t.call(this,e)).state={distributions:[],boxes:[],droppedBoxNames:[],dustbins:[],distributionSize:[]},R.__singletonRef.controller.container=Object(d.a)(a);var o=null,s=null;oe&&(o=localStorage.getItem("cartesian: items"),s=localStorage.getItem("templated: items"),o=o?JSON.parse(o):[],s=s?JSON.parse(s):[]),a.handleDustBinDrop=a.handleDustBinDrop.bind(Object(d.a)(a)),a.handleDrop=a.handleDrop.bind(Object(d.a)(a));var r=[{name:"Plugs@1",type:C,uniqid:null,distribution:null,left:0,top:0,index:0,image:"images/dist_box/Output-Plug-1.png",element_type:f.ElementType.OUTPUTS,size:{width:"45px",height:"45px"},distribution_name:"templated",description:"63A 400V CEE 5P"},{name:"Plugs@2",type:k,uniqid:null,distribution:null,left:0,top:0,index:0,image:"images/dist_box/Output-Plug-2.png",element_type:f.ElementType.OUTPUTS,size:{width:"45px",height:"45px"},distribution_name:"templated",description:"125A 400V CEE 5P"},{name:"Plugs@3",type:B,uniqid:null,distribution:null,left:0,top:0,index:0,image:"images/dist_box/Output-Plug-3.png",element_type:f.ElementType.OUTPUTS,size:{width:"45px",height:"45px"},distribution_name:"templated",description:"63A 400V CEE 5P"},{name:"Plugs@4",type:z,uniqid:null,distribution:null,left:0,top:0,index:0,image:"images/dist_box/Output-Plug-4.png",element_type:f.ElementType.OUTPUTS,size:{width:"45px",height:"45px"},distribution_name:"templated",description:"125A 400V CEE 5P"},{name:"Plugs@5",type:N,uniqid:null,distribution:null,left:0,top:0,index:0,image:"images/dist_box/Output-Plug-5.png",element_type:f.ElementType.OUTPUTS,size:{width:"45px",height:"45px"},distribution_name:"templated",description:"63A 400V CEE 5P"},{name:"Sockets@1",type:P,uniqid:null,distribution:null,left:0,top:0,index:1,image:"images/dist_box/Output-Socket-1.png",element_type:f.ElementType.OUTPUTS,size:{width:"45px",height:"45px"},distribution_name:"templated",description:"125A 400V CEE 5P"},{name:"Sockets@2",type:U,uniqid:null,distribution:null,left:0,top:0,index:1,image:"images/dist_box/Output-Socket-2.png",element_type:f.ElementType.OUTPUTS,size:{width:"45px",height:"45px"},distribution_name:"templated",description:"63A 400V CEE 5P"},{name:"Sockets@3",type:A,uniqid:null,distribution:null,left:0,top:0,index:1,image:"images/dist_box/Output-Socket-3.png",element_type:f.ElementType.OUTPUTS,size:{width:"45px",height:"45px"},distribution_name:"templated",description:"125A 400V CEE 5P"},{name:"Pilot-Lights",type:_,uniqid:null,distribution:null,left:0,top:0,index:2,image:"images/dist_box/pilot-lights.gif",element_type:f.ElementType.ADDONS,size:{width:"45px",height:"45px"},distribution_name:"cartesian",description:"PILOT LIGHTS"},{name:"Multimeter",type:w,uniqid:null,distribution:null,left:0,top:0,index:3,image:"images/dist_box/multimeter.png",element_type:f.ElementType.THROUGH_OUTPUTS,size:{width:"45px",height:"45px"},distribution_name:"cartesian",description:"MULTIMETER"},{name:"Live-Pins-Input",type:I,uniqid:null,distribution:null,left:0,top:0,index:4,image:"images/dist_box/Live-Pins-Inputs.png",element_type:f.ElementType.INPUTS,size:{width:f.SVG_ELEMENTS.FULL_WIDTH,height:"47px"},distribution_name:"templated",description:Object(n.jsxs)("b",{children:["400A Power Lock Set ",Object(n.jsx)("br",{})," (with 250A Protection)"]})},{name:"Loop-Through",type:D,uniqid:null,distribution:null,left:0,top:0,index:5,image:"images/dist_box/Live-Pins-Outputs.png",element_type:f.ElementType.INPUTS,size:{width:f.SVG_ELEMENTS.FULL_WIDTH,height:"47px"},distribution_name:"templated",description:"400A Power Lock Set"},{name:"Pins-Input@1",type:E,uniqid:null,distribution:null,left:0,top:0,index:4,image:"images/dist_box/Inputs-Pin-1.png",element_type:f.ElementType.INPUTS,size:{width:"45px",height:"45px"},distribution_name:"templated",description:"63A 400V CEE 5P"},{name:"Pins-Input@2",type:T,uniqid:null,distribution:null,left:0,top:0,index:5,image:"images/dist_box/Inputs-Pin-2.png",element_type:f.ElementType.INPUTS,size:{width:"45px",height:"45px"},distribution_name:"templated",description:"125A 400V CEE 5P"}],l=[{accepts:re}],u=[{accepts:[_,w],lastDroppedItem:null,totalDroppedItems:o,e_name:"cartesian"},{accepts:se,lastDroppedItem:null,totalDroppedItems:s,e_name:"templated"}];return a.setDistributionSize=a.setDistributionSize.bind(Object(d.a)(a)),a.setDistributions=a.setDistributions.bind(Object(d.a)(a)),a.setDroppedBoxNames=a.setDroppedBoxNames.bind(Object(d.a)(a)),a.handleDrop=a.handleDrop.bind(Object(d.a)(a)),a.handleDustBinDrop=a.handleDustBinDrop.bind(Object(d.a)(a)),a.state.boxes=r,a.state.distributions=u,a.state.dustbins=l,a.setTotalDroppedItems=a.setTotalDroppedItems.bind(Object(d.a)(a)),a.getTotalDroppedItems=a.getTotalDroppedItems.bind(Object(d.a)(a)),a.saveTotalDroppedItems=a.saveTotalDroppedItems.bind(Object(d.a)(a)),a}return Object(l.a)(i,[{key:"handleDustBinDrop",value:function(e,t){for(var i=t.distribution,n=this.state.distributions[i].totalDroppedItems,a=[],o=0;o<n.length;o++)t.uniqid===n[o].uniqid||a.push(n[o]);this.setDistributions(S()(this.state.distributions,Object(g.a)({},i,{totalDroppedItems:{$set:a}})))}},{key:"setDistributions",value:function(e){this.setState({distributions:e})}},{key:"setDroppedBoxNames",value:function(e){this.setState({droppedBoxNames:e})}},{key:"getTotalDroppedItems",value:function(e){return this.state.distributions[e].totalDroppedItems}},{key:"setTotalDroppedItems",value:function(e,t,i){S()(this.state.distributions,Object(g.a)({},t,{totalDroppedItems:{$set:e}})),this.saveTotalDroppedItems(e,i,t)}},{key:"saveTotalDroppedItems",value:function(e,t,i){e&&localStorage.setItem(t+": items",JSON.stringify(this.state.distributions[i].totalDroppedItems))}},{key:"handleDrop",value:function(e,t){var i=t.name;t.uniqid=function(e){var t=new Date;return ee()(e+"/"+t.getTime().toString()).toString()}(t.name),t.distribution=e,this.setDroppedBoxNames(S()(this.state.droppedBoxNames,i?{$push:[i]}:{$push:[]})),this.setDistributions(S()(this.state.distributions,Object(g.a)({},e,{lastDroppedItem:{$set:t},totalDroppedItems:{$push:[t]}}))),this.saveTotalDroppedItems(this.state.distributions[t.distribution].totalDroppedItems,t.distribution_name,t.distribution)}},{key:"setDistributionSize",value:function(e){this.setState({distributionSize:e})}},{key:"componentWillMount",value:function(){var e=localStorage.getItem("cartesian: size");e&&(this.setDistributionSize(e),G()("#cartesian").attr("data-size",this.state.distributionSize),G()("#templated").attr("data-size",this.state.distributionSize),G()("#unit_size").val(this.state.distributionSize))}},{key:"render",value:function(){var e=this,t=this;function i(e,i){return Object(n.jsx)("div",{className:"draggable-box-container",children:Object(n.jsx)(ne,Object(m.a)({id:i,name:e.name,type:e.type,uniqid:e.uniqid,distribution:e.distribution,image:e.image,width:e.size.width,height:e.size.height,isDropped:(a=e.name,t.state.droppedBoxNames.indexOf(a)>-1),description:e.description,distribution_name:e.distribution_name},e),i)},i);var a}var a=[],o=[],s=[],r=[];this.state.boxes.map((function(e,t){switch(e.element_type){case f.ElementType.INPUTS:r.push([e,t]);break;case f.ElementType.OUTPUTS:a.push([e,t]);break;case f.ElementType.THROUGH_OUTPUTS:o.push([e,t]);break;case f.ElementType.ADDONS:s.push([e,t])}}));return Object(n.jsxs)("div",{className:"AppInnerContainer",children:[Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col col-lg-4 col-md-4 col-sm-4",id:"boxes_container_draggable_holder",children:Object(n.jsxs)("div",{className:"boxes-container-draggable",id:"boxes_container_draggable","sliding-panel":"off",children:[Object(n.jsxs)("div",{style:{overflow:"hidden",clear:"both",marginTop:"15px",position:"relative"},className:"boxes-container",children:[Object(n.jsx)("em",{children:r.length>0?r[0][0].element_type:""},"0"),Object(n.jsx)("div",{className:"draggable-box-inputs",children:r.map((function(e,t){return i(e[0],e[1])}))},"1")]},"3"),Object(n.jsxs)("div",{style:{overflow:"hidden",clear:"both",marginTop:"15px",position:"relative"},className:"boxes-container",children:[Object(n.jsx)("em",{children:a.length>0?a[0][0].element_type:""},"0"),Object(n.jsx)("div",{className:"draggable-box-inputs",children:a.map((function(e,t){return i(e[0],e[1])}))},"1")]},"1"),Object(n.jsxs)("div",{style:{overflow:"hidden",clear:"both",marginTop:"15px",position:"relative"},className:"boxes-container",children:[Object(n.jsx)("em",{children:o.length>0?o[0][0].element_type:""},"0"),Object(n.jsx)("div",{className:"draggable-box-inputs",children:o.map((function(e,t){return i(e[0],e[1])}))},"1")]}),Object(n.jsxs)("div",{style:{overflow:"hidden",clear:"both",marginTop:"15px",position:"relative"},className:"boxes-container",children:[Object(n.jsx)("em",{children:s.length>0?s[0][0].element_type:""},"0"),Object(n.jsx)("div",{className:"draggable-box-inputs",children:s.map((function(e,t){return i(e[0],e[1])}))},"1")]},"2")]},"1111")}),Object(n.jsx)("div",{className:"col col-lg-8 col-md-8 col-sm-8",id:"distros_designer","sliding-panel":"off",style:{backgroundSize:.45*(R.__singletonRef.controller.state.value-50+100)+"%"},children:Object(n.jsx)("div",{style:{overflow:"hidden",clear:"both"},children:Object(n.jsx)("div",{style:ce,className:"templated-distributions-container",children:this.state.distributions.map((function(t,i){var a=t.accepts,o=t.lastDroppedItem,s=t.totalDroppedItems,r=t.e_name;return Object(n.jsx)(ae,{container:e,accept:a,lastDroppedItem:o,totalDroppedItems:s,e_name:r,onDrop:function(t){return e.handleDrop(i,t)}},i)}))},"1")},"0000")})]}),this.state.dustbins.map((function(t,i){var a=t.accepts;return Object(n.jsx)($,{accept:a,onDrop:function(t){return e.handleDustBinDrop(i,t)}},i)}))]})}}]),i}(o.a.Component);i(246),i(247),i(250);var de=function(e){Object(u.a)(i,e);var t=Object(p.a)(i);function i(e){var n;Object(c.a)(this,i),(n=t.call(this,e)).id="distribution_front_side",n.viewBox="",n.state={change:!1,value:50},n.viewBox=n.props.viewBox,n.paper=window.Snap("#"+n.id),n.g=n.paper.g(),n.image=n.image.bind(Object(d.a)(n)),n.objects=n.objects.bind(Object(d.a)(n)),n.type_mapping=n.type_mapping.bind(Object(d.a)(n)),n.importAllObjects=n.importAllObjects.bind(Object(d.a)(n)),n.importCartesianObjectsByCache=n.importCartesianObjectsByCache.bind(Object(d.a)(n)),n.importCartesianObjectsByCache=n.importCartesianObjectsByCache.bind(Object(d.a)(n)),n.draw=n.draw.bind(Object(d.a)(n)),n.changeSlider=n.changeSlider.bind(Object(d.a)(n)),n.obtainViewBox=n.obtainViewBox.bind(Object(d.a)(n)),n.object_types=Object.fromEntries(n.type_mapping()),n.importAllObjects("local_storage").then((function(e){return n.draw(e)})).catch((function(e){return console.error(e)}));var a=0,o=Object(d.a)(n);return G()("#"+n.id).mousedown((function(e){G()(this).css("cursor","grab"),0==a&&(a={x:e.clientX,y:e.clientY}),G()(this).mousemove((function(e){G()(this).css("cursor","grab");var t=e.clientX-a.x,i=e.clientY-a.y,n=o.obtainViewBox();n[0]-=t,n[1]-=i,n=n.map((function(e){return e.toString()})),o.viewBox=n.join(" "),o.setState({change:!o.state.change})}))})).mouseup((function(){G()(this).css("cursor","default"),G()(this).unbind("mousemove"),a=0})).mouseout((function(){G()(this).css("cursor","default"),G()(this).unbind("mousemove")})),n.showGrid=n.showGrid.bind(Object(d.a)(n)),n.showWheel=n.showWheel.bind(Object(d.a)(n)),n}return Object(l.a)(i,[{key:"type_mapping",value:function(){return new Map([[_,"image"],[w,"image"]])}},{key:"objects",value:function(){return null}},{key:"image",value:function(e){for(var t=0;t<e.length;t++){var i=e[t].image,n=parseInt(e[t].width.replace("px","")),a=parseInt(e[t].height.replace("px","")),o=this.paper.image(i,e[t].left,e[t].top,(n/f.SCALE.FRONT_SIDE).toString()+"px",(a/f.SCALE.FRONT_SIDE).toString()+"px");this.g.add(o)}}},{key:"importAllObjects",value:function(e){var t=this;return new Promise((function(i,n){try{"local_storage"==e?t.objects=t.importCartesianObjectsByCache():"database"==e&&(t.objects=t.importCartesianObjectsFromDatabase())}catch(a){n(a)}i(t.objects)}))}},{key:"importCartesianObjectsByCache",value:function(){var e=window.localStorage.getItem("cartesian: items");return JSON.parse(e)}},{key:"importCartesianObjectsFromDatabase",value:function(){return null}},{key:"draw",value:function(e){var t=null;for(var i in e)e[i].type in this.object_types&&(t=this.object_types[e[i].type]);null!=t&&this[t](e)}},{key:"obtainViewBox",value:function(e){return e.split(" ").map((function(e){return parseInt(e)}))}},{key:"changeSlider",value:function(e){var t=this.obtainViewBox(this.props.viewBox),i=this.obtainViewBox(this.viewBox),n=e.target.value;i[2]=t[2]+20*n,i[3]=t[3]+20*n,i=i.map((function(e){return e.toString()})),this.viewBox=i.join(" "),this.setState({change:!this.state.change}),this.setState({value:n})}},{key:"showGrid",value:function(){}},{key:"showWheel",value:function(){}},{key:"render",value:function(){return G()(document.getElementById(this.id)).attr("viewBox",this.viewBox),Object(n.jsxs)("div",{className:"distros_controls",children:[Object(n.jsx)("input",{type:"range",name:"zoom",id:"zoom",min:"-50",max:"0",step:"1",value:this.state.value,onChange:this.changeSlider}),Object(n.jsx)("input",{title:"Show Grid",type:"checkbox",name:"show_grid",id:"show_grid",value:"",onChange:this.showGrid}),Object(n.jsx)("input",{title:"Display Wheel",type:"checkbox",name:"show_wheel",id:"show_wheel",value:"",onChange:this.showWheel})]})}}]),i}(o.a.Component),ue=function(e){Object(u.a)(i,e);var t=Object(p.a)(i);function i(e){var n;Object(c.a)(this,i),(n=t.call(this,e)).id="distribution_rear_side",n.paper=window.Snap("#"+n.id),n.image=n.image.bind(Object(d.a)(n)),n.objects=n.objects.bind(Object(d.a)(n)),n.type_mapping=n.type_mapping.bind(Object(d.a)(n)),n.importAllObjects=n.importAllObjects.bind(Object(d.a)(n)),n.importCartesianObjectsByCache=n.importCartesianObjectsByCache.bind(Object(d.a)(n)),n.importCartesianObjectsByCache=n.importCartesianObjectsByCache.bind(Object(d.a)(n)),n.draw=n.draw.bind(Object(d.a)(n)),n.object_types=Object.fromEntries(n.type_mapping()),n.importAllObjects("local_storage").then((function(e){return n.draw(e)})).catch((function(e){return console.error(e)}));var a=0,o=Object(d.a)(n);return G()("#"+n.id).mousedown((function(e){G()(this).css("cursor","grab"),0==a&&(a={x:e.clientX,y:e.clientY}),G()(this).mousemove((function(e){G()(this).css("cursor","grab");var t=e.clientX-a.x,i=e.clientY-a.y,n=o.obtainViewBox();n[0]-=t,n[1]-=i,n=n.map((function(e){return e.toString()})),o.viewBox=n.join(" "),o.setState({change:!o.state.change})}))})).mouseup((function(){G()(this).css("cursor","default"),G()(this).unbind("mousemove"),a=0})).mouseout((function(){G()(this).css("cursor","default"),G()(this).unbind("mousemove")})),n}return Object(l.a)(i,[{key:"type_mapping",value:function(){return new Map([[I,this.image],[D,this.image],[E,this.image],[T,this.image],[C,this.image],[k,this.image],[B,this.image],[z,this.image],[N,this.image]])}},{key:"objects",value:function(){return null}},{key:"image",value:function(e){for(var t=0;t<e.length;t++){var i=e[t].image,n=parseInt(e[t].width.replace("px","")),a=parseInt(e[t].height.replace("px",""));this.paper.image(i,e[t].left,e[t].top,(n/f.SCALE.FRONT_SIDE).toString()+"px",(a/f.SCALE.FRONT_SIDE).toString()+"px")}}},{key:"importAllObjects",value:function(e){var t=this;return new Promise((function(i,n){try{"local_storage"==e?t.objects=t.importCartesianObjectsByCache():"database"==e&&(t.objects=t.importCartesianObjectsFromDatabase())}catch(a){n(a)}i(t.objects)}))}},{key:"importCartesianObjectsByCache",value:function(){var e=window.localStorage.getItem("cartesian: items");return JSON.parse(e)}},{key:"importCartesianObjectsFromDatabase",value:function(){return null}},{key:"draw",value:function(e){var t=null;for(var i in e)e[i].type in this.object_types&&(t=this.object_types[e[i].type]);null!=t&&this[t](e)}},{key:"obtainViewBox",value:function(){return this.viewBox.split(" ").map((function(e){return parseInt(e)}))}},{key:"render",value:function(){return G()(document.getElementById(this.id)).attr("viewBox",this.props.viewBox),Object(n.jsx)("input",{type:"range",name:"zoom",id:"zoom",min:"0",max:"50",step:"1",onChange:this.changeSlider})}}]),i}(o.a.Component),pe=function(e){Object(u.a)(i,e);var t=Object(p.a)(i);function i(e){var n;return Object(c.a)(this,i),(n=t.call(this,e)).colors=[{size:"24U",color:"rgb(50, 55, 165)"},{size:"20U",color:"rgb(150, 55, 105)"},{size:"16U",color:"rgb(20, 155, 105)"},{size:"12U",color:"rgb(50, 155, 165)"},{size:"8U",color:"rgb(150, 55, 165)"}],n.state={svg_monitoring:!1,svg_power:!1,snapToGridAfterDrop:!0,snapToGridWhileDragging:!0,viewBox:"",value:10,change:!1},R.__singletonRef=new R,R.__singletonRef.controller=Object(d.a)(n),n.changeToMonitoring=n.changeToMonitoring.bind(Object(d.a)(n)),n.changeToPower=n.changeToPower.bind(Object(d.a)(n)),n.changeToDefault=n.changeToDefault.bind(Object(d.a)(n)),n.cartesianWidth=null,n.cartesianHeight=null,n.templateWidth=null,n.templateHeight=null,n.changeGridSizes=n.changeGridSizes.bind(Object(d.a)(n)),n.showPanel=n.showPanel.bind(Object(d.a)(n)),1==JSON.parse(localStorage.getItem("designer: slider"))?n.sliding=JSON.parse(localStorage.getItem("designer: slider")):n.sliding=!1,n.toggleSliging=n.toggleSliging.bind(Object(d.a)(n)),n.changeUnitSize=n.changeUnitSize.bind(Object(d.a)(n)),n}return Object(l.a)(i,[{key:"changeToMonitoring",value:function(){this.setState({svg_monitoring:!0,svg_power:!1,viewBox:"0 0 "+(this.cartesianWidth*f.SCALE.FRONT_SIDE).toString()+" "+(this.cartesianHeight*f.SCALE.FRONT_SIDE).toString()}),G()(document.body).css("overflow","hidden"),G()(document.documentElement).css("overflow","hidden")}},{key:"changeToPower",value:function(){this.setState({svg_monitoring:!1,svg_power:!0,viewBox:"0 0 "+(this.templateWidth*f.SCALE.REAR_SIDE).toString()+" "+(this.cartesianHeight*f.SCALE.REAR_SIDE).toString()}),G()(document.body).css("overflow","hidden"),G()(document.documentElement).css("overflow","hidden")}},{key:"changeToDefault",value:function(){this.setState({svg_monitoring:!1,svg_power:!1,viewBox:""}),G()(document.body).css("overflow","visible"),G()(document.documentElement).css("overflow","visible")}},{key:"componentDidMount",value:function(){this.cartesianWidth||(this.cartesianWidth=G()(".cartesian").width()),this.cartesianHeight||(this.cartesianHeight=G()(".cartesian").height()),this.templateWidth||(this.templateWidth=G()(".templated").width()),this.templateHeight||(this.templateHeight=G()(".templated").height()),localStorage.getItem("cartesian: size")&&(G()(document.getElementById("cartesian")).attr("data-size",localStorage.getItem("cartesian: size")),G()(document.getElementById("templated")).attr("data-size",localStorage.getItem("templated: size")))}},{key:"changeGridSizes",value:function(e){var t=e.target.value-50+100;G()("#cartesian_distribution_container").css("backgroundSize",t+"%"),G()("#templated_distribution_container").css("backgroundSize",t+"%"),G()("#distros_designer").css("backgroundSize",.45*t+"%"),localStorage.setItem("cartesian: grid",JSON.stringify({size:t})),localStorage.setItem("templated: grid",JSON.stringify({size:t})),this.setState({value:e.target.value})}},{key:"componentWillMount",value:function(){var e=JSON.parse(localStorage.getItem("cartesian: grid"));e&&"size"in e&&this.setState({value:e.size-100+50})}},{key:"showPanel",value:function(e){return this.toggleSliging(),G()("#boxes_container_draggable, #distros_designer").attr("sliding-panel",this.sliding?"on":"off"),G()(e.target).toggleClass("fa-anchor").toggleClass("fa-bars"),G()("#distros_designer").toggleClass("col-lg-8 col-sm-8 col-md-8").toggleClass("col-lg-12 col-sm-12 col-md-12"),e.preventDefault(),!1}},{key:"toggleSliging",value:function(){this.sliding=!this.sliding,localStorage.setItem("designer: slider",this.sliding.toString()),G()("#boxes_container_draggable").css("width","100%")}},{key:"changeUnitSize",value:function(e){var t=e.target;G()(document.getElementById("cartesian")).attr("data-size",G()(t).val()),G()(document.getElementById("templated")).attr("data-size",G()(t).val()),localStorage.setItem("cartesian: size",G()(t).val()),localStorage.setItem("templated: size",G()(t).val());var i=new Map([["24U",1137],["20U",937],["16U",743],["12U",550],["8U",350]]);i=Object.fromEntries(i),G()("#templated, #cartesian").css("height",(.4*G()(document).width()/681*1455).toString()+"px"),G()("#templated_distribution_container").css("height",(i[G()(t).val()]*G()(document.getElementById("templated")).outerWidth()/681).toString()+"px"),G()("#cartesian_distribution_container").css("height",(i[G()(t).val()]*G()(document.getElementById("cartesian")).outerWidth()/681).toString()+"px")}},{key:"render",value:function(){var e=this,t=null,i=null,a=Object(n.jsxs)("div",{className:"buttons",children:[Object(n.jsxs)("div",{className:"header-logo row",children:[Object(n.jsx)("div",{className:"col col-lg-4 col-md-4 col-sm-4",children:Object(n.jsx)("h2",{className:"header-tagline",style:{color:"#b00110"},children:"Customize your Distro"})}),Object(n.jsxs)("div",{className:"col col-lg-4 col-md-4 col-sm-4",id:"header_controls",children:[Object(n.jsx)("button",{onClick:this.changeToMonitoring,children:"Monitoring"}),Object(n.jsx)("button",{onClick:this.changeToPower,children:"Power"}),Object(n.jsx)("br",{}),Object(n.jsx)("input",{type:"range",name:"zoom",id:"zoom",min:"0",max:"100",step:"1",value:this.state.value,onChange:this.changeGridSizes}),Object(n.jsx)("br",{}),Object(n.jsx)("select",{defaultValue:localStorage.getItem("cartesian: size"),name:"unit_size",id:"unit_size",style:{fontSize:"48px",color:"rgb(50, 55, 165)"},onChange:this.changeUnitSize,children:this.colors.map((function(e,t){var i=e.size,a=e.color;return Object(n.jsx)("option",{style:{fontSize:"48px",color:a},value:i,children:i},i)}))}),Object(n.jsx)("br",{})]}),Object(n.jsx)("div",{className:"col col-lg-4 col-md-4 col-sm-4",children:Object(n.jsx)("div",{className:"header-logo-image-container",children:Object(n.jsx)("img",{src:"images/logo/power_distros_logo-01.png",width:"60%",alt:"Power Distros Logo",title:"Power Distros Logo"})})})]}),Object(n.jsxs)("div",{className:"header-tag-full",style:{padding:"3px 20px",width:"100%",backgroundColor:"#4a0d12",color:"white",fontSize:"24px",textAlign:"left"},children:[Object(n.jsx)("i",{className:"fas fa-anchor",style:{color:"red",cursor:"alias"},onClick:this.showPanel}),Object(n.jsx)("nav",{className:"menu-navigation",children:Object(n.jsxs)("ul",{className:"menu_navigation",id:"menu_navigation",children:[Object(n.jsx)("li",{className:"menu-item",children:"NEW"}),Object(n.jsx)("li",{className:"menu-item",children:"OPEN"}),Object(n.jsx)("li",{className:"menu-item",children:"SAVE"}),Object(n.jsx)("li",{className:"menu-item",children:"PRINT"})]})})]})]});return 1==this.state.svg_monitoring?t=Object(n.jsx)(de,{viewBox:this.state.viewBox}):1==this.state.svg_power?t=Object(n.jsx)(ue,{viewBox:this.state.viewBox}):i=Object(n.jsx)("div",{className:"bodyContainer",children:Object(n.jsx)("div",{className:"AppInnerContainerHolder",children:Object(n.jsx)(le,{ref:function(t){return e.containerRef=t},snapToGrid:this.state.snapToGridAfterDrop})})}),Object(n.jsxs)("div",{className:"container-fluid",children:[a,i,t]})}}]),i}(o.a.Component),me=i(251),ge=i(87);var he=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(me.a,{backend:ge.a,children:Object(n.jsx)(pe,{})})})};var be=function(){return Object(n.jsx)(he,{})},je=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,255)).then((function(t){var i=t.getCLS,n=t.getFID,a=t.getFCP,o=t.getLCP,s=t.getTTFB;i(e),n(e),a(e),o(e),s(e)}))};r.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(be,{})}),document.getElementById("root")),je()}},[[248,1,2]]]);
//# sourceMappingURL=main.d768b4ac.chunk.js.map