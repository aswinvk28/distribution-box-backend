{"version":3,"sources":["components/ItemTypes.js","components/Constants.js","components/Singleton.js","components/snapToGrid.js","components/Uniqid.js","components/DistributionMenu.js","components/GridBox.js","components/HighlightComponent.js","components/Distribution.js","components/Box.js","components/DraggableBox.js","components/TableDist.js","components/Container.js","components/CustomDragLayer.js","components/FrontSide.js","components/RearSide.js","components/Controller.js","components/DrawingApp.js","App.js","reportWebVitals.js","index.js"],"names":["ItemTypes","PLUGS","SOCKETS","PILOT_LIGHTS","MULTIMETER","LIVE_PINS_INPUT","LIVE_PINS_OUTPUT","PINS_INPUT_1","PINS_INPUT_2","PLUGS_1","PLUGS_2","PLUGS_3","PLUGS_4","PLUGS_5","SOCKETS_1","SOCKETS_2","SOCKETS_3","WHEEL_24U","WHEEL_20U","WHEEL_16U","WHEEL_12U","WHEEL_8U","GRID_24U","GRID_20U","GRID_16U","GRID_12U","GRID_8U","BREAKERS","SIZES","Map","Constants","useLocalStorage","gridSize","drawingScale","ElementType","INPUTS","OUTPUTS","THROUGH_OUTPUTS","ADDONS","BOXES","RCD","MCB","RCBO","SCALE","FRONT_SIDE","REAR_SIDE","Object","fromEntries","Singleton","item","shortClassName","name","className","id","uniqid","distributions","__singletonRef","controller","containerRef","state","totalDroppedItems","distribution","items","i","push","breaker_item","cartesian_totalDroppedItems","new_items","localStorage","setItem","JSON","stringify","setState","distribution_name","snapToGrid","x","y","grid_value","Math","round","Uniqid","now","Date","MD5","getTime","toString","DistributionMenu","props","mcb","rcd","rcbo","container","handleClick","bind","changeToMCB","changeToRCD","changeToRCBO","event","this","removeItem","box_item","breaker_type","preventDefault","e_name","index","getTotalDroppedItems","new_breaker_item","map","left","top","width","size","height","getGridBoxId","dragElementId","dist1","setTotalDroppedItems","dist2","setDistributions","image","type","menu","onClick","title","disableWhileShiftPressed","src","alt","React","Component","style","border","backgroundColor","padding","marginRight","marginBottom","cursor","float","zIndex","GridBox","description","breaker","isDropped","useDrag","bbox","collect","monitor","getItem","opacity","isDragging","initialOffset","getInitialClientOffset","currentOffset","getSourceClientOffset","clientOffset","getClientOffset","canDrag","drag","preview","useState","setMCB","setRCD","setRCBO","useEffect","getEmptyImage","captureDraggingState","useLayoutEffect","grid_heights","setX","setY","sub","fromEvent","document","pipe","clientX","clientY","subscribe","newX","newY","window","scrollX","scrollY","unsubscribe","setDragDrop","parseFloat","replace","getBBox","doSnapToGrid","offset","$","dragElement","find","w","h","saveItem","useMousePosition","ref","HighlightComponent","getElementById","position","display","backgroundSize","textAlign","fontSize","lineHeight","Distribution","accept","lastDroppedItem","onDrop","useDrop","drop","isOver","canDrop","diffOffset","getInitialSourceClientOffset","undefined","hover","highlightComponent","$elem","drag_drop","distributionSize","setDistributionSize","heights","outerWidth","distribution_width","grid_width","grid_height","data-size","marginLeft","Box","backgroundImage","borderRadius","backgroundRepeat","backgroundPosition","getStyles","transform","WebkitTransform","DraggableBox","Fragment","fontWeight","TableDist","plugsAndSockets","color","Container","boxes","droppedBoxNames","drawing_scale","breakers","slide","inputs","outputs","through_outputs","addons","slide_keys","releaseElementState","cartesianDroppedItems","templatedDroppedItems","parse","handleDrop","order","element_type","default","accepts","setDroppedBoxNames","saveTotalDroppedItems","slideDown","value","force","dist","update","$set","assign","$push","attr","val","target","text","toLowerCase","slideUp","instance","renderBox","boxName","indexOf","element_outputs","element_through_outputs","element_addons","element_live_inputs","element_pins_inputs","display_accordion_hide","display_accordion_show","sliding-panel","sliding","overflow","clear","marginTop","data-element","selectRef","defaultValue","onChange","changeUnitSize","colors","length","element","flex","FrontSide","viewBox","change","grid","wheel","MonitoringViewBox","paper","Snap","g","objects","type_mapping","wheel_image","grid_image","importAllObjects","importCartesianObjectsByCache","draw","changeSlider","obtainViewBox","mousePosition","mousedown","event1","css","mousemove","event2","difference","v","join","mouseup","unbind","mouseout","showGrid","showWheel","wheel_svg","grid_svg","prepend","wheelEl","gridEl","add","cache","Promise","resolve","reject","importCartesianObjectsFromDatabase","err","function_to_execute","object_types","f","vb","split","parseInt","remove","then","catch","console","error","min","max","step","RearSide","PowerViewBox","Controller","hoverState","file","margin_top","svg_monitoring","svg_power","snapToGridAfterDrop","snapToGridWhileDragging","monitoring_show","power_show","alert_text","alert_title","alert_box","drawing_name","changeToSVGDrawing","changeToDefault","cartesianWidth","cartesianHeight","templateWidth","templateHeight","changeGridSizes","showPanel","toggleSliging","home","showMenuTree","alertUserOnUnitSizeChange","showAlert","createNewDiagram","saveDiagram","print","scaled_grid_heights","values","sizes_keys","keys","show","body","documentElement","Confirm","cartesian_value","toggleClass","Error","select","current_box","e","message","checked","hide","cartesian","templated","cartesian_size","templated_size","axios","post","HOSTNAME_URL","qs","headers","res","Alert","elem","designer","buttons","margin","setCache","DrawingApp","DndProvider","backend","HTML5Backend","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render"],"mappings":"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","file":"static/js/main.ee87deb6.chunk.js","sourcesContent":["export const ItemTypes = {\r\n    PLUGS: 'Plugs',\r\n    SOCKETS: 'Sockets',\r\n    PILOT_LIGHTS: 'Pilot Lights',\r\n    MULTIMETER: 'Multimeter',\r\n    LIVE_PINS_INPUT: 'Live Pins Input',\r\n    LIVE_PINS_OUTPUT: 'Loop Through',\r\n    PINS_INPUT_1: 'Pins Input@1',\r\n    PINS_INPUT_2: 'Pins Input@2',\r\n    PLUGS_1: 'Plugs@1',\r\n    PLUGS_2: 'Plugs@2',\r\n    PLUGS_3: 'Plugs@3',\r\n    PLUGS_4: 'Plugs@4',\r\n    PLUGS_5: 'Plugs@5',\r\n    SOCKETS_1: 'Sockets@1',\r\n    SOCKETS_2: 'Sockets@2',\r\n    SOCKETS_3: 'Sockets@3',\r\n    WHEEL_24U: 'Wheel-24U',\r\n    WHEEL_20U: 'Wheel-20U',\r\n    WHEEL_16U: 'Wheel-16U',\r\n    WHEEL_12U: 'Wheel-12U',\r\n    WHEEL_8U: 'Wheel-8U',\r\n    GRID_24U: 'Grid-24U',\r\n    GRID_20U: 'Grid-20U',\r\n    GRID_16U: 'Grid-16U',\r\n    GRID_12U: 'Grid-12U',\r\n    GRID_8U: 'Grid-8U',\r\n    BREAKERS: 'Breaker'\r\n}\r\n","import { ItemTypes } from './ItemTypes';\n\nconst ElementType = {\n    INPUTS: 'Inputs',\n    OUTPUTS: 'Outputs',\n    THROUGH_OUTPUTS: 'Through Output',\n    ADDONS: 'Add-ons',\n    BOXES: 'Boxes',\n    RCD: 'RCD',\n    MCB: 'MCB',\n    RCBO: 'RCBO'\n};\n\nconst COLORS = {\n    'BRAND_TITLE': 'b00110',\n    \n}\n\nconst SCALE = {\n    FRONT_SIDE: 5,\n    REAR_SIDE: 5\n};\n\nconst SIZES = new Map([\n    [ItemTypes.PLUGS_1, [50,50.4]],\n    [ItemTypes.PLUGS_2, [29,34.3]],\n    [ItemTypes.PLUGS_3, [29,36.14]],\n    [ItemTypes.PLUGS_4, [29,36.1]],\n    [ItemTypes.PLUGS_5, [29,36.91]],\n    [ItemTypes.SOCKETS_1, [50,50]],\n    [ItemTypes.SOCKETS_2, [24,24]],\n    [ItemTypes.SOCKETS_3, [28,31.4]],\n    [ItemTypes.PINS_INPUT_1, [50,50.7]],\n    [ItemTypes.PINS_INPUT_2, [42,42]],\n    [ItemTypes.LIVE_PINS_INPUT, [180,35]],\n    [ItemTypes.LIVE_PINS_OUTPUT, [180,35]],\n    [ItemTypes.MULTIMETER, [120,60]],\n    [ItemTypes.PILOT_LIGHTS, [72,60]],\n    [ItemTypes.BREAKERS, [50,50]],\n    [ItemTypes.WHEEL_24U, [681,1455]],\n    [ItemTypes.WHEEL_20U, [681,1254]],\n    [ItemTypes.WHEEL_16U, [681,1060]],\n    [ItemTypes.WHEEL_12U, [681,865]],\n    [ItemTypes.WHEEL_8U, [681,670]],\n    [ItemTypes.GRID_24U, [510,1183]],\n    [ItemTypes.GRID_20U, [510,983]],\n    [ItemTypes.GRID_16U, [510,783]],\n    [ItemTypes.GRID_12U, [510,583]],\n    [ItemTypes.GRID_8U, [510,403]],\n]);\n\nconst Constants = {\n    useLocalStorage: true,\n    gridSize: 15,\n    drawingScale: 0.47,\n    ElementType: ElementType,\n    SCALE: SCALE,\n    SIZES: Object.fromEntries(SIZES)\n};\n\nexport default Constants;\n","class Singleton {\r\n\r\n    static controller = null\r\n\r\n    static getGridBoxId(item) {\r\n        let shortClassName = \"grid-box-item-\" + item.name;\r\n        let className = \"grid-box \" + shortClassName;\r\n        return {shortClassName: shortClassName, className: className, id: shortClassName + \"-\" + item.uniqid};\r\n    }\r\n\r\n    static removeItem(item) {\r\n        let distributions = Singleton.__singletonRef.controller.containerRef.state['distributions'];\r\n        let totalDroppedItems = distributions[item.distribution].totalDroppedItems;\r\n        let items = [];\r\n        for(var i in totalDroppedItems) {\r\n            if(totalDroppedItems[i].uniqid !== item.uniqid) {\r\n                items.push(totalDroppedItems[i]);\r\n            }\r\n        }\r\n        if(item.breaker_item) {\r\n            let cartesian_totalDroppedItems = distributions[1].totalDroppedItems;\r\n            let new_items = [];\r\n            for(var i in cartesian_totalDroppedItems) {\r\n                if(cartesian_totalDroppedItems[i].uniqid !== item.breaker_item.uniqid) {\r\n                    new_items.push(cartesian_totalDroppedItems[i]);\r\n                }\r\n            }\r\n            distributions[1].totalDroppedItems = new_items;\r\n            localStorage.setItem(\"cartesian: items\", JSON.stringify(new_items));\r\n        }\r\n        distributions[item.distribution].totalDroppedItems = items;\r\n        Singleton.__singletonRef.controller.containerRef.setState({distributions: distributions});\r\n        localStorage.setItem(item.distribution_name + \": items\", JSON.stringify(items));\r\n    }\r\n\r\n}\r\n\r\nexport default Singleton;","import Constants from './Constants';\r\nimport Singleton from './Singleton';\r\n\r\nexport function snapToGrid(x, y) {\r\n    let grid_value = Singleton.__singletonRef.controller.state['value'] * 1.625 / 100 + 0.5;\r\n    const snappedX = Math.round(x / (Constants.gridSize * grid_value)) * Constants.gridSize * grid_value;\r\n    const snappedY = Math.round(y / (Constants.gridSize * grid_value)) * Constants.gridSize * grid_value;\r\n    return [snappedX, snappedY];\r\n}\r\n  ","import MD5 from \"crypto-js/md5\";\r\n\r\nexport default function Uniqid(name) {\r\n    const now = new Date();\r\n    return MD5(name + \"/\" + now.getTime().toString()).toString();\r\n}","import React, { useRef } from 'react';\r\nimport ReactDOM from \"react-dom\";\r\nimport { ContextMenuTrigger, ContextMenu, ContextMenuItem, Submenu } from 'rctx-contextmenu';\r\nimport Singleton from './Singleton';\r\nimport { ItemTypes } from './ItemTypes';\r\nimport Constants from './Constants';\r\nimport Uniqid from './Uniqid';\r\nimport $, { timers } from 'jquery';\r\n\r\nclass DistributionMenu extends React.Component {\r\n\r\n    state = {\r\n        mcb: false,\r\n        rcd: true,\r\n        rcbo: false\r\n    }\r\n    \r\n    constructor(props) {\r\n        super(props)\r\n        this.container = this.props.container;\r\n        this.handleClick = this.handleClick.bind(this);\r\n        this.changeToMCB = this.changeToMCB.bind(this);\r\n        this.changeToRCD = this.changeToRCD.bind(this);\r\n        this.changeToRCBO = this.changeToRCBO.bind(this);\r\n    }\r\n\r\n    handleClick(event) {\r\n        const { uniqid, distribution, distribution_name, breaker_item } = this.props;\r\n        Singleton.removeItem({ uniqid, distribution, distribution_name, breaker_item });\r\n    }\r\n\r\n    changeToMCB(event) {\r\n        let { breaker_item, box_item } = this.props;\r\n        if(breaker_item.breaker_type == Constants.ElementType.MCB) {\r\n            event.preventDefault();\r\n            return false;\r\n        }\r\n        const e_name = breaker_item.distribution_name;\r\n        const index = breaker_item.distribution;\r\n        let items = this.container.getTotalDroppedItems(index);\r\n        let new_breaker_item = null;\r\n\r\n        let new_items = [];\r\n        items.map((item, index) => {\r\n            if(item.uniqid == breaker_item.uniqid) {\r\n                new_breaker_item = {...this.container.state['breakers'][1]}; // mcb breaker\r\n                new_breaker_item.uniqid = Uniqid(new_breaker_item.name);\r\n                new_breaker_item.left = breaker_item.left;\r\n                new_breaker_item.top = breaker_item.top;\r\n                new_breaker_item.width = new_breaker_item.size.width;\r\n                new_breaker_item.height = new_breaker_item.size.height;\r\n                // able to move breaker_item\r\n                let {className, id} = Singleton.getGridBoxId({name: new_breaker_item.name, uniqid: new_breaker_item.uniqid});\r\n                new_breaker_item.dragElementId = id;\r\n                new_items.push(new_breaker_item);\r\n            } else {\r\n                new_items.push(item);\r\n            }\r\n        });\r\n\r\n        let dist1 = this.container.setTotalDroppedItems(new_items, index, e_name);\r\n        // save input/output element\r\n        items = this.container.getTotalDroppedItems(box_item.distribution);\r\n        new_items = [];\r\n        items.map((item, index) => {\r\n            if(item.uniqid == box_item.uniqid) {\r\n                box_item.breaker_item = new_breaker_item;\r\n                new_items.push(box_item);\r\n            } else {\r\n                new_items.push(item);\r\n            }\r\n        });\r\n        let dist2 = this.container.setTotalDroppedItems(new_items, box_item.distribution, box_item.distribution_name);\r\n        this.container.setDistributions([dist2[0], dist1[1]]);\r\n        this.setState({rcbo: false, rcd: false, mcb: true});\r\n    }\r\n\r\n    changeToRCD(event) {\r\n        let { breaker_item, box_item } = this.props;\r\n        if(breaker_item.breaker_type == Constants.ElementType.RCD) {\r\n            event.preventDefault();\r\n            return false;\r\n        }\r\n        const e_name = breaker_item.distribution_name;\r\n        const index = breaker_item.distribution;\r\n        // save breaker\r\n        let items = this.container.getTotalDroppedItems(index);\r\n        let new_breaker_item = null;\r\n        let new_items = [];\r\n        items.map((item, index) => {\r\n            if(item.uniqid == breaker_item.uniqid) {\r\n                new_breaker_item = {...this.container.state['breakers'][0]}; // rcd breaker\r\n                new_breaker_item.uniqid = Uniqid(new_breaker_item.name);\r\n                new_breaker_item.left = breaker_item.left;\r\n                new_breaker_item.top = breaker_item.top;\r\n                new_breaker_item.width = new_breaker_item.size.width;\r\n                new_breaker_item.height = new_breaker_item.size.height;\r\n                // able to move breaker_item\r\n                let {className, id} = Singleton.getGridBoxId({name: new_breaker_item.name, uniqid: new_breaker_item.uniqid});\r\n                new_breaker_item.dragElementId = id;\r\n                new_items.push(new_breaker_item);\r\n            } else {\r\n                new_items.push(item);\r\n            }\r\n        });\r\n        let dist1 = this.container.setTotalDroppedItems(new_items, index, e_name);\r\n        // save input/output element\r\n        items = this.container.getTotalDroppedItems(box_item.distribution);\r\n        new_items = [];\r\n        items.map((item, index) => {\r\n            if(item.uniqid == box_item.uniqid) {\r\n                box_item.breaker_item = new_breaker_item;\r\n                new_items.push(box_item);\r\n            } else {\r\n                new_items.push(item);\r\n            }\r\n        });\r\n        let dist2 = this.container.setTotalDroppedItems(new_items, box_item.distribution, box_item.distribution_name);\r\n        this.container.setDistributions([dist2[0], dist1[1]]);\r\n        this.setState({rcbo: false, rcd: true, mcb: false});\r\n    }\r\n\r\n    changeToRCBO(event) {\r\n        let { breaker_item, box_item } = this.props;\r\n        if(breaker_item.breaker_type == Constants.ElementType.RCBO) {\r\n            event.preventDefault();\r\n            return false;\r\n        }\r\n        const e_name = breaker_item.distribution_name;\r\n        const index = breaker_item.distribution;\r\n        // save breaker\r\n        let items = this.container.getTotalDroppedItems(index);\r\n        let new_breaker_item = null;\r\n        let new_items = [];\r\n        items.map((item, index) => {\r\n            if(item.uniqid == breaker_item.uniqid) {\r\n                new_breaker_item = {...this.container.state['breakers'][2]}; // rcbo breaker\r\n                new_breaker_item.uniqid = Uniqid(new_breaker_item.name);\r\n                new_breaker_item.left = breaker_item.left;\r\n                new_breaker_item.top = breaker_item.top;\r\n                new_breaker_item.width = new_breaker_item.size.width;\r\n                new_breaker_item.height = new_breaker_item.size.height;\r\n                // able to move breaker_item\r\n                let {className, id} = Singleton.getGridBoxId({name: new_breaker_item.name, uniqid: new_breaker_item.uniqid});\r\n                new_breaker_item.dragElementId = id;\r\n                new_items.push(new_breaker_item);\r\n            } else {\r\n                new_items.push(item);\r\n            }\r\n        });\r\n        let dist1 = this.container.setTotalDroppedItems(new_items, index, e_name);\r\n        // save input/output element\r\n        items = this.container.getTotalDroppedItems(box_item.distribution);\r\n        new_items = [];\r\n        items.map((item, index) => {\r\n            if(item.uniqid == box_item.uniqid) {\r\n                box_item.breaker_item = new_breaker_item;\r\n                new_items.push(box_item);\r\n            } else {\r\n                new_items.push(item);\r\n            }\r\n        });\r\n        let dist2 = this.container.setTotalDroppedItems(new_items, box_item.distribution, box_item.distribution_name);\r\n        this.container.setDistributions([dist2[0], dist1[1]]);\r\n        this.setState({rcbo: true, rcd: false, mcb: false});\r\n    }\r\n\r\n    render() {\r\n        let { image, name, type, width, height, uniqid, distribution, distribution_name, breaker_item, mcb, rcd, rcbo } = this.props;\r\n        this.item = {image, name, width, height};\r\n        let className = this.state['mcb'] ? \"mcb-item\" : this.state['rcd'] ? \"rcd-item\" : this.state['rcbo'] ? \"rcbo-item\" : \"\";\r\n        let menu = <ContextMenu id={\"context-menu-\"+uniqid}>\r\n                        <ContextMenuItem onClick={this.handleClick}>Remove</ContextMenuItem>\r\n                        <ContextMenuItem>\r\n                            <Submenu title=\"Breakers\">\r\n                                <ContextMenuItem onClick={this.changeToMCB}><i className=\"mcb-option fas fa-toggle-on\">-</i> MCB</ContextMenuItem>\r\n                                <ContextMenuItem onClick={this.changeToRCD}><i className=\"rcd-option fas fa-toggle-on\">-</i> RCD</ContextMenuItem>\r\n                                <ContextMenuItem onClick={this.changeToRCBO}><i className=\"rcbo-option fas fa-toggle-on\">-</i> RCBO</ContextMenuItem>\r\n                            </Submenu>\r\n                        </ContextMenuItem>\r\n                    </ContextMenu>;\r\n        if(type === ItemTypes.BREAKERS) {\r\n            menu = null;\r\n        } else if(type == ItemTypes.MULTIMETER || type == ItemTypes.PILOT_LIGHTS) {\r\n            menu = <ContextMenu id={\"context-menu-\"+uniqid}>\r\n                        <ContextMenuItem onClick={this.handleClick}>Remove</ContextMenuItem>\r\n                    </ContextMenu>;\r\n        }\r\n        return (\r\n            <div className={\"distribution-box-menu \"+className} id={\"distribution-box-menu-\"+uniqid} key={\"distribution-box-menu-\"+uniqid}>\r\n                <ContextMenuTrigger \r\n                    id={\"context-menu-\"+uniqid} disableWhileShiftPressed={true}\r\n                >\r\n                    <div className=\"box\">\r\n                        <img src={image} alt={name} title={name} width={width} height={height} />\r\n                    </div>\r\n                </ContextMenuTrigger>\r\n\r\n                {menu}\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default DistributionMenu;","import React, { useState, useCallback, useLayoutEffect } from 'react';\nimport { useDrag } from 'react-dnd';\nimport update from 'immutability-helper';\nimport { useEffect } from 'react'\nimport { fromEvent } from 'rxjs'\nimport { map, throttleTime } from 'rxjs/operators'\nimport { ItemTypes } from './ItemTypes';\nimport { snapToGrid as doSnapToGrid } from './snapToGrid';\nimport DistributionMenu from './DistributionMenu';\nimport $ from 'jquery';\nimport Singleton from './Singleton';\nimport Constants from './Constants';\nimport { getEmptyImage } from 'react-dnd-html5-backend';\nconst style = {\n    border: '0.5px dashed white',\n    backgroundColor: 'transparent',\n    padding: '0.1px',\n    marginRight: '1.5rem',\n    marginBottom: '1.5rem',\n    cursor: 'move',\n    float: 'left',\n    zIndex: 1000,\n};\n\nfunction getBBox(item) {\n    let bbox = [parseFloat(item.left.replace('px', '')), parseFloat(item.top.replace('px', '')), \n                parseFloat(item.left.replace('px', '')) + parseFloat(item.width.replace('px', '')), \n                parseFloat(item.top.replace('px', '')) + parseFloat(item.height.replace('px', ''))]\n    return bbox;\n}\n\nexport const GridBox = ({ name, type, uniqid, distribution, image, top, left, width, \n    height, distribution_name, description, container, breaker, breaker_item, box_item, e_name, isDropped }) => {\n    // specify an id for styling purposes\n    let {className, id} = Singleton.getGridBoxId({name, uniqid});\n\n    // useDrag denotes draggable\n    const [{ opacity, initialOffset, currentOffset, clientOffset, isDragging, canDrag }, drag, preview] = useDrag({\n        // add attributes here\n        item: { name, type, uniqid, distribution, image, width, height, distribution_name, description, \n            left: box_item.left, top: box_item.top, bbox: box_item.bbox, breaker_item: {} },\n        collect: (monitor) => ({\n            item: monitor.getItem(),\n            opacity: monitor.isDragging() ? 0.4 : 1,\n            initialOffset: monitor.getInitialClientOffset(),\n            currentOffset: monitor.getSourceClientOffset(),\n            clientOffset: monitor.getClientOffset(),\n            canDrag: monitor.canDrag(),\n            isDragging: monitor.isDragging()\n        }),\n    });\n\n    let [mcb, setMCB] = useState(false);\n    let [rcd, setRCD] = useState(false);\n    let [rcbo, setRCBO] = useState(false);\n    \n    // preview Image empty\n    useEffect(() => {\n        preview(getEmptyImage(), { captureDraggingState: true });\n    }, []);\n\n    useLayoutEffect(() => {\n        if(breaker_item && breaker_item.breaker_type == Constants.ElementType.RCD) {\n            setMCB(false);\n            setRCD(true);\n            setRCBO(false);\n        } else if(breaker_item && breaker_item.breaker_type == Constants.ElementType.MCB) {\n            setMCB(true);\n            setRCD(false);\n            setRCBO(false);\n        } else if(breaker_item && breaker_item.breaker_type == Constants.ElementType.RCBO) {\n            setMCB(false);\n            setRCD(false);\n            setRCBO(true);\n        }\n    }, []);\n\n    let grid_heights = Object.fromEntries(container.controller.grid_heights);\n\n    let position = useMousePosition();\n\n    // // mouse tracking\n    function useMousePosition() {\n        const [x, setX] = useState(null)\n        const [y, setY] = useState(null)\n\n        useLayoutEffect(() => {\n            // Subscribe to the mousemove event\n            const sub = fromEvent(document, 'drag')\n            // Extract out current mouse position from the event\n            .pipe(map(event => [event.clientX, event.clientY]))\n            // We have closure over the updater functions for our two state variables\n            // Use these updaters to bridge the gap between RxJS and React\n            .subscribe(([newX, newY]) => {\n                setX(newX + window.scrollX)\n                setY(newY + window.scrollY)\n            })\n\n            // When the component unmounts, remove the event listener\n            return () => {\n                sub.unsubscribe()\n            }\n            // We use [] here so that this effect fires exactly once.\n            // (After the first render)\n        }, [])\n\n        // moving\n        if(isDragging && x && y) {\n            container.setDragDrop(true);\n            let item = getItem(uniqid);\n            item.bbox = getBBox(item);\n            // let isOnTop = elementsOnTop(item, container.getTotalDroppedItems(item.distribution));\n            let [left, top] = doSnapToGrid(x, y);\n            let offset = {left: 0, top: 0};\n            if(distribution_name == \"cartesian\") {\n                offset = $('#cartesian_distribution_container').offset();\n            } else if(distribution_name == \"templated\") {\n                offset = $('#templated_distribution_container').offset();\n            }\n            let dragElement = $('#'+item.dragElementId).find('img');\n            let w = dragElement.width();\n            let h = dragElement.height();\n            // let breaker_item = item.breaker_item;\n            // save item\n            if(item && (left-offset['left']-w/2) >= 0 && (left-offset['left']-w/2) <= (Constants.drawingScale * 405) // !important\n            && (top-offset['top']-h/2) >= 0 && (top-offset['top']-h/2 <= (Constants.drawingScale * (grid_heights[container.state['distributionSize']]-85)))) { // !important\n                if(item.type == ItemTypes.LIVE_PINS_INPUT || item.type == ItemTypes.LIVE_PINS_OUTPUT) {\n                    item.left = '25px';\n                } else {\n                    item.left = (left-offset['left']-w/2)+'px';\n                }\n                item.top = (top-offset['top']-h/2)+'px';\n                saveItem(item);\n                // breaker_item attribute is null for others, no need to save the breaker item while moving parent input/output\n                // if(breaker_item) {\n                //     breaker_item.left = item.left;\n                //     breaker_item.top = item.top;\n                //     saveItem(breaker_item);\n                // }\n            }\n        } else {\n            container.setDragDrop(false);\n        }\n\n        return { mouseX: x, mouseY: y }\n    }\n    function getItem(uniqid) {\n        let items = container.getTotalDroppedItems(distribution);\n        for(var i in items) {\n            if(uniqid == items[i].uniqid) {\n                return items[i];\n            }\n        }\n        return null;\n    }\n    function saveItem(item) {\n        let items = container.getTotalDroppedItems(distribution);\n        for(var i in items) {\n            if(items[i].uniqid == item.uniqid) {\n                items[i] = item;\n                break;\n            }\n        }\n        container.setTotalDroppedItems(items, distribution, distribution_name);\n    }\n\n    return (<div ref={drag} style={{...style, opacity, top, left}} className={className} id={id}>\n            <DistributionMenu container={container} key={id} image={image} name={name} width={width} height=\"auto\" name={name} type={type} \n            uniqid={uniqid} distribution_name={distribution_name} distribution={distribution}\n            breaker_item={breaker_item} box_item={box_item}\n            mcb={mcb} rcd={rcd} rcbo={rcbo} />\n\t\t</div>);\n};","import React, { useState, useCallback, useEffect } from 'react';\r\nimport { fromEvent } from 'rxjs'\r\nimport { map, throttleTime } from 'rxjs/operators'\r\nimport { snapToGrid as doSnapToGrid } from './snapToGrid';\r\nimport $ from 'jquery';\r\n\r\nexport const HighlightComponent = ({ item, currentOffset, clientOffset }) => {\r\n    let width = $(document.getElementById(item.dragElementId)).width();\r\n    let height = $(document.getElementById(item.dragElementId)).height();\r\n\r\n    let id = \"highlight-component-\" + item.name;\r\n\r\n    return (\r\n        <div className=\"highlight-component\" id={id} style={{\r\n            position: 'absolute',\r\n            // opacity: 0.8,\r\n            display: 'block',\r\n            zIndex: 1,\r\n            backgroundColor: 'transparent',\r\n            // backgroundImage: 'url(\"images/power_box/canvas_grid-8u.png\")',\r\n            backgroundSize: '25%',\r\n            width: (width).toString() + 'px',\r\n            height: (height).toString() + 'px',\r\n        }}></div>\r\n    )\r\n}","import React, { useState, useCallback, useEffect, useLayoutEffect } from 'react';\r\nimport { fromEvent } from 'rxjs'\r\nimport { map, throttleTime } from 'rxjs/operators'\r\nimport { snapToGrid as doSnapToGrid } from './snapToGrid';\r\nimport { useDrop, useDrag } from 'react-dnd';\r\nimport { GridBox } from './GridBox';\r\nimport Constants from './Constants';\r\nimport { HighlightComponent } from './HighlightComponent';\r\nimport $ from 'jquery';\r\nimport Singleton from './Singleton';\r\nconst useLocalStorage = Constants.useLocalStorage;\r\n\r\nlet style = {\r\n    marginBottom: '0.5rem',\r\n    textAlign: 'center',\r\n    padding: '66px',\r\n    fontSize: '1rem',\r\n    lineHeight: 'normal'\r\n};\r\n\r\nfunction getBBox(item) {\r\n    let bbox = [parseFloat(item.left.replace('px', '')), parseFloat(item.top.replace('px', '')), \r\n                parseFloat(item.left.replace('px', '')) + parseFloat(item.width.replace('px', '')), \r\n                parseFloat(item.top.replace('px', '')) + parseFloat(item.height.replace('px', ''))]\r\n    return bbox;\r\n}\r\n\r\nexport const Distribution = ({ accept, lastDroppedItem, totalDroppedItems, e_name, container, onDrop, }) => {\r\n    let currentItem = null;\r\n\r\n    // useDrop denotes droppable\r\n    let [{ isOver, canDrop, initialOffset, currentOffset, clientOffset, diffOffset, item }, drop] = useDrop({\r\n        accept,\r\n        drop: onDrop,\r\n        collect: (monitor) => ({\r\n            isOver: monitor.isOver(),\r\n            canDrop: monitor.canDrop(),\r\n            initialOffset: monitor.getInitialClientOffset(),\r\n            currentOffset: monitor.getSourceClientOffset(),\r\n            clientOffset: monitor.getClientOffset(),\r\n            diffOffset: monitor.getInitialSourceClientOffset(),\r\n            item: monitor.getItem()\r\n        }),\r\n        canDrop: (item, monitor) => {\r\n            return (item.distribution != null) || (item.distribution != undefined) ? false : true;\r\n        },\r\n        hover: (item, monitor) => {\r\n            currentItem = item;\r\n            // specify an id for styling purposes\r\n            let id = \"element-box-item-\" + item.name;\r\n            item.dragElementId = id;\r\n            item.highlightComponent = \"highlight-component-\" + item.name;\r\n            return false;\r\n        }\r\n    });\r\n    const isActive = isOver && canDrop;\r\n    let backgroundColor = 'transparent';\r\n    if (isActive) {\r\n        backgroundColor = '#DDD';\r\n    }\r\n    else if (canDrop) {\r\n        backgroundColor = 'darkkhaki';\r\n    }\r\n    let $elem = <div></div>;\r\n    if(item && clientOffset && currentOffset && document.getElementById(item.dragElementId)) {\r\n        $elem = <HighlightComponent item={item} currentOffset={currentOffset}\r\n        clientOffset={clientOffset} />\r\n    }\r\n\r\n    let drag_drop = false;\r\n    if(canDrop || container.drag_drop) {\r\n        drag_drop = true;\r\n    } else {\r\n        drag_drop = false;\r\n    }\r\n\r\n    let position = useMousePosition();\r\n\r\n    // // mouse tracking\r\n    function useMousePosition() {\r\n        const [x, setX] = useState(null)\r\n        const [y, setY] = useState(null)\r\n\r\n        useEffect(() => {\r\n            // Subscribe to the mousemove event\r\n            const sub = fromEvent(document, 'drag')\r\n            // Extract out current mouse position from the event\r\n            .pipe(map(event => [event.clientX, event.clientY]))\r\n            // We have closure over the updater functions for our two state variables\r\n            // Use these updaters to bridge the gap between RxJS and React\r\n            .subscribe(([newX, newY]) => {\r\n                setX(newX + window.scrollX)\r\n                setY(newY + window.scrollY)\r\n            })\r\n\r\n            // When the component unmounts, remove the event listener\r\n            return () => {\r\n                sub.unsubscribe()\r\n            }\r\n            // We use [] here so that this effect fires exactly once.\r\n            // (After the first render)\r\n        }, [])\r\n\r\n        let offset = null;\r\n        let dragElement = null;\r\n        let w = null, h = null, bbox = null;\r\n\r\n        // left and top are saved on refresh\r\n        let [left, top] = doSnapToGrid(x, y);\r\n\r\n        if(item) {\r\n            bbox = getBBox(item);\r\n            item.bbox = bbox;\r\n            dragElement = $('#'+item.dragElementId).find('img')/*, highlightComponent = $('#'+item.highlightComponent)*/;\r\n            w = dragElement.width();\r\n            h = dragElement.height();\r\n\r\n            if(item.distribution_name == \"cartesian\") {\r\n                offset = $('#cartesian_distribution_container').offset();\r\n            } else if(item.distribution_name == \"templated\") {\r\n                offset = $('#templated_distribution_container').offset();\r\n            }\r\n\r\n            if(canDrop) {\r\n                if(item.distribution_name == \"cartesian\") {\r\n                    item.left = ((left-offset['left']-w/2)).toString() + \"px\"; // !important\r\n                    item.top = ((top-offset['top']-h/2)).toString() + \"px\"; // !important\r\n                } else if(item.distribution_name == \"templated\") {\r\n                    item.left = ((left-offset['left']-w/2)).toString() + \"px\"; // !important\r\n                    item.top = ((top-offset['top']-h/2)).toString() + \"px\"; // !important\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        return { mouseX: x, mouseY: y }\r\n    }\r\n\r\n    const [distributionSize, setDistributionSize] = useState('24U');\r\n    useLayoutEffect(() => {\r\n        const size = localStorage.getItem(\"cartesian: size\");\r\n        if (size) {\r\n            setDistributionSize(size);\r\n            // predetermined heights\r\n            heights = Object.fromEntries(container.controller.grid_heights);\r\n            document.getElementById(e_name + \"_distribution_container\").style.height = \r\n            (heights[distributionSize] * $(document.getElementById(e_name)).outerWidth() / 681).toString() + \"px\"; // outerWidth\r\n        }\r\n    }, [distributionSize]);\r\n\r\n    if(!totalDroppedItems) {\r\n        totalDroppedItems = [];\r\n    }\r\n\r\n    let distribution_width = (Constants.drawingScale * 681).toString() + 'px';\r\n    let grid_width = (Constants.drawingScale * 500).toString() + 'px';\r\n    let heights = Object.fromEntries(Singleton.__singletonRef.controller.heights);\r\n    let grid_heights = Object.fromEntries(Singleton.__singletonRef.controller.grid_heights);\r\n    // let distribution_height = (Constants.drawingScale * heights[container.state['distributionSize']]).toString() + 'px';\r\n    let grid_height = (Constants.drawingScale * grid_heights[container.state['distributionSize']]).toString() + 'px';\r\n    let padding = (66 * Constants.drawingScale).toString() + 'px';\r\n\r\n    return (<div className=\"col-lg-6 col-md-6 col-sm-6\">\r\n        <div style={{ ...style, padding, width: distribution_width }} className={e_name} id={e_name} data-size={container.state['distributionSize']}>\r\n\r\n\r\n            <div ref={drop} style={{ width: grid_width, height: grid_height, backgroundColor }} className=\"distribution_container\" id={e_name + \"_distribution_container\"}>\r\n            {$elem}\r\n                {\r\n                    totalDroppedItems.map((item, index) =>  {\r\n                        return (\r\n                            <GridBox container={container} name={item.name} type={item.type} uniqid={item.uniqid} key={\"gridbox-\" + index}\r\n                            distribution={item.distribution} image={item.image} e_name={e_name}\r\n                            top={item.top} left={item.left} width={item.width} height={item.height}\r\n                            distribution_name={item.distribution_name} description={item.description} \r\n                            breaker={item.breaker} breaker_item={item.breaker_item}\r\n                            bbox={item.bbox} box_item={item}\r\n                            isDropped={true} />\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n\t\t</div></div>);\r\n};\r\n","import React from 'react';\r\nimport { useDrag } from 'react-dnd';\r\nimport { ItemTypes } from './ItemTypes';\r\nconst style = {\r\n    border: '0px none',\r\n    backgroundColor: 'transparent',\r\n    padding: '0px',\r\n    marginRight: '1.5rem',\r\n    marginBottom: '0.25rem',\r\n    cursor: 'move',\r\n    zIndex: 100,\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto'\r\n};\r\nexport const Box = ({ name, type, uniqid, distribution, image, width, height, distribution_name, description, box_item, isDropped }) => {\r\n    // useDrag denotes draggable\r\n    const [{ opacity }, drag] = useDrag({\r\n        // add item attributes here\r\n        item: { name, type, uniqid, distribution, image, width, height, \r\n            distribution_name, description, breaker: box_item.breaker, bbox: box_item.bbox, left: box_item.left, top: box_item.top },\r\n        collect: (monitor) => {\r\n            return {\r\n                opacity: monitor.isDragging() ? 0.4 : 1\r\n            }\r\n        }\r\n    });\r\n    let className = \"box-item box-item-\" + name;\r\n    let w = parseFloat(width.replace('px', '')) + 12 + 'px';\r\n    return (<div ref={drag} style={{ ...style, opacity, width: w, border: '2px solid #fe0000',\r\n    backgroundImage: 'url(\"../images/power_box/canvas_grid-8u.png\")', padding: '4px 1.5px', \r\n    borderRadius: '3px', backgroundRepeat: 'no-repeat', backgroundPosition: '-5px -50px', \r\n    backgroundSize: '200px', backgroundColor: '#f3f3f3' }} className={className} id={\"element-box-item-\" + name}>\r\n            <img src={image} alt={name} title={name} width={width} height=\"auto\" /><br/>\r\n\t\t</div>);\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport { useDrag } from 'react-dnd';\r\nimport { ItemTypes } from './ItemTypes';\r\nimport { Box } from './Box';\r\nimport Constants from './Constants';\r\nfunction getStyles(left, top, isDragging) {\r\n    const transform = `translate3d(${left}px, ${top}px, 0)`;\r\n    return {\r\n        // IE fallback: hide the real node using CSS when dragging\r\n        // because IE will ignore our custom \"empty image\" drag preview.\r\n        opacity: isDragging ? 0 : 1,\r\n        height: isDragging ? 0 : '',\r\n        transform: transform,\r\n        WebkitTransform: transform,\r\n        left: left,\r\n        top: top,\r\n        marginBottom: '1.5rem'\r\n    };\r\n}\r\nexport const DraggableBox = (props) => {\r\n    const { name, type, uniqid, distribution, image, width, height, isDropped, left, top, distribution_name, description, box_item, id } = props;\r\n    const [{ isDragging }, drag, preview] = useDrag({\r\n        item: { name, type, uniqid, distribution, image, width, distribution_name },\r\n        collect: (monitor) => ({\r\n            isDragging: monitor.isDragging(),\r\n        }),\r\n    });\r\n    // function breaker() {\r\n    //     if('breaker' in box_item && 'default' in box_item.breaker) {\r\n    //         return (\r\n    //             <img className=\"breaker-default\" src={box_item.breaker.default.image} width=\"30px\" height=\"auto\" style={{marginLeft: \"15px\"}} />\r\n    //         )\r\n    //     } else if(box_item.element_type == Constants.ElementType.OUTPUTS) {\r\n    //         return (\r\n    //             <img className=\"breaker-default\" src=\"\" width=\"30px\" height=\"auto\" style={{marginLeft: \"15px\"}} />\r\n    //         )\r\n    //     }\r\n    //     return null;\r\n    // }\r\n    return (<div style={getStyles(left, top, isDragging)} className=\"draggable-box\" key={id}>\r\n            <Box name={name} type={type} uniqid={uniqid} distribution={distribution} image={image}\r\n            width={width} height={height} distribution_name={distribution_name} description={description} box_item={box_item}\r\n            isDropped={isDropped} />\r\n            <abbr style={{width: '100%', display: 'inline'}}><React.Fragment><b style={{fontWeight: 400, fontSize: '18px'}}>{description}</b></React.Fragment></abbr>\r\n\t\t</div>);\r\n};\r\n","import React, { useState, useCallback, useEffect } from 'react';\r\nimport $ from 'jquery';\r\nimport { Distribution } from './Distribution';\r\n\r\nexport default class TableDist extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n    }\r\n\r\n    render() {\r\n        const {accept, lastDroppedItem, totalDroppedItems, e_name, onDrop, index, drag_drop} = this.props;\r\n        this.e_name = e_name;\r\n        return (<Distribution container={this.props.container} accept={accept} \r\n            lastDroppedItem={lastDroppedItem} \r\n            totalDroppedItems={totalDroppedItems} \r\n            e_name={e_name}\r\n            onDrop={onDrop} key={index}/>\r\n        )\r\n    }\r\n\r\n}","import React, { useState, useCallback, useLayoutEffect } from 'react';\r\nimport { Distribution } from './Distribution';\r\nimport { Box } from './Box';\r\nimport { ItemTypes } from './ItemTypes';\r\nimport update from 'immutability-helper';\r\nimport Uniqid from './Uniqid';\r\nimport Constants from './Constants';\r\nimport { snapToGrid as doSnapToGrid } from './snapToGrid';\r\nimport { DraggableBox } from './DraggableBox';\r\nimport { useDrop } from 'react-dnd';\r\nimport TableDist from './TableDist';\r\nimport $ from 'jquery';\r\nimport Singleton from './Singleton';\r\nimport { Confirm } from 'react-st-modal';\r\nconst useLocalStorage = Constants.useLocalStorage;\r\n\r\nconst buckets = {\r\n    \"cartesian\": null, \r\n    \"templated\": null,\r\n};\r\n\r\nconst plugsAndSockets = [ItemTypes.PLUGS_1, ItemTypes.PLUGS_2, ItemTypes.PLUGS_3, ItemTypes.PLUGS_4, ItemTypes.PLUGS_5, \r\n    ItemTypes.SOCKETS_1, ItemTypes.SOCKETS_2, ItemTypes.SOCKETS_3, ItemTypes.LIVE_PINS_INPUT, ItemTypes.LIVE_PINS_OUTPUT, \r\n    ItemTypes.PINS_INPUT_1, ItemTypes.PINS_INPUT_2];\r\n    \r\n    const allTypes = [ItemTypes.PLUGS_1, ItemTypes.PLUGS_2, ItemTypes.PLUGS_3, ItemTypes.PLUGS_4, ItemTypes.PLUGS_5, \r\n        ItemTypes.SOCKETS_1, ItemTypes.SOCKETS_2, ItemTypes.SOCKETS_3, ItemTypes.PILOT_LIGHTS, \r\n        ItemTypes.MULTIMETER, ItemTypes.LIVE_PINS_INPUT, ItemTypes.LIVE_PINS_OUTPUT, \r\n    ItemTypes.PINS_INPUT_1, ItemTypes.PINS_INPUT_2];\r\n\r\nconst style = {\r\n    width: '100%',\r\n    // marginRight: '0.5rem',\r\n    marginBottom: '0.5rem',\r\n    color: '#ababab',\r\n    padding: '1rem',\r\n    textAlign: 'center',\r\n    fontSize: '1rem',\r\n    lineHeight: 'normal',\r\n    float: 'left',\r\n    height: '100%'\r\n};\r\n\r\nclass Container extends React.Component {\r\n\r\n    state = {\r\n        distributions: [],\r\n        boxes: [],\r\n        droppedBoxNames: [],\r\n        distributionSize: \"24U\",\r\n        drawing_scale: Constants.drawingScale,\r\n        breakers: []\r\n    }\r\n\r\n    slide = {\r\n        inputs: true,\r\n        outputs: false,\r\n        through_outputs: false,\r\n        addons: false,\r\n        boxes: true\r\n    }\r\n\r\n    slide_keys = new Map([\r\n        [Constants.ElementType.INPUTS, 'inputs'],\r\n        [Constants.ElementType.OUTPUTS, 'outputs'],\r\n        [Constants.ElementType.THROUGH_OUTPUTS, 'through_outputs'],\r\n        [Constants.ElementType.ADDONS, 'addons'],\r\n        [Constants.ElementType.BOXES, 'boxes'],\r\n    ])\r\n    \r\n    constructor(props) {\r\n        super(props)\r\n        this.controller = this.props.controller;\r\n        this.drag_drop = false;\r\n        this.releaseElementState = true;\r\n        Singleton.__singletonRef.controller.container = this;\r\n        let cartesianDroppedItems = null, templatedDroppedItems = null;\r\n        if(useLocalStorage) {\r\n            cartesianDroppedItems = localStorage.getItem(\"cartesian\" + \": items\");\r\n            templatedDroppedItems = localStorage.getItem(\"templated\" + \": items\");\r\n            if(!cartesianDroppedItems) {\r\n                cartesianDroppedItems = [];\r\n            } else {\r\n                cartesianDroppedItems = JSON.parse(cartesianDroppedItems);\r\n            }\r\n            if(!templatedDroppedItems) {\r\n                templatedDroppedItems = [];\r\n            } else {\r\n                templatedDroppedItems = JSON.parse(templatedDroppedItems);\r\n            }\r\n        }\r\n        this.handleDrop = this.handleDrop.bind(this);\r\n        const breakers = [\r\n            { name: 'RCD-Plugs--1', type: ItemTypes.BREAKERS, uniqid: null, distribution: 1, left: 0, top: 0, order: 0, \r\n            image: 'images/dist_box/rcd-breaker.png', element_type: Constants.ElementType.INPUTS, breaker_type: Constants.ElementType.RCD,\r\n            size: { width: '80px', height: '45px' }, distribution_name: \"cartesian\", description: '', breaker: {  }, bbox: [0,0,0,0] },\r\n            { name: 'MCB-Plugs--1', type: ItemTypes.BREAKERS, uniqid: null, distribution: 1, left: 0, top: 0, order: 1, \r\n            image: 'images/dist_box/mcb-breaker.png', element_type: Constants.ElementType.INPUTS, breaker_type: Constants.ElementType.MCB,\r\n            size: { width: '50px', height: '45px' }, distribution_name: \"cartesian\", description: '', breaker: {  }, bbox: [0,0,0,0] },\r\n            { name: 'RCBO-Plugs--1', type: ItemTypes.BREAKERS, uniqid: null, distribution: 1, left: 0, top: 0, order: 2, \r\n            image: 'images/dist_box/rcbo-breaker.png', element_type: Constants.ElementType.INPUTS, breaker_type: Constants.ElementType.RCBO,\r\n            size: { width: '51px', height: '45px' }, distribution_name: \"cartesian\", description: '', breaker: {  }, bbox: [0,0,0,0] },\r\n        ];\r\n        const boxes = [\r\n            { name: 'Plugs--1', type: ItemTypes.PLUGS_1, uniqid: null, \r\n            distribution: null, left: '0px', top: '0px',  index: 0, image: 'images/dist_box/Output-Plug-1.png', element_type: Constants.ElementType.OUTPUTS, \r\n            size: {width: '50px', height: '45px'}, distribution_name: \"templated\", description: '63A CEE 400V 5P', \r\n            breaker: { default: { index: 0, image: 'images/dist_box/breaker-output-plug-1.png' }, mcb: {index: 1, image: 'images/dist_box/breaker-output-plug-1-mcb.png'} },\r\n            bbox: [0,0,0,0] },\r\n            { name: 'Plugs--2', type: ItemTypes.PLUGS_2, uniqid: null, \r\n            distribution: null, left: '0px', top: '0px',  index: 0, image: 'images/dist_box/Output-Plug-2.png', element_type: Constants.ElementType.OUTPUTS, \r\n            size: {width: '29px', height: '45px'}, distribution_name: \"templated\", description: '125A 400V CEE 5P', \r\n            breaker: { default: { index: 0, image: 'images/dist_box/breaker-output-plug-1.png' }, mcb: {index: 1, image: 'images/dist_box/breaker-output-plug-1-mcb.png'} },\r\n            bbox: [0,0,0,0] },\r\n            { name: 'Plugs--3', type: ItemTypes.PLUGS_3, uniqid: null, \r\n            distribution: null, left: '0px', top: '0px',  index: 0, image: 'images/dist_box/Output-Plug-3.png', element_type: Constants.ElementType.OUTPUTS, \r\n            size: {width: '29px', height: '45px'}, distribution_name: \"templated\", description: '63A 400V CEE 5P', \r\n            breaker: { default: { index: 0, image: 'images/dist_box/breaker-output-plug-1.png' }, mcb: {index: 1, image: 'images/dist_box/breaker-output-plug-1-mcb.png'} },\r\n            bbox: [0,0,0,0] },\r\n            { name: 'Plugs--4', type: ItemTypes.PLUGS_4, uniqid: null, \r\n            distribution: null, left: '0px', top: '0px',  index: 0, image: 'images/dist_box/Output-Plug-4.png', element_type: Constants.ElementType.OUTPUTS, \r\n            size: {width: '29px', height: '45px'}, distribution_name: \"templated\", description: '125A 400V CEE 5P', \r\n            breaker: { default: { index: 0, image: 'images/dist_box/breaker-output-plug-1.png' }, mcb: {index: 1, image: 'images/dist_box/breaker-output-plug-1-mcb.png'} },\r\n            bbox: [0,0,0,0] },\r\n            { name: 'Plugs--5', type: ItemTypes.PLUGS_5, uniqid: null, \r\n            distribution: null, left: '0px', top: '0px',  index: 0, image: 'images/dist_box/Output-Plug-5.png', element_type: Constants.ElementType.OUTPUTS, \r\n            size: {width: '29px', height: '45px'}, distribution_name: \"templated\", description: '63A 400V CEE 5P', \r\n            breaker: { default: { index: 0, image: 'images/dist_box/breaker-output-plug-1.png' }, mcb: {index: 1, image: 'images/dist_box/breaker-output-plug-1-mcb.png'} },\r\n            bbox: [0,0,0,0] },\r\n            { name: 'Sockets--1', type: ItemTypes.SOCKETS_1, uniqid: null, \r\n            distribution: null, left: '0px', top: '0px',  index: 1, image: 'images/dist_box/Output-Socket-1.png', element_type: Constants.ElementType.OUTPUTS, \r\n            size: {width: '50px', height: '45px'}, distribution_name: \"templated\", description: '125A CEE 400V 5P', \r\n            breaker: { default: { index: 0, image: 'images/dist_box/breaker-output-plug-1.png' }, mcb: {index: 1, image: 'images/dist_box/breaker-output-plug-1-mcb.png'} },\r\n            bbox: [0,0,0,0] },\r\n            { name: 'Sockets--2', type: ItemTypes.SOCKETS_2, uniqid: null, \r\n            distribution: null, left: '0px', top: '0px',  index: 1, image: 'images/dist_box/Output-Socket-2.png', element_type: Constants.ElementType.OUTPUTS, \r\n            size: {width: '24px', height: '45px'}, distribution_name: \"templated\", description: '19pin Connector Socket', \r\n            breaker: { default: { index: 0, image: 'images/dist_box/breaker-output-plug-1.png' }, mcb: {index: 1, image: 'images/dist_box/breaker-output-plug-1-mcb.png'} },\r\n            bbox: [0,0,0,0] },\r\n            { name: 'Sockets--3', type: ItemTypes.SOCKETS_3, uniqid: null, \r\n            distribution: null, left: '0px', top: '0px',   index: 1, image: 'images/dist_box/Output-Socket-3.png', element_type: Constants.ElementType.OUTPUTS, \r\n            size: {width: '28px', height: '45px'}, distribution_name: \"templated\", description: '125A 400V CEE 5P', \r\n            breaker: { default: { index: 0, image: 'images/dist_box/breaker-output-plug-1.png' }, mcb: {index: 1, image: 'images/dist_box/breaker-output-plug-1-mcb.png'} },\r\n            bbox: [0,0,0,0] },\r\n            { name: 'Pilot-Lights', type: ItemTypes.PILOT_LIGHTS, uniqid: null, \r\n            distribution: null, left: '0px', top: '0px',  index: 2, image: 'images/dist_box/pilot-lights.png', element_type: Constants.ElementType.ADDONS, \r\n            size: {width: Constants.SIZES[ItemTypes.PILOT_LIGHTS][0] + 'px', height: '45px'}, distribution_name: \"cartesian\", description: 'PILOT LIGHTS', \r\n            breaker: { },\r\n            bbox: [0,0,0,0] },\r\n            { name: 'Multimeter', type: ItemTypes.MULTIMETER, uniqid: null, \r\n            distribution: null, left: '0px', top: '0px',  index: 3, image: 'images/dist_box/multimeter.png', element_type: Constants.ElementType.ADDONS, \r\n            size: {width: Constants.SIZES[ItemTypes.MULTIMETER][0] + 'px', height: '45px'}, distribution_name: \"cartesian\", description: 'MULTIMETER', \r\n            breaker: { },\r\n            bbox: [0,0,0,0] },\r\n            { name: 'Live-Pins-Input', type: ItemTypes.LIVE_PINS_INPUT, uniqid: null, \r\n            distribution: null, left: '0px', top: '0px',  index: 4, image: 'images/dist_box/Live-Pins-Inputs.png', element_type: Constants.ElementType.INPUTS, \r\n            size: {width: Constants.SIZES[ItemTypes.LIVE_PINS_INPUT][0] + 'px', height: '47px'}, distribution_name: \"templated\", description: <b style={{fontWeight: 400}}>400A Power Lock Set <br/> (with 250A Protection)</b>, \r\n            breaker: { default: { index: 0, image: 'images/dist_box/breaker-output-plug-1.png' }, mcb: {index: 1, image: 'images/dist_box/breaker-output-plug-1-mcb.png'} },\r\n            bbox: [0,0,0,0] },\r\n            { name: 'Loop-Through', type: ItemTypes.LIVE_PINS_OUTPUT, uniqid: null, \r\n            distribution: null, left: '0px', top: '0px',  index: 5, image: 'images/dist_box/Live-Pins-Outputs.png', element_type: Constants.ElementType.INPUTS, \r\n            size: {width: Constants.SIZES[ItemTypes.LIVE_PINS_OUTPUT][0] + 'px', height: '47px'}, distribution_name: \"templated\", description: '400A Power Lock Set', \r\n            breaker: { default: { index: 0, image: 'images/dist_box/breaker-output-plug-1.png' }, mcb: {index: 1, image: 'images/dist_box/breaker-output-plug-1-mcb.png'} },\r\n            bbox: [0,0,0,0] },\r\n            { name: 'Pins-Input--2', type: ItemTypes.PINS_INPUT_2, uniqid: null, \r\n            distribution: null, left: '0px', top: '0px',  index: 5, image: 'images/dist_box/Inputs-Pin-2.png', element_type: Constants.ElementType.INPUTS, \r\n            size: {width: '42px', height: '45px'}, distribution_name: \"templated\", description: '63A CEE 400V 5P', \r\n            breaker: { default: { index: 0, image: 'images/dist_box/breaker-output-plug-1.png' }, mcb: {index: 1, image: 'images/dist_box/breaker-output-plug-1-mcb.png'} },\r\n            bbox: [0,0,0,0] },\r\n            { name: 'Pins-Input--1', type: ItemTypes.PINS_INPUT_1, uniqid: null, \r\n            distribution: null, left: '0px', top: '0px',  index: 4, image: 'images/dist_box/Inputs-Pin-1.png', element_type: Constants.ElementType.INPUTS, \r\n            size: {width: '50px', height: '45px'}, distribution_name: \"templated\", description: '125A CEE 400V 5P', \r\n            breaker: { default: { index: 0, image: 'images/dist_box/breaker-output-plug-1.png' }, mcb: {index: 1, image: 'images/dist_box/breaker-output-plug-1-mcb.png'} },\r\n            bbox: [0,0,0,0] },\r\n        ];\r\n        const distributions = [\r\n            { accepts: plugsAndSockets, lastDroppedItem: null, \r\n                totalDroppedItems: templatedDroppedItems, e_name: \"templated\" },\r\n            { accepts: [ItemTypes.PILOT_LIGHTS, ItemTypes.MULTIMETER], lastDroppedItem: null, \r\n                totalDroppedItems: cartesianDroppedItems, e_name: \"cartesian\" },\r\n        ];\r\n        this.setDistributionSize = this.setDistributionSize.bind(this);\r\n        this.setDistributions = this.setDistributions.bind(this);\r\n        this.setDroppedBoxNames = this.setDroppedBoxNames.bind(this);\r\n        this.handleDrop = this.handleDrop.bind(this);\r\n        this.state['boxes'] = boxes;\r\n        this.state['distributions'] = distributions;\r\n        this.state['breakers'] = breakers;\r\n        this.setTotalDroppedItems = this.setTotalDroppedItems.bind(this);\r\n        this.getTotalDroppedItems = this.getTotalDroppedItems.bind(this);\r\n        this.saveTotalDroppedItems = this.saveTotalDroppedItems.bind(this);\r\n        this.slideDown = this.slideDown.bind(this);\r\n    }\r\n\r\n    setDragDrop(value) {\r\n        this.drag_drop = value;\r\n    }\r\n\r\n    setDistributions(distributions) {\r\n        this.setState({distributions: distributions});\r\n    }\r\n\r\n    setDroppedBoxNames(droppedBoxNames) {\r\n        this.setState({droppedBoxNames: droppedBoxNames});\r\n    }\r\n\r\n    getTotalDroppedItems(index) {\r\n        return this.state['distributions'][index].totalDroppedItems;\r\n    }\r\n\r\n    setTotalDroppedItems(items, index, e_name, force=false) {\r\n        let dist = update(this.state['distributions'], {\r\n            [index]: {\r\n                totalDroppedItems: {\r\n                    $set: items\r\n                }\r\n            },\r\n        });\r\n        this.saveTotalDroppedItems(items, e_name, index, force);\r\n        return dist;\r\n    }\r\n\r\n    saveTotalDroppedItems(items, e_name, index, force) {\r\n        if(items) {\r\n            localStorage.setItem(e_name + \": items\", JSON.stringify(items));\r\n        }\r\n        if(force) {\r\n            localStorage.setItem(e_name + \": items\", JSON.stringify(items));\r\n        }\r\n    }\r\n\r\n    handleDrop(index, item) {\r\n        const { name } = item;\r\n        item.uniqid = Uniqid(item.name);\r\n        item.distribution = index;\r\n        if('default' in item.breaker) {\r\n            // cartesian\r\n            let breaker_item = Object.assign({}, this.state['breakers'][item.breaker.default.index]);\r\n            breaker_item.uniqid = Uniqid(breaker_item.name);\r\n            breaker_item.left = item.left;\r\n            breaker_item.top = item.top;\r\n            breaker_item.width = breaker_item.size.width;\r\n            breaker_item.height = breaker_item.size.height;\r\n            // able to move breaker_item\r\n            let {className, id} = Singleton.getGridBoxId({name: breaker_item.name, uniqid: breaker_item.uniqid});\r\n            breaker_item.dragElementId = id;\r\n\r\n            this.setDistributions(update(this.state['distributions'], {\r\n                [1]: {\r\n                    lastDroppedItem: {\r\n                        $set: breaker_item,\r\n                    },\r\n                    totalDroppedItems: {\r\n                        $push: [breaker_item]\r\n                    }\r\n                },\r\n            }));\r\n            item.breaker_item = breaker_item;\r\n            // save to totalDroppedItems\r\n            this.saveTotalDroppedItems(\r\n                this.state['distributions'][1].totalDroppedItems, \r\n                breaker_item.distribution_name,\r\n                breaker_item.distribution\r\n            );\r\n        } else {\r\n            item.breaker_item = null;\r\n        }\r\n        this.setDroppedBoxNames(update(this.state['droppedBoxNames'], name ? { $push: [name] } : { $push: [] }));\r\n        this.setDistributions(update(this.state['distributions'], {\r\n            [index]: {\r\n                lastDroppedItem: {\r\n                    $set: item,\r\n                },\r\n                totalDroppedItems: {\r\n                    $push: [item]\r\n                }\r\n            },\r\n        }));\r\n        // save to totalDroppedItems\r\n        this.saveTotalDroppedItems(\r\n            this.state['distributions'][item.distribution].totalDroppedItems, \r\n            item.distribution_name,\r\n            item.distribution\r\n        );\r\n    }\r\n\r\n    setDistributionSize(distributionSize) {\r\n        this.setState({distributionSize: distributionSize});\r\n    }\r\n    \r\n    componentWillMount() {\r\n        const size = localStorage.getItem(\"cartesian: size\");\r\n        if (size) {\r\n            this.setDistributionSize(size);\r\n            $(\"#cartesian\").attr('data-size',this.state['distributionSize']);\r\n            $(\"#templated\").attr('data-size', this.state['distributionSize']);\r\n            $('#unit_size').val(this.state['distributionSize']);\r\n        }\r\n    }\r\n\r\n    slideDown(event) {\r\n        let id = $(event.target).attr('data-element');\r\n        let slide_keys = Object.fromEntries(this.slide_keys);\r\n        let text = $(event.target).text();\r\n        if(this.slide[text.toLowerCase()]) {\r\n            $('#'+id).slideUp(300);\r\n            this.slide[text.toLowerCase()] = false;\r\n        } else {\r\n            $('#'+id).slideDown(300);\r\n            this.slide[text.toLowerCase()] = true;\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        // load from localStorage the distributions\r\n\r\n        const instance = this;\r\n        \r\n        function isDropped(boxName) {\r\n            return instance.state['droppedBoxNames'].indexOf(boxName) > -1;\r\n        }\r\n\r\n        // render the draggable box\r\n        function renderBox(item, index, style, className) {\r\n            return (<div className={\"draggable-box-container\" + className} key={index} style={style}>\r\n                <DraggableBox key={index} id={index}\r\n                name={item.name} type={item.type} \r\n                uniqid={item.uniqid}\r\n                distribution={item.distribution}\r\n                image={item.image}\r\n                width={item.size.width}\r\n                height={item.size.height}\r\n                isDropped={isDropped(item.name)}\r\n                description={item.description}\r\n                distribution_name={item.distribution_name}\r\n                box_item={item}\r\n                {...item} />\r\n            </div>)\r\n        }\r\n\r\n        let element_outputs = [], element_through_outputs = [], element_addons = [], element_live_inputs = [], element_pins_inputs = [];\r\n        this.state['boxes'].map((item, index) => {\r\n            switch(item.element_type) {\r\n                case Constants.ElementType.INPUTS:\r\n                    if(item.type == ItemTypes.LIVE_PINS_OUTPUT || item.type == ItemTypes.LIVE_PINS_INPUT) {\r\n                        element_live_inputs.push([item, index]);\r\n                    } else if(item.type == ItemTypes.PINS_INPUT_1 || item.type == ItemTypes.PINS_INPUT_2) {\r\n                        element_pins_inputs.push([item, index]);\r\n                    }\r\n                    break;\r\n                case Constants.ElementType.OUTPUTS:\r\n                    element_outputs.push([item, index]);\r\n                    break;\r\n                case Constants.ElementType.THROUGH_OUTPUTS:\r\n                    element_through_outputs.push([item, index]);\r\n                    break;\r\n                case Constants.ElementType.ADDONS:\r\n                    element_addons.push([item, index]);\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        })\r\n\r\n        let colors = [\r\n            {size: '24U', color: 'rgb(50, 55, 165)'},\r\n            {size: '20U', color: 'rgb(150, 55, 105)'},\r\n            {size: '16U', color: 'rgb(20, 155, 105)'},\r\n            {size: '12U', color: 'rgb(50, 155, 165)'},\r\n            {size: '8U', color: 'rgb(150, 55, 165)'},\r\n        ];\r\n\r\n        let display_accordion_hide = {display: 'none'};\r\n        let display_accordion_show = {display: 'block'};\r\n\r\n        return (<div className=\"AppInnerContainer\">\r\n\r\n    <div className=\"row\">\r\n        <div className=\"col col-lg-3 col-md-3 col-sm-3\" id=\"boxes_container_draggable_holder\" key=\"col-left\">\r\n\r\n            <div className=\"boxes-container-draggable\" id=\"boxes_container_draggable\" key=\"1111\" sliding-panel={this.controller.sliding ? 'on' : 'off'}>\r\n\r\n                <div style={{ overflow: 'hidden', clear: 'both', marginTop: '0px', position: 'relative'}} className=\"boxes-container\" key=\"boxes-set\">\r\n                    <em key=\"em-boxes-set\" className=\"accordion-title\" onClick={this.slideDown} data-element=\"boxes-set\">{Constants.ElementType.BOXES}</em>\r\n                    <div className=\"clearfix\" id=\"boxes-set\" style={display_accordion_show}>\r\n                        <select ref={(ref) => {this.selectRef = ref}} defaultValue={localStorage.getItem(\"cartesian: size\")} name=\"unit_size\" id=\"unit_size\" style={{backgroundColor: '#f2f2f0', \r\n                        fontSize: '48px', color: 'rgb(50, 55, 165)', border: '0 none'}} onChange={this.controller.changeUnitSize}>\r\n                            {this.controller.colors.map(({ size, color }, index) => (\r\n                                <option key={size} style={{fontSize: '48px', color: color}} value={size}>\r\n                                    {size}\r\n                                </option>\r\n                            ))}\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div style={{ overflow: 'hidden', clear: 'both', marginTop: \"0px\",\r\n                position: 'relative' }} className=\"boxes-container\" key=\"inputs-set\">\r\n                    <em key=\"em-inputs-set\" className=\"accordion-title\" onClick={this.slideDown} data-element=\"inputs-set\">{element_live_inputs.length > 0 ? element_live_inputs[0][0].element_type : ''}</em>\r\n                    <div key=\"div-inputs-set\" id=\"inputs-set\" className=\"clearfix\" style={display_accordion_show}>\r\n                        <div key=\"elements-live-inputs\" className=\"draggable-box-inputs\">\r\n                        {\r\n                            element_live_inputs.map((element, index) => (\r\n                                renderBox(element[0], element[1], {}, \"\")\r\n                            ))\r\n                        }\r\n                        </div>\r\n                        <div key=\"elements-pins-inputs\" className=\"draggable-box-inputs\" style={{display: 'flex'}}>\r\n                        {\r\n                            element_pins_inputs.map((element, index) => (\r\n                                renderBox(element[0], element[1], {flex: 'wrap'}, \"\")\r\n                            ))\r\n                        }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div style={{ overflow: 'hidden', clear: 'both', marginTop: \"0px\",\r\n                position: 'relative' }} className=\"boxes-container\" key=\"outputs-set\">\r\n                    <em key=\"em-outputs-set\" className=\"accordion-title\" onClick={this.slideDown} data-element=\"outputs-set\">{element_outputs.length > 0 ? element_outputs[0][0].element_type : ''}</em>\r\n                    <div key=\"div-outputs-set\" className=\"draggable-box-inputs row\" id=\"outputs-set\" style={display_accordion_hide}>\r\n                    {\r\n                        element_outputs.map((element, index) => (\r\n                            renderBox(element[0], element[1], {}, \"col-lg-6 col-md-6 col-sm-6\")\r\n                        ))\r\n                    }\r\n                    </div>\r\n                </div>\r\n\r\n                <div style={{ overflow: 'hidden', clear: 'both', marginTop: \"0px\",\r\n                position: 'relative' }} className=\"boxes-container\" key=\"through-outputs-set\">\r\n                    <em key=\"em-through-outputs-set\" className=\"accordion-title\" onClick={this.slideDown} data-element=\"through-outputs-set\">{Constants.ElementType.THROUGH_OUTPUTS}</em>\r\n                    <div key=\"div-through-outputs-set\" className=\"draggable-box-inputs\" id=\"through-outputs-set\" style={display_accordion_hide}>\r\n                    {\r\n                        element_through_outputs.map((element, index) => (\r\n                            renderBox(element[0], element[1], {}, \"\")\r\n                        ))\r\n                    }\r\n                    </div>\r\n                </div>\r\n\r\n                <div style={{ overflow: 'hidden', clear: 'both', marginTop: \"0px\",\r\n                position: 'relative' }} className=\"boxes-container\" key=\"addons-set\">\r\n                    <em key=\"em-addons-set\" className=\"accordion-title\" onClick={this.slideDown} data-element=\"addons-set\">{element_addons.length > 0 ? element_addons[0][0].element_type : ''}</em>\r\n                    <div key=\"div-addons-set\" className=\"draggable-box-inputs\" id=\"addons-set\" style={display_accordion_hide}>\r\n                    {\r\n                        element_addons.map((element, index) => (\r\n                            renderBox(element[0], element[1], {}, \"\")\r\n                        ))\r\n                    }\r\n                    </div>\r\n                </div>\r\n                \r\n            </div>\r\n\r\n        </div>\r\n\r\n        <div key=\"col-right\" className=\"col col-lg-9 col-md-9 col-sm-9\" id=\"distros_designer\" sliding-panel={this.controller.sliding ? 'on' : 'off'} style={{backgroundSize: (Singleton.__singletonRef.controller.state['value']-50+100)*0.35 + '%'}}>\r\n\r\n            <div style={{ overflow: 'hidden', clear: 'both', height: '100%' }} key=\"0000\">\r\n                <div style={style} className=\"templated-distributions-container row\">\r\n                    {this.state['distributions'].map(({ accepts, lastDroppedItem, totalDroppedItems, e_name }, index) => (\r\n                        <TableDist container={this} accept={accepts} \r\n                        lastDroppedItem={lastDroppedItem} totalDroppedItems={totalDroppedItems} e_name={e_name}\r\n                        onDrop={(item) => this.handleDrop(index, item)} key={\"TableDist-\" + index}></TableDist>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n\r\n        </div>);\r\n    }\r\n};\r\n\r\n\r\nexport default Container;","import React, { useState, useCallback } from 'react';\r\nimport { useDragLayer } from 'react-dnd';\r\nimport { ItemTypes } from './ItemTypes';\r\nimport { BoxDragPreview } from './BoxDragPreview';\r\nimport { snapToGrid } from './snapToGrid';\r\nimport { useDrag } from 'react-dnd';\r\nimport update from 'immutability-helper';\r\nimport { useEffect } from 'react'\r\nimport { fromEvent } from 'rxjs'\r\nimport { map, throttleTime } from 'rxjs/operators'\r\nimport Constants from './Constants';\r\nconst layerStyles = {\r\n    position: 'absolute',\r\n    pointerEvents: 'none',\r\n    zIndex: 100,\r\n    marginLeft: \"-45%\",\r\n    width: '100%',\r\n    height: '100%',\r\n};\r\nfunction getItemStyles(initialOffset, currentOffset, clientOffset, isSnapToGrid) {\r\n    if (!initialOffset || !currentOffset) {\r\n        return {\r\n            display: 'none',\r\n        };\r\n    }\r\n    let { x, y } = clientOffset;\r\n    if (isSnapToGrid) {\r\n        x -= initialOffset.x + Constants.gridSize;\r\n        y -= initialOffset.y + Constants.gridSize;\r\n        [x, y] = snapToGrid(x, y);\r\n        x += initialOffset.x;\r\n        y += initialOffset.y;\r\n    }\r\n    const transform = `translate(${x}px, ${y}px)`;\r\n    return {\r\n        transform: transform,\r\n        WebkitTransform: transform,\r\n    };\r\n}\r\nexport const CustomDragLayer = (props) => {\r\n    const { itemType, isDragging, item, initialOffset, currentOffset, clientOffset } = useDragLayer((monitor) => ({\r\n        item: monitor.getItem(),\r\n        itemType: monitor.getItemType(),\r\n        initialOffset: monitor.getInitialClientOffset(),\r\n        currentOffset: monitor.getSourceClientOffset(),\r\n        clientOffset: monitor.getClientOffset(),\r\n        isDragging: monitor.isDragging(),\r\n        collect: (monitor) => {\r\n            return {\r\n                isOver: monitor.isOver(),\r\n                canDrop: monitor.canDrop(),\r\n                initialOffset: monitor.getInitialClientOffset(),\r\n                currentOffset: monitor.getSourceClientOffset(),\r\n                clientOffset: monitor.getClientOffset()\r\n            }\r\n        }\r\n    }));\r\n    let position = useMousePosition();\r\n\r\n    // mouse tracking\r\n    function useMousePosition() {\r\n        const [x, setX] = useState(null)\r\n        const [y, setY] = useState(null)\r\n        \r\n        useEffect(() => {\r\n            // Subscribe to the mousemove event\r\n            const sub = fromEvent(document, 'mousemove')\r\n            // Extract out current mouse position from the event\r\n            .pipe(map(event => [event.clientX, event.clientY]))\r\n            // We have closure over the updater functions for our two state variables\r\n            // Use these updaters to bridge the gap between RxJS and React\r\n            .subscribe(([newX, newY]) => {\r\n                setX(newX)\r\n                setY(newY)\r\n            })\r\n        \r\n            // When the component unmounts, remove the event listener\r\n            return () => {\r\n                sub.unsubscribe()\r\n            }\r\n            // We use [] here so that this effect fires exactly once.\r\n            // (After the first render)\r\n        }, [])\r\n\r\n        return { mouseX: x, mouseY: y }\r\n    }\r\n    function renderItem() {\r\n        switch (itemType) {\r\n            case ItemTypes.PLUGS_1:\r\n            case ItemTypes.PLUGS_2:\r\n            case ItemTypes.PLUGS_3: \r\n            case ItemTypes.PLUGS_4:\r\n            case ItemTypes.PLUGS_5:\r\n            case ItemTypes.SOCKETS_1:\r\n            case ItemTypes.SOCKETS_2: \r\n            case ItemTypes.SOCKETS_3:\r\n            case ItemTypes.PILOT_LIGHTS:\r\n            case ItemTypes.MULTIMETER:\r\n            case ItemTypes.LIVE_PINS_INPUT:\r\n            case ItemTypes.LIVE_PINS_OUTPUT:\r\n            case ItemTypes.PINS_INPUT_1: \r\n            case ItemTypes.PINS_INPUT_2:\r\n                // return <BoxDragPreview type={item.type} name={item.name} image={item.image} width={item.width} />;\r\n                return null;\r\n            default:\r\n                return null;\r\n        }\r\n    }\r\n    if (!isDragging) {\r\n        return null;\r\n    }\r\n    let shortClassName = \"custom-drag-layer-item-\" + itemType;\r\n    // specify an id for styling purposes\r\n    let id = shortClassName + \"-\" + item.name;\r\n    return (<div style={layerStyles} className=\"custom-drag-layer\" id={id}>\r\n\t\t\t<div style={getItemStyles(initialOffset, currentOffset, clientOffset, props.snapToGrid)} className=\"custom-drag-layer-inner\">\r\n\t\t\t\t{renderItem()}\r\n\t\t\t</div>\r\n\t\t</div>);\r\n};\r\n","import React from 'react'\r\nimport Controller from './Controller'\r\nimport { ItemTypes } from './ItemTypes'\r\nimport $ from 'jquery'\r\nimport Constants from './Constants';\r\n\r\nclass FrontSide extends React.Component {\r\n\r\n    id = 'distribution_front_side'\r\n    viewBox = \"\"\r\n\r\n    state = {\r\n        change: false,\r\n        value: 0,\r\n        grid: 0,\r\n        wheel: 0\r\n    }\r\n    \r\n    constructor(props) {\r\n        super(props)\r\n        this.viewBox = this.props.MonitoringViewBox;\r\n        this.paper = window.Snap('#'+this.id)\r\n        this.g = this.paper.g();\r\n        this.image = this.image.bind(this);\r\n        this.objects = this.objects.bind(this);\r\n        this.type_mapping = this.type_mapping.bind(this);\r\n        this.wheel_image = this.wheel_image.bind(this);\r\n        this.grid_image = this.grid_image.bind(this);\r\n        this.importAllObjects = this.importAllObjects.bind(this);\r\n        this.importCartesianObjectsByCache = this.importCartesianObjectsByCache.bind(this);\r\n        this.importCartesianObjectsByCache = this.importCartesianObjectsByCache.bind(this);\r\n        this.draw = this.draw.bind(this);\r\n        this.changeSlider = this.changeSlider.bind(this);\r\n        this.obtainViewBox = this.obtainViewBox.bind(this);\r\n        this.wheel = this.wheel.bind(this);\r\n\r\n        let mousePosition = 0, instance = this, length = 0;\r\n        $('#'+this.id).mousedown(function(event1) {\r\n            $(this).css('cursor', 'grab');\r\n            if(mousePosition == 0) {\r\n                mousePosition = {'x': event1.clientX, 'y': event1.clientY}\r\n            }\r\n            $(this).mousemove(function (event2) {\r\n                length+=0.95; // estimate of pan activity\r\n                $(this).css('cursor', 'grab');\r\n                const difference = {'x': (event2.clientX - mousePosition.x)/length, 'y': (event2.clientY - mousePosition.y)/length};\r\n                let viewBox = instance.obtainViewBox(instance.viewBox);\r\n                viewBox[0] -= (difference.x);\r\n                viewBox[1] -= (difference.y);\r\n                viewBox = viewBox.map(v => v.toString())\r\n                instance.viewBox = viewBox.join(\" \");\r\n                instance.setState({change: !instance.state['change']})\r\n            });\r\n        }).mouseup(function () {\r\n            $(this).css('cursor', 'default');\r\n            $(this).unbind('mousemove');\r\n            mousePosition = 0;\r\n            length = 0;\r\n        }).mouseout(function () {\r\n            $(this).css('cursor', 'default');\r\n            $(this).unbind('mousemove');\r\n            length = 0;\r\n        });\r\n\r\n        this.showGrid = this.showGrid.bind(this);\r\n        this.showWheel = this.showWheel.bind(this);\r\n\r\n        this.wheel_svg = Object.fromEntries(this.wheel_image());\r\n        this.grid_svg = Object.fromEntries(this.grid_image());\r\n    }\r\n\r\n    wheel_image() {\r\n        return new Map([\r\n            ['24U', 'images/power_box/canvas_wheel.png'], \r\n            ['20U', 'images/power_box/canvas_wheel-20u.png'], \r\n            ['16U', 'images/power_box/canvas_wheel-16u.png'],\r\n            ['12U', 'images/power_box/canvas_wheel-12u.png'],\r\n            ['8U', 'images/power_box/canvas_wheel-8u.png']\r\n        ])\r\n    }\r\n\r\n    grid_image() {\r\n        return new Map([\r\n            ['24U', 'images/power_box/canvas_grid.png'], \r\n            ['20U', 'images/power_box/canvas_grid-20u.png'], \r\n            ['16U', 'images/power_box/canvas_grid-16u.png'],\r\n            ['12U', 'images/power_box/canvas_grid-12u.png'],\r\n            ['8U', 'images/power_box/canvas_grid-8u.png']\r\n        ])\r\n    }\r\n\r\n    type_mapping() {\r\n        return new Map([\r\n            [ItemTypes.LIVE_PINS_INPUT, this.image],\r\n            [ItemTypes.LIVE_PINS_OUTPUT, this.image],\r\n            [ItemTypes.PINS_INPUT_1, this.image],\r\n            [ItemTypes.PINS_INPUT_2, this.image],\r\n            [ItemTypes.PLUGS_1, this.image],\r\n            [ItemTypes.PLUGS_2, this.image],\r\n            [ItemTypes.PLUGS_3, this.image],\r\n            [ItemTypes.PLUGS_4, this.image],\r\n            [ItemTypes.PLUGS_5, this.image],\r\n            [ItemTypes.SOCKETS_1, this.image],\r\n            [ItemTypes.SOCKETS_2, this.image],\r\n            [ItemTypes.SOCKETS_3, this.image]\r\n        ]);\r\n    }\r\n\r\n    objects() {\r\n        return null;\r\n    }\r\n\r\n    wheel() {\r\n        let val = $('#unit_size1').val();\r\n        let image = this.wheel_svg[val];\r\n        let width = Constants.SIZES[ItemTypes['WHEEL_'+val.toString()]][0] * Constants.drawingScale;\r\n        let height = Constants.SIZES[ItemTypes['WHEEL_'+val.toString()]][1] * Constants.drawingScale;\r\n        let element = this.paper.image(image, 0, 0, (width).toString() + 'px', (height).toString() + 'px');\r\n        this.g.prepend(element);\r\n        this.wheelEl = element;\r\n    }\r\n\r\n    grid() {\r\n        let val = $('#unit_size1').val();\r\n        let image = this.grid_svg[val];\r\n        let width = Constants.SIZES[ItemTypes['GRID_'+val.toString()]][0] * Constants.drawingScale;\r\n        let height = Constants.SIZES[ItemTypes['GRID_'+val.toString()]][1] * Constants.drawingScale;\r\n        let element = this.paper.image(image, 40, 30, (width).toString() + 'px', (height).toString() + 'px');\r\n        this.g.prepend(element);\r\n        this.gridEl = element;\r\n    }\r\n    \r\n    image(objects) {\r\n        for(var i = 0; i < objects.length; i++) {\r\n            let image = objects[i].image;\r\n            let left = parseFloat(objects[i].left.replace('px', '')) + 45 + 'px';\r\n            let top = parseFloat(objects[i].top.replace('px', '')) + 45 + 'px';\r\n            let width = parseFloat(objects[i].width.replace('px', ''));\r\n            let height = parseFloat(objects[i].height.replace('px', ''));\r\n            let element = this.paper.image(image, left, top, (Constants.SIZES[objects[i].type][0]).toString() + 'px', \r\n            (Constants.SIZES[objects[i].type][1]).toString() + 'px');\r\n            element.attr('style', 'z-index: ' + 100);\r\n            this.g.add(element);\r\n        }\r\n    }\r\n\r\n    importAllObjects(cache) {\r\n        return new Promise((resolve, reject) => {\r\n            try {\r\n                if(cache == \"local_storage\") {\r\n                    this.objects = this.importCartesianObjectsByCache()\r\n                } else if(cache == \"database\") {\r\n                    this.objects = this.importCartesianObjectsFromDatabase()\r\n                }\r\n            } catch(err) {\r\n                reject(err)\r\n            }\r\n            resolve(this.objects)\r\n        })\r\n    }\r\n\r\n    importCartesianObjectsByCache() {\r\n        let objects = window.localStorage.getItem(\"templated: items\");\r\n        return JSON.parse(objects);\r\n    }\r\n\r\n    importCartesianObjectsFromDatabase() {\r\n        return null;\r\n    }\r\n\r\n    draw(objects) {\r\n        var function_to_execute = [];\r\n        for(var i in objects) {\r\n            if(objects[i].type in this.object_types && (function_to_execute.indexOf(this.object_types[objects[i].type]) == -1)) {\r\n                function_to_execute.push(this.object_types[objects[i].type]);\r\n            }\r\n        }\r\n        if(function_to_execute.length > 0) {\r\n            for(var f in function_to_execute) {\r\n                function_to_execute[f](objects) // call this.image function\r\n            }\r\n        }\r\n    }\r\n\r\n    obtainViewBox(vb) {\r\n        let viewBox = vb.split(\" \").map(v => parseInt(v)); // viewBox array\r\n        return viewBox;\r\n    }\r\n\r\n    changeSlider(event) {\r\n        let vb = this.obtainViewBox(this.props.MonitoringViewBox);\r\n        let viewBox = this.obtainViewBox(this.viewBox);\r\n        let value = event.target.value;\r\n        viewBox[2] = vb[2] - value/1.15 * 15;\r\n        viewBox[3] = vb[3] - value * 15;\r\n        viewBox = viewBox.map(v => v.toString());\r\n        this.viewBox = viewBox.join(\" \");\r\n        this.setState({change: !this.state['change']})\r\n        this.setState({'value': value});\r\n    }\r\n\r\n    showGrid() {\r\n        if(this.state['grid'] == 0) {\r\n            this.grid()\r\n            this.setState({grid: 1});\r\n        } else {\r\n            this.gridEl.remove();\r\n            this.setState({grid: 0});\r\n        }\r\n    }\r\n\r\n    showWheel() {\r\n        if(this.state['wheel'] == 0) {\r\n            this.wheel()\r\n            this.setState({wheel: 1});\r\n        } else {\r\n            this.wheelEl.remove();\r\n            this.setState({wheel: 0});\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.object_types = Object.fromEntries(this.type_mapping());\r\n        // import function is a Promise\r\n        this.importAllObjects(\"local_storage\").then((objects) => this.draw(objects)).catch(err => console.error(err))\r\n    }\r\n\r\n    render() {\r\n        $(document.getElementById(this.id)).attr('viewBox', this.viewBox);\r\n        return <div className=\"distros_controls\">\r\n            <input type=\"range\" name=\"zoom\" id=\"zoom\" min=\"-100\" max=\"180\" step=\"1\" value={this.state['value']} onChange={this.changeSlider} />\r\n        <input title=\"Show Grid\" type=\"checkbox\" name=\"show_grid\" id=\"show_grid\" value={this.state['grid']} onChange={this.showGrid} />\r\n        <input title=\"Display Wheel\" type=\"checkbox\" name=\"show_wheel\" id=\"show_wheel\" value={this.state['wheel']} onChange={this.showWheel} /></div>\r\n    }\r\n\r\n}\r\n\r\nexport default FrontSide;","import React from 'react'\r\nimport Controller from './Controller'\r\nimport { ItemTypes } from './ItemTypes'\r\nimport $ from 'jquery'\r\nimport Constants from './Constants';\r\n\r\nclass RearSide extends React.Component {\r\n\r\n    id = 'distribution_rear_side'\r\n    viewBox = \"\"\r\n\r\n    state = {\r\n        change: false,\r\n        value: 0,\r\n        grid: 0,\r\n        wheel: 0\r\n    }\r\n    \r\n    constructor(props) {\r\n        super(props)\r\n        this.viewBox = this.props.PowerViewBox;\r\n        this.paper = window.Snap('#'+this.id)\r\n        this.g = this.paper.g();\r\n        this.image = this.image.bind(this);\r\n        this.objects = this.objects.bind(this);\r\n        this.type_mapping = this.type_mapping.bind(this);\r\n        this.wheel_image = this.wheel_image.bind(this);\r\n        this.grid_image = this.grid_image.bind(this);\r\n        this.importAllObjects = this.importAllObjects.bind(this);\r\n        this.importCartesianObjectsByCache = this.importCartesianObjectsByCache.bind(this);\r\n        this.importCartesianObjectsByCache = this.importCartesianObjectsByCache.bind(this);\r\n        this.draw = this.draw.bind(this);\r\n        this.changeSlider = this.changeSlider.bind(this);\r\n        this.obtainViewBox = this.obtainViewBox.bind(this);\r\n        this.wheel = this.wheel.bind(this);\r\n\r\n        let mousePosition = 0, instance = this, length = 0;\r\n        $('#'+this.id).mousedown(function(event1) {\r\n            $(this).css('cursor', 'grab');\r\n            if(mousePosition == 0) {\r\n                mousePosition = {'x': event1.clientX, 'y': event1.clientY}\r\n            }\r\n            $(this).mousemove(function (event2) {\r\n                length+=0.95; // estimate of pan activity\r\n                $(this).css('cursor', 'grab');\r\n                const difference = {'x': (event2.clientX - mousePosition.x)/length, 'y': (event2.clientY - mousePosition.y)/length};\r\n                let viewBox = instance.obtainViewBox(instance.viewBox);\r\n                viewBox[0] -= (difference.x);\r\n                viewBox[1] -= (difference.y);\r\n                viewBox = viewBox.map(v => v.toString())\r\n                instance.viewBox = viewBox.join(\" \");\r\n                instance.setState({change: !instance.state['change']})\r\n            });\r\n        }).mouseup(function () {\r\n            $(this).css('cursor', 'default');\r\n            $(this).unbind('mousemove');\r\n            mousePosition = 0;\r\n            length = 0;\r\n        }).mouseout(function () {\r\n            $(this).css('cursor', 'default');\r\n            $(this).unbind('mousemove');\r\n            length = 0;\r\n        });\r\n\r\n        this.showGrid = this.showGrid.bind(this);\r\n        this.showWheel = this.showWheel.bind(this);\r\n\r\n        this.wheel_svg = Object.fromEntries(this.wheel_image());\r\n        this.grid_svg = Object.fromEntries(this.grid_image());\r\n    }\r\n\r\n    wheel_image() {\r\n        return new Map([\r\n            ['24U', 'images/power_box/canvas_wheel.png'], \r\n            ['20U', 'images/power_box/canvas_wheel-20u.png'], \r\n            ['16U', 'images/power_box/canvas_wheel-16u.png'],\r\n            ['12U', 'images/power_box/canvas_wheel-12u.png'],\r\n            ['8U', 'images/power_box/canvas_wheel-8u.png']\r\n        ])\r\n    }\r\n\r\n    grid_image() {\r\n        return new Map([\r\n            ['24U', 'images/power_box/canvas_grid.png'], \r\n            ['20U', 'images/power_box/canvas_grid-20u.png'], \r\n            ['16U', 'images/power_box/canvas_grid-16u.png'],\r\n            ['12U', 'images/power_box/canvas_grid-12u.png'],\r\n            ['8U', 'images/power_box/canvas_grid-8u.png']\r\n        ])\r\n    }\r\n\r\n    type_mapping() {\r\n        return new Map([\r\n            [ItemTypes.PILOT_LIGHTS, this.image], \r\n            [ItemTypes.MULTIMETER, this.image]\r\n        ]);\r\n    }\r\n\r\n    objects() {\r\n        return null;\r\n    }\r\n\r\n    wheel() {\r\n        let val = $('#unit_size1').val();\r\n        let image = this.wheel_svg[val];\r\n        let width = Constants.SIZES[ItemTypes['WHEEL_'+val.toString()]][0] * Constants.drawingScale;\r\n        let height = Constants.SIZES[ItemTypes['WHEEL_'+val.toString()]][1] * Constants.drawingScale;\r\n        let element = this.paper.image(image, 0, 0, (width).toString() + 'px', (height).toString() + 'px');\r\n        this.g.prepend(element);\r\n        this.wheelEl = element;\r\n    }\r\n\r\n    grid() {\r\n        let val = $('#unit_size1').val();\r\n        let image = this.grid_svg[val];\r\n        let width = Constants.SIZES[ItemTypes['GRID_'+val.toString()]][0] * Constants.drawingScale;\r\n        let height = Constants.SIZES[ItemTypes['GRID_'+val.toString()]][1] * Constants.drawingScale;\r\n        let element = this.paper.image(image, 40, 30, (width).toString() + 'px', (height).toString() + 'px');\r\n        this.g.prepend(element);\r\n        this.gridEl = element;\r\n    }\r\n    \r\n    image(objects) {\r\n        for(var i = 0; i < objects.length; i++) {\r\n            let image = objects[i].image;\r\n            let left = parseFloat(objects[i].left.replace('px', '')) + 45 + 'px';\r\n            let top = parseFloat(objects[i].top.replace('px', '')) + 45 + 'px';\r\n            let width = parseFloat(objects[i].width.replace('px', ''));\r\n            let height = parseFloat(objects[i].height.replace('px', ''));\r\n            let element = this.paper.image(image, left, top, (Constants.SIZES[objects[i].type][0]).toString() + 'px', \r\n            (Constants.SIZES[objects[i].type][1]).toString() + 'px');\r\n            element.attr('style', 'z-index: ' + 100);\r\n            this.g.add(element);\r\n        }\r\n    }\r\n\r\n    importAllObjects(cache) {\r\n        return new Promise((resolve, reject) => {\r\n            try {\r\n                if(cache == \"local_storage\") {\r\n                    this.objects = this.importCartesianObjectsByCache()\r\n                } else if(cache == \"database\") {\r\n                    this.objects = this.importCartesianObjectsFromDatabase()\r\n                }\r\n            } catch(err) {\r\n                reject(err)\r\n            }\r\n            resolve(this.objects)\r\n        })\r\n    }\r\n\r\n    importCartesianObjectsByCache() {\r\n        let objects = window.localStorage.getItem(\"cartesian: items\");\r\n        return JSON.parse(objects);\r\n    }\r\n\r\n    importCartesianObjectsFromDatabase() {\r\n        return null;\r\n    }\r\n\r\n    draw(objects) {\r\n        var function_to_execute = [];\r\n        for(var i in objects) {\r\n            if(objects[i].type in this.object_types && (function_to_execute.indexOf(this.object_types[objects[i].type]) == -1)) {\r\n                function_to_execute.push(this.object_types[objects[i].type]);\r\n            }\r\n        }\r\n        if(function_to_execute.length > 0) {\r\n            for(var f in function_to_execute) {\r\n                function_to_execute[f](objects) // call this.image function\r\n            }\r\n        }\r\n    }\r\n\r\n    obtainViewBox(vb) {\r\n        let viewBox = vb.split(\" \").map(v => parseInt(v)); // viewBox array\r\n        return viewBox;\r\n    }\r\n\r\n    changeSlider(event) {\r\n        let vb = this.obtainViewBox(this.props.PowerViewBox);\r\n        let viewBox = this.obtainViewBox(this.viewBox);\r\n        let value = event.target.value;\r\n        viewBox[2] = vb[2] - value/1.15 * 15;\r\n        viewBox[3] = vb[3] - value * 15;\r\n        viewBox = viewBox.map(v => v.toString());\r\n        this.viewBox = viewBox.join(\" \");\r\n        this.setState({change: !this.state['change']})\r\n        this.setState({'value': value});\r\n    }\r\n\r\n    showGrid() {\r\n        if(this.state['grid'] == 0) {\r\n            this.grid()\r\n            this.setState({grid: 1});\r\n        } else {\r\n            this.gridEl.remove();\r\n            this.setState({grid: 0});\r\n        }\r\n    }\r\n\r\n    showWheel() {\r\n        if(this.state['wheel'] == 0) {\r\n            this.wheel()\r\n            this.setState({wheel: 1});\r\n        } else {\r\n            this.wheelEl.remove();\r\n            this.setState({wheel: 0});\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.object_types = Object.fromEntries(this.type_mapping());\r\n        // import function is a Promise\r\n        this.importAllObjects(\"local_storage\").then((objects) => this.draw(objects)).catch(err => console.error(err))\r\n    }\r\n\r\n    render() {\r\n        $(document.getElementById(this.id)).attr('viewBox', this.viewBox);\r\n        return <div className=\"distros_controls\">\r\n            <input type=\"range\" name=\"zoom\" id=\"zoom\" min=\"-100\" max=\"180\" step=\"1\" value={this.state['value']} onChange={this.changeSlider} />\r\n        <input title=\"Show Grid\" type=\"checkbox\" name=\"show_grid\" id=\"show_grid\" value={this.state['grid']} onChange={this.showGrid} />\r\n        <input title=\"Display Wheel\" type=\"checkbox\" name=\"show_wheel\" id=\"show_wheel\" value={this.state['wheel']} onChange={this.showWheel} /></div>\r\n    }\r\n\r\n}\r\n\r\nexport default RearSide;","import React, { useState, useCallback, useEffect } from 'react';\nimport Container from './Container';\nimport '../style/fontawesome.min.css';\nimport '../bootstrap-grid.min.css';\nimport { CustomDragLayer } from './CustomDragLayer';\nimport FrontSide from './FrontSide';\nimport RearSide from './RearSide';\nimport Singleton from './Singleton';\nimport $ from 'jquery';\nimport Constants from './Constants';\nimport axios from 'axios';\nimport qs from 'qs';\nimport { Confirm, Alert } from 'react-st-modal';\n\nexport default class Controller extends React.Component {\n    \n    hoverState = {\n        file: false\n    }\n    \n    colors = [\n        {size: '24U', color: 'rgb(50, 55, 165)'},\n        {size: '20U', color: 'rgb(150, 55, 105)'},\n        {size: '16U', color: 'rgb(20, 155, 105)'},\n        {size: '12U', color: 'rgb(50, 155, 165)'},\n        {size: '8U', color: 'rgb(150, 55, 165)'},\n    ];\n\n    heights = new Map([\n        ['24U', 1455],\n        ['20U', 1254],\n        ['16U', 1060],\n        ['12U', 865],\n        ['8U', 670],\n    ]);\n\n    grid_heights = new Map([\n        ['24U', 1183],\n        ['20U', 983],\n        ['16U', 783],\n        ['12U', 583],\n        ['8U', 403],\n    ]);\n\n    margin_top = new Map([\n        ['24U', 0],\n        ['20U', 100],\n        ['16U', 185],\n        ['12U', 275],\n        ['8U', 370],\n    ]);\n\n    state = {\n        svg_monitoring: false,\n        svg_power: false,\n        snapToGridAfterDrop: true,\n        snapToGridWhileDragging: true,\n        MonitoringViewBox: '',\n        PowerViewBox: '',\n        value: 10,\n        change: false,\n        monitoring_show: 1,\n        power_show: 1,\n        alert_text: '',\n        alert_title: '',\n        alert_box: -1,\n        drawing_name: ''\n    }\n    \n    constructor(props) {\n        super(props)\n        Singleton.__singletonRef = new Singleton();\n        Singleton.__singletonRef.controller = this;\n        this.changeToSVGDrawing = this.changeToSVGDrawing.bind(this);\n        this.changeToDefault = this.changeToDefault.bind(this);\n        this.cartesianWidth = null; this.cartesianHeight = null; this.templateWidth = null; this.templateHeight = null;\n        this.changeGridSizes = this.changeGridSizes.bind(this);\n        this.showPanel = this.showPanel.bind(this);\n        this.toggleSliging = this.toggleSliging.bind(this);\n        this.changeUnitSize = this.changeUnitSize.bind(this);\n        this.home = this.home.bind(this);\n        this.showMenuTree = this.showMenuTree.bind(this);\n        this.alertUserOnUnitSizeChange = this.alertUserOnUnitSizeChange.bind(this);\n        this.showAlert = this.showAlert.bind(this);\n        this.createNewDiagram = this.createNewDiagram.bind(this);\n        this.saveDiagram = this.saveDiagram.bind(this);\n        this.print = this.print.bind(this);\n\n        let grid_heights = Object.fromEntries(this.grid_heights);\n        let scaled_grid_heights = Object.values(grid_heights).map((height, index) => {\n            return Constants.drawingScale * height;\n        });\n        let sizes_keys = Object.keys(grid_heights);\n        scaled_grid_heights = new Map(scaled_grid_heights.map((height, index) => {\n            return [sizes_keys[index], height];\n        }))\n        this.scaled_grid_heights = Object.fromEntries(scaled_grid_heights);\n    }\n\n    changeToSVGDrawing() {\n        $('#distribution-front-side').show();\n        $('#distribution-rear-side').show();\n        this.setState({svg_monitoring: true, svg_power: true, MonitoringViewBox: '300 0 2400 3600', PowerViewBox: '300 0 2400 3600'})\n        $(document.body).css('overflow', 'hidden');\n        $(document.documentElement).css('overflow', 'hidden');\n    }\n\n    changeToDefault() {\n        this.setState({svg_monitoring: false, svg_power: false, MonitoringViewBox: '', PowerViewBox: ''})\n        $(document.body).css('overflow', 'visible');\n        $(document.documentElement).css('overflow', 'visible');\n    }\n\n    componentDidMount() {\n        if(!this.cartesianWidth) {\n            this.cartesianWidth = $('.cartesian').width()\n        }\n        if(!this.cartesianHeight) {\n            this.cartesianHeight = $('.cartesian').height()\n        }\n        if(!this.templateWidth) {\n            this.templateWidth = $('.templated').width()\n        }\n        if(!this.templateHeight) {\n            this.templateHeight = $('.templated').height()\n        }\n        if(localStorage.getItem(\"cartesian: size\")) {\n            $(document.getElementById(\"cartesian\")).attr('data-size', localStorage.getItem(\"cartesian: size\"));\n            $(document.getElementById(\"templated\")).attr('data-size', localStorage.getItem(\"templated: size\"));\n        }\n    }\n\n    async showAlert() {\n        if(this.state['alert_title'] !== '' && this.state['alert_text'] !== '') {\n            if(this.state['alert_box'] == 0) {\n                $('#templated_distribution_container').css('backgroundColor', 'rgb(80,10,30)').css('opacity', 0.4);\n            } else if(this.state['alert_box'] == 1) {\n                $('#cartesian_distribution_container').css('backgroundColor', 'rgb(80,10,30)').css('opacity', 0.4);\n            }\n            let result = await Confirm( this.state['alert_text'], this.state['alert_title']);\n            if(result) {\n                $('#templated_distribution_container').css('backgroundColor', 'transparent').css('opacity', 1.0);\n                $('#cartesian_distribution_container').css('backgroundColor', 'transparent').css('opacity', 1.0);\n            } else {\n                $('#cartesian_distribution_container').css('backgroundColor', 'transparent').css('opacity', 1.0);\n                $('#templated_distribution_container').css('backgroundColor', 'transparent').css('opacity', 1.0);\n            }\n            this.setState({ alert_title: '', alert_text: '', alert_box: -1 });\n        }\n    }\n\n    componentDidUpdate() {\n        this.showAlert();\n    }\n\n    // #cartesian_distribution_container.height()\n    // #templated_distribution_container.height()\n\n    changeGridSizes(event) {\n        let value = (event.target.value - 50) + 100;\n        $(\"#cartesian_distribution_container\").css('backgroundSize', value + '%');\n        $(\"#templated_distribution_container\").css('backgroundSize', value + '%');\n        $(\"#distros_designer\").css('backgroundSize', (value * 0.45) + '%');\n        localStorage.setItem(\"cartesian: grid\", JSON.stringify({'size': value}));\n        localStorage.setItem(\"templated: grid\", JSON.stringify({'size': value}));\n        this.setState({'value': event.target.value});\n    }\n\n    componentWillMount() {\n        let cartesian_value = JSON.parse(localStorage.getItem(\"cartesian: grid\"));\n        if(cartesian_value && ('size' in cartesian_value)) {\n            this.setState({value: cartesian_value['size'] - 100 + 50});\n        }\n    }\n\n    showPanel(event) {\n        this.toggleSliging();\n        $('#boxes_container_draggable, #distros_designer').attr('sliding-panel', (this.sliding ? 'on' : 'off'));\n        $(event.target).toggleClass(\"fa-anchor\").toggleClass(\"fa-bars\");\n        $('#distros_designer').toggleClass(\"col-lg-9 col-sm-9 col-md-9\").toggleClass(\"col-lg-12 col-sm-12 col-md-12\");\n        event.preventDefault();\n        return false;\n    }\n\n    toggleSliging() {\n        this.sliding = !this.sliding;\n        localStorage.setItem(\"designer: slider\", this.sliding.toString());\n        $('#boxes_container_draggable').css('width', '100%');       \n    }\n\n    alertUserOnUnitSizeChange(index, distributionSize, event) {\n        let totalDroppedItems = this.containerRef.getTotalDroppedItems(index);\n        for(var i in totalDroppedItems) {\n            const item = totalDroppedItems[i];\n            if(item && ((parseFloat(item.top.replace('px', '')) + Constants.SIZES[item.type][1]) > this.scaled_grid_heights[distributionSize])) {\n                $(event.target).val(this.containerRef.state['distributionSize']);\n                throw new Error(\"It is not possible to resize the box. Move the Elements and try again\");\n            }\n        }\n\n        return true;\n    }\n    \n    changeUnitSize(event) {\n        let select = event.target;\n        let distributionSize = $(select).val();\n        let grid_heights = Object.fromEntries(this.grid_heights);\n        try {\n            this.current_box = 0;\n            let answer = this.alertUserOnUnitSizeChange(0, distributionSize, event);\n            this.current_box = 1;\n            answer = this.alertUserOnUnitSizeChange(1, distributionSize, event);\n        } catch(e) {\n            this.setState({ alert_text: e.message, alert_title: 'Change Unit Size to ' + distributionSize, alert_box: this.current_box });\n            event.preventDefault();\n            return false;\n        }\n        let margin_top = Object.fromEntries(this.margin_top);\n        $(document.getElementById(\"cartesian\")).attr('data-size', $(select).val());\n        $(document.getElementById(\"templated\")).attr('data-size', $(select).val());\n        localStorage.setItem(\"cartesian: size\", $(select).val());\n        localStorage.setItem(\"templated: size\", $(select).val());\n        $(\"#templated, #cartesian\").css('marginTop', margin_top[$(select).val()] + \"px\");\n        $(\"#templated\" + \"_distribution_container\").css('height', \n        (grid_heights[$(select).val()] * $(document.getElementById(\"templated\")).outerWidth() / 681).toString() + \"px\");\n        $(\"#cartesian_distribution_container\").css('height', \n        (grid_heights[$(select).val()] * $(document.getElementById(\"cartesian\")).outerWidth() / 681).toString() + \"px\"); // outerWidth\n        this.containerRef.setDistributionSize($(select).val());\n    }\n\n    monitoringShow(event) {\n        if(event.target.checked == false) {\n            $('#cartesian').hide();\n            document.getElementById(\"power_show\").checked = true;\n        } else {\n            $('#cartesian').show();\n        }\n    }\n\n    powerShow(event) {\n        if(event.target.checked == false) {\n            document.getElementById(\"monitoring_show\").checked = true;\n            $('#templated').hide();\n        } else {\n            $('#templated').show();\n        }\n    }\n\n    home() {\n        this.setState({\n            svg_monitoring: false,\n            svg_power: false\n        })\n    }\n\n    showMenuTree(event) {\n        let id = $(event.target).attr('data-element');\n        let menu = $(event.target).attr('menu-element');\n        $('#'+id).show();\n    }\n\n    hideMenuTree(event) {\n        let id = $(event.target).attr('data-element');\n        let menu = $(event.target).attr('menu-element');\n        $('#'+id).hide();\n    }\n\n    async createNewDiagram(event) {\n        let result = await Confirm(\"Creating a New Diagram will remove all existing Elements. Do you want to proceed?\", \"Create New Diagram\", \n        \"Yes\", \"No\");\n        if(result) {\n            let dist1 = this.containerRef.setTotalDroppedItems([], 0, \"templated\", true);\n            let dist2 = this.containerRef.setTotalDroppedItems([], 1, \"cartesian\", true);\n            this.containerRef.setDistributions([dist1[0], dist2[1]]);\n            if(this.state['drawing_name'].indexOf(\"New Blank Project\") == -1) {\n                this.setState({drawing_name: 'New Blank Project'});\n            } else if(this.state['drawing_name'] == \"New Blank Project\") {\n                this.setState({drawing_name: 'New Blank Project 2'});\n            } else {\n                this.setState({drawing_name: 'New Blank Project ' + (parseInt(this.state['drawing_name'].replace(\"New Blank Project \", \"\")) + 1)});\n            }\n        }\n    }\n\n    saveDiagram(event) {\n        let cartesian = localStorage.getItem(\"cartesian: items\");\n        let templated = localStorage.getItem(\"templated: items\");\n        let cartesian_size = localStorage.getItem(\"cartesian: size\");\n        let templated_size = localStorage.getItem(\"templated: size\");\n\n        axios.post(window.HOSTNAME_URL + \"/distros/save-diagram\", qs.stringify({ cartesian, templated, cartesian_size, templated_size }), {\n            headers: {\n                'content-type': 'application/x-www-form-urlencoded;charset=utf-8'\n            }\n        })\n          .then(res => {\n            Alert(\"The diagram has been saved to the database.\", \"Save Diagram!\", \"OK\");\n          });\n    }\n\n    print(event) {\n        window.print();\n    }\n\n    render() {\n        let elem = null;\n        let designer = null, alert = null, \n        buttons = <div className=\"buttons\">\n            <div className=\"header-logo row\">\n                <div className=\"col col-lg-3 col-md-3 col-sm-3\">\n                    <h2 className=\"header-tagline\" style={{color: '#b00110'}}>Customize your Distro</h2>\n                </div>\n                <div className=\"col col-lg-5 col-md-5 col-sm-5\" id=\"header_controls\">\n                    \n                </div>\n                <div className=\"col col-lg-4 col-md-4 col-sm-4\">\n                    <div className=\"header-logo-image-container\">\n                        <img src=\"images/logo/power_distros_logo-01.png\" width=\"180px\" alt=\"Power Distros Logo\" title=\"Power Distros Logo\" />\n                    </div>\n                </div>\n            </div>\n            <div className=\"header-tag-full\" style={{padding: '3px 20px', width: '100%', backgroundColor: '#4a0d12', color: 'white', fontSize: '24px', textAlign: 'left'}}>\n                <nav className=\"menu-navigation col-lg-12 col-md-12 col-sm-12\" style={{clear: 'both'}}>\n                    <i className=\"fas fa-anchor\" style={{color: 'red', cursor: 'alias'}}></i>\n                    <ul className=\"menu_navigation\" id=\"menu_navigation\">\n                        <li className=\"menu-item\" onClick={this.createNewDiagram}>NEW</li>\n                        <li className=\"menu-item\">OPEN</li>\n                        <li className=\"menu-item\" onClick={this.saveDiagram}>SAVE</li>\n                        <li className=\"menu-item\" onClick={this.print}>PRINT</li>\n                    </ul>\n                    <div className=\"drawing-title col-lg-8 col-md-8 col-sm-8\" style={{textAlign: 'center', marginLeft: 'auto', marginRight: 'auto', display: 'inline-block'}}>\n                        <em style={{fontSize: '24px'}}>{this.state['drawing_name']}</em>\n                    </div>\n                    {/* <div className=\"field-controls\" style={{marginRight: '30px', float: 'right', display: 'inline-block'}}>\n                        <input type=\"range\" name=\"zoom\" id=\"zoom\" min=\"0\" max=\"100\" step=\"1\" value={this.state['value']} onChange={this.changeGridSizes} />\n                    </div> */}\n                    <div className=\"clearfix\" style={{clear: 'both'}}></div>\n                </nav>\n                <div className=\"row\" id=\"header-separation\">\n                    <div className=\"col-lg-3 col-md-3 col-sm-3\">\n                        {/* <label for=\"power_show\">\n                            <input type=\"checkbox\" name=\"power_show\" id=\"power_show\" value=\"1\" onChange={this.powerShow} />\n                            <span>Plugs / Sockets</span>\n                        </label>\n                        <label for=\"monitoring_show\">\n                            <input type=\"checkbox\" name=\"monitoring_show\" id=\"monitoring_show\" value=\"1\" onChange={this.monitoringShow} />\n                            <span>Breakers</span>\n                        </label> */}\n                    </div>\n                    <div className=\"col-lg-9 col-md-9 col-sm-9\">\n                        <h5 className=\"power-header\" style={{margin: '10px 0px', cursor: 'pointer'}}>PLUGS / SOCKETS</h5>\n                        <h5 className=\"monitoring-header\" style={{margin: '10px 0px', cursor: 'pointer'}}>BREAKERS</h5>\n                    </div>\n                </div>\n            </div>\n        </div>\n        if(this.state['svg_power'] == true && this.state['svg_monitoring'] == true) {\n            window.setCache();\n            elem = <div className=\"svg-controls\"><RearSide PowerViewBox={this.state['PowerViewBox']} />\n            <FrontSide MonitoringViewBox={this.state['MonitoringViewBox']} /></div>;\n        } else {\n            designer = <div className=\"bodyContainer\">\n            <div className=\"AppInnerContainerHolder\">\n                <Container controller={this} ref={(ref) => {this.containerRef = ref}} snapToGrid={this.state['snapToGridAfterDrop']}/>\n            </div></div>;\n        }\n        return (<div className=\"container-fluid\">\n\n            { buttons }\n            \n            { designer }\n\n            { elem }\n\n        </div>);\n    }\n}","import React from 'react'\r\nimport Controller from './Controller'\r\nimport { DndProvider } from 'react-dnd'\r\nimport { HTML5Backend } from 'react-dnd-html5-backend'\r\nimport $ from 'jquery';\r\n\r\nwindow.setCache = function() {\r\n    if(localStorage.getItem(\"cartesian: size\")) {\r\n        $('#unit_size2').val(localStorage.getItem(\"cartesian: size\"));\r\n    }\r\n    if(localStorage.getItem(\"templated: size\")) {\r\n        $('#unit_size1').val(localStorage.getItem(\"templated: size\"));\r\n    }\r\n}\r\n\r\nfunction DrawingApp() {\r\n    return (\r\n        <div className=\"App\">\r\n            <DndProvider backend={HTML5Backend}>\r\n                <Controller />\r\n            </DndProvider>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DrawingApp;","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport DrawingApp from './components/DrawingApp'\r\n\r\nfunction App() {\r\n  return (\r\n    <DrawingApp />\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n    <App />,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}