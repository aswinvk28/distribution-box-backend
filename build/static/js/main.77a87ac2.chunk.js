(this["webpackJsonppower-distribution-box"]=this["webpackJsonppower-distribution-box"]||[]).push([[0],{149:function(e,t,i){},158:function(e,t){},160:function(e,t){},171:function(e,t){},173:function(e,t){},200:function(e,t){},202:function(e,t){},203:function(e,t){},208:function(e,t){},210:function(e,t){},229:function(e,t){},241:function(e,t){},244:function(e,t){},247:function(e,t,i){"use strict";i.r(t);var n=i(1),a=i(0),o=i.n(a),r=i(57),s=i.n(r),c=(i(149),i(90),i(19)),l=i(21),u=i(8),d=i(23),p=i(22),m=i(16),g=i(47),b=i(7),h=i(251),f=i(142),j={useLocalStorage:!0,gridSize:16,ElementType:{OUTPUTS:"Outputs",FRONTS:"Front",ADDONS:"Addons",INPUTS:"Inputs"},SVG_ELEMENTS:{FULL_WIDTH:"480px"},SCALE:{FRONT_SIDE:5,REAR_SIDE:5}};function O(e,t){return[Math.round(e/j.gridSize)*j.gridSize,Math.round(t/j.gridSize)*j.gridSize]}var x=i(253),v=i(252),y=i(38),S=i.n(y),_="Plugs",w="Sockets",I="Pilot Lights",T="Multimeter",E="Live Pins Input",D="Loop Through",C="Pins Input@1",k="Pins Input@2",B="Plugs@1",N="Plugs@2",P="Plugs@3",A="Plugs@4",L="Plugs@5",z="Sockets@1",U="Sockets@2",q="Sockets@3",F=i(63),R=function(e){Object(d.a)(i,e);var t=Object(p.a)(i);function i(e){return Object(c.a)(this,i),t.call(this,e)}return Object(l.a)(i,[{key:"handleClick",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.image,i=e.name,a=e.width,o=e.height;return Object(n.jsxs)("div",{className:"distribution-box-menu",children:[Object(n.jsxs)(F.b,{id:"distribution-box-contextmenu",children:[Object(n.jsx)("div",{className:"well"}),Object(n.jsx)("img",{src:t,alt:i,title:i,width:a,height:o})]}),Object(n.jsx)(F.a,{id:"distribution-box-contextmenu",children:Object(n.jsx)(F.c,{data:{},onClick:this.handleClick,children:"Remove"})})]})}}]),i}(o.a.Component),M=i(5),H=i.n(M),W={border:"1px dashed gray",backgroundColor:"transparent",padding:"0.1px",marginRight:"1.5rem",marginBottom:"1.5rem",cursor:"move",float:"left"},V={};V[_]="60px",V[w]="60px",V[I]="20px",V[T]="50px",V[E]="300px",V[D]="300px",V[C]="60px",V[k]="60px",V[B]="60px",V[N]="60px",V[P]="60px",V[A]="60px",V[L]="60px",V[z]="60px",V[U]="60px",V[q]="60px";var G=function(e){var t=e.name,i=e.type,a=e.uniqid,o=e.distribution,r=e.image,s=e.top,c=e.left,l=(e.e_name,e.isDropped,"grid-box-item-"+t),u="grid-box "+l,d=l+"-"+a,p=V[i],g=Object(v.a)({item:{name:t,type:i,uniqid:a,distribution:o,image:r,top:s,left:c,width:p},collect:function(e){return{item:e.getItem(),opacity:e.isDragging()?.4:1,initialOffset:e.getInitialClientOffset(),currentOffset:e.getSourceClientOffset(),clientOffset:e.getClientOffset(),canDrag:e.canDrag()}}}),h=Object(b.a)(g,2),f=h[0],j=f.opacity,O=(f.initialOffset,f.currentOffset,f.clientOffset,f.item,h[1]);return Object(n.jsx)("div",{ref:O,style:Object(m.a)(Object(m.a)({},W),{},{opacity:j,top:s,left:c}),className:u,id:d,children:Object(n.jsx)(R,{image:r,name:t,width:V[i],height:"auto"})})},J=function(e){var t=e.item,i=(e.currentOffset,e.clientOffset,H()(document.getElementById(t.dragElementId)).width()),a=H()(document.getElementById(t.dragElementId)).height(),o="highlight-component-"+t.name;return Object(n.jsx)("div",{className:"highlight-component",id:o,style:{position:"absolute",opacity:.4,display:"block",zIndex:100,backgroundColor:"pink",width:i.toString()+"px",height:a.toString()+"px"}})},X=(j.useLocalStorage,{marginBottom:"0.5rem",padding:"5%",textAlign:"center",fontSize:"1rem",lineHeight:"normal"}),Y=function(e){var t=e.accept,i=(e.lastDroppedItem,e.totalDroppedItems),o=e.e_name,r=e.onDrop,s=Object(x.a)({accept:t,drop:r,collect:function(e){return{isOver:e.isOver(),canDrop:e.canDrop(),initialOffset:e.getInitialClientOffset(),currentOffset:e.getSourceClientOffset(),clientOffset:e.getClientOffset(),item:e.getItem()}},canDrop:function(e,t){return null==e.distribution&&void 0==e.distribution},hover:function(e,t){e;var i="element-box-item-"+e.name;return e.dragElementId=i,e.highlightComponent="highlight-component-"+e.name,!1}}),c=Object(b.a)(s,2),l=c[0],u=l.isOver,d=l.canDrop,p=(l.initialOffset,l.currentOffset),g=l.clientOffset,j=l.item,v=c[1],y="transparent";u&&d?y="darkgreen":d&&(y="darkkhaki"),i||(i=[]),i&&localStorage.setItem(o+": items",JSON.stringify(i));var S=Object(n.jsx)("div",{});j&&g&&p&&document.getElementById(j.dragElementId)&&(S=Object(n.jsx)(J,{item:j,currentOffset:p,clientOffset:g}));!function(){var e=Object(a.useState)(null),t=Object(b.a)(e,2),i=t[0],n=t[1],o=Object(a.useState)(null),r=Object(b.a)(o,2),s=r[0],c=r[1];if(Object(a.useEffect)((function(){var e=Object(h.a)(document,"drag").pipe(Object(f.a)((function(e){return[e.clientX,e.clientY]}))).subscribe((function(e){var t=Object(b.a)(e,2),i=t[0],a=t[1];n(i+window.scrollX),c(a+window.scrollY)}));return function(){e.unsubscribe()}}),[]),d&&j&&document.getElementById(j.highlightComponent)){var l=O(i,s),u=Object(b.a)(l,2),p=u[0],m=u[1];if("cartesian"==j.distribution_name)document.getElementById(j.highlightComponent).style.left=p.toString()+"px",document.getElementById(j.highlightComponent).style.top=m.toString()+"px",document.getElementById(j.dragElementId).style.left=p.toString()+"px",document.getElementById(j.dragElementId).style.top=m.toString()+"px",j.left=p.toString()+"px",j.top=m.toString()+"px";else if("templated"==j.distribution_name){var g=H()("#templated_distribution_container").offset();document.getElementById(j.highlightComponent).style.left=(p-g.left).toString()+"px",document.getElementById(j.highlightComponent).style.top=(m-g.top).toString()+"px",document.getElementById(j.dragElementId).style.left=(p-g.left).toString()+"px",document.getElementById(j.dragElementId).style.top=(m-g.top).toString()+"px",j.left=(p-g.left).toString()+"px",j.top=(m-g.top).toString()+"px"}}}();return Object(n.jsxs)("div",{style:Object(m.a)({},X),className:o,id:o,children:[S,Object(n.jsx)("div",{ref:v,style:{backgroundColor:y},className:"distribution_container",id:o+"_distribution_container",children:i.map((function(e,t){return Object(n.jsx)(G,{name:e.name,type:e.type,uniqid:e.uniqid,distribution:e.distribution,image:e.image,e_name:o,top:e.top,left:e.left,isDropped:!0},e.index)}))})]})},$={marginRight:"10%",marginLeft:"5%",width:"90%",marginBottom:"0.5rem",color:"white",padding:j.gridSize.toString()+"px",textAlign:"center",fontSize:"5rem",lineHeight:"normal"},K=function(e){var t=e.accept,i=e.onDrop,a=Object(x.a)({accept:t,drop:i,collect:function(e){return{isOver:e.isOver(),canDrop:e.canDrop()}}}),o=Object(b.a)(a,2),r=o[0],s=r.isOver,c=r.canDrop,l=o[1],u="#222";return s&&c?u="darkgreen":c&&(u="darkkhaki"),Object(n.jsx)("div",{ref:l,style:Object(m.a)(Object(m.a)({},$),{},{backgroundColor:u}),className:"dustbin-container",children:"DUSTBIN"})},Q={border:"0px none",backgroundColor:"white",padding:"0px",marginRight:"1.5rem",marginBottom:"1.5rem",cursor:"move",float:"left"},Z=function(e){var t=e.name,i=e.type,a=e.uniqid,o=e.distribution,r=e.image,s=e.width,c=e.height,l=e.distribution_name,u=(e.isDropped,Object(v.a)({item:{name:t,type:i,uniqid:a,distribution:o,image:r,width:s,height:c,distribution_name:l},collect:function(e){return{opacity:e.isDragging()?.4:1}}})),d=Object(b.a)(u,2),p=d[0].opacity,g=d[1],h="box-item box-item-"+t;return Object(n.jsx)("div",{ref:g,style:Object(m.a)(Object(m.a)({},Q),{},{opacity:p}),className:h,id:"element-box-item-"+t,children:Object(n.jsx)("img",{src:r,alt:t,title:t,width:s,height:"auto"})})},ee=i(143),te=i.n(ee);var ie=i(140);function ne(e,t,i){var n="translate3d(".concat(e,"px, ").concat(t,"px, 0)");return{opacity:i?0:1,height:i?0:"",transform:n,WebkitTransform:n,left:e,top:t}}var ae=function(e){var t=e.name,i=e.type,o=e.uniqid,r=e.distribution,s=e.image,c=e.width,l=e.height,u=e.isDropped,d=e.left,p=e.top,m=e.distribution_name,g=e.id,h=Object(v.a)({item:{name:t,type:i,uniqid:o,distribution:r,image:s,width:c,distribution_name:m},collect:function(e){return{isDragging:e.isDragging()}}}),f=Object(b.a)(h,3),j=f[0].isDragging,O=(f[1],f[2]);return Object(a.useEffect)((function(){O(Object(ie.a)(),{captureDraggingState:!0})}),[]),Object(n.jsx)("div",{style:ne(d,p,j),className:"draggable-box",children:Object(n.jsx)(Z,{name:t,type:i,uniqid:o,distribution:r,image:s,width:c,height:l,distribution_name:m,isDropped:u})},g)},oe=function(e){Object(d.a)(i,e);var t=Object(p.a)(i);function i(e){return Object(c.a)(this,i),t.call(this,e)}return Object(l.a)(i,[{key:"componentDidMount",value:function(){H()(document.getElementById(this.e_name)).css("height",(.4*H()(document).width()/681*1455).toString()+"px"),document.getElementById(this.e_name+"_distribution_container").style.height=(1137*H()(document.getElementById(this.e_name)).outerWidth()/681).toString()+"px"}},{key:"render",value:function(){var e=this.props,t=e.accept,i=e.lastDroppedItem,a=e.totalDroppedItems,o=e.e_name,r=e.onDrop,s=e.index;return this.e_name=o,Object(n.jsx)(Y,{accept:t,lastDroppedItem:i,totalDroppedItems:a,e_name:o,onDrop:r},s)}}]),i}(o.a.Component),re=j.useLocalStorage,se=[B,N,P,A,L,z,U,q,E,D,C,k],ce=[B,N,P,A,L,z,U,q,I,T,E,D,C,k],le={width:"100%",marginBottom:"0.5rem",color:"#ababab",padding:"1rem",textAlign:"center",fontSize:"1rem",lineHeight:"normal",float:"left"},ue=function(e){e.snapToGrid;var t=null,i=null;re&&(t=localStorage.getItem("cartesian: items"),i=localStorage.getItem("templated: items"),t=t?JSON.parse(t):[],i=i?JSON.parse(i):[]);var o=Object(a.useState)([{accepts:[I,T],lastDroppedItem:null,totalDroppedItems:t,e_name:"cartesian"},{accepts:se,lastDroppedItem:null,totalDroppedItems:i,e_name:"templated"}]),r=Object(b.a)(o,2),s=r[0],c=r[1],l=Object(a.useState)([{name:"Plugs@1",type:B,uniqid:null,distribution:null,left:0,top:0,index:0,image:"images/dist_box/Output-Plug-1.png",element_type:j.ElementType.OUTPUTS,size:{width:"100px",height:"98px"},distribution_name:"templated"},{name:"Plugs@2",type:N,uniqid:null,distribution:null,left:0,top:0,index:0,image:"images/dist_box/Output-Plug-2.png",element_type:j.ElementType.OUTPUTS,size:{width:"80px",height:"102px"},distribution_name:"templated"},{name:"Plugs@3",type:P,uniqid:null,distribution:null,left:0,top:0,index:0,image:"images/dist_box/Output-Plug-3.png",element_type:j.ElementType.OUTPUTS,size:{width:"80px",height:"120px"},distribution_name:"templated"},{name:"Plugs@4",type:A,uniqid:null,distribution:null,left:0,top:0,index:0,image:"images/dist_box/Output-Plug-4.png",element_type:j.ElementType.OUTPUTS,size:{width:"80px",height:"119px"},distribution_name:"templated"},{name:"Plugs@5",type:L,uniqid:null,distribution:null,left:0,top:0,index:0,image:"images/dist_box/Output-Plug-5.png",element_type:j.ElementType.OUTPUTS,size:{width:"80px",height:"121px"},distribution_name:"templated"},{name:"Sockets@1",type:z,uniqid:null,distribution:null,left:0,top:0,index:1,image:"images/dist_box/Output-Socket-1.png",element_type:j.ElementType.OUTPUTS,size:{width:"80px",height:"89px"},distribution_name:"templated"},{name:"Sockets@2",type:U,uniqid:null,distribution:null,left:0,top:0,index:1,image:"images/dist_box/Output-Socket-2.png",element_type:j.ElementType.OUTPUTS,size:{width:"80px",height:"111px"},distribution_name:"templated"},{name:"Sockets@3",type:q,uniqid:null,distribution:null,left:0,top:0,index:1,image:"images/dist_box/Output-Socket-3.png",element_type:j.ElementType.OUTPUTS,size:{width:"80px",height:"122px"},distribution_name:"templated"},{name:"Pilot-Lights",type:I,uniqid:null,distribution:null,left:0,top:0,index:2,image:"images/dist_box/pilot-lights.gif",element_type:j.ElementType.FRONTS,size:{width:"60px",height:"60px"},distribution_name:"cartesian"},{name:"Multimeter",type:T,uniqid:null,distribution:null,left:0,top:0,index:3,image:"images/dist_box/multimeter.png",element_type:j.ElementType.FRONTS,size:{width:"60px",height:"60px"},distribution_name:"cartesian"},{name:"Live-Pins-Input",type:E,uniqid:null,distribution:null,left:0,top:0,index:4,image:"images/dist_box/Live-Pins-Inputs.png",element_type:j.ElementType.ADDONS,size:{width:j.SVG_ELEMENTS.FULL_WIDTH,height:"67px"},distribution_name:"templated"},{name:"Loop-Through",type:D,uniqid:null,distribution:null,left:0,top:0,index:5,image:"images/dist_box/Live-Pins-Outputs.png",element_type:j.ElementType.ADDONS,size:{width:j.SVG_ELEMENTS.FULL_WIDTH,height:"67px"},distribution_name:"templated"},{name:"Pins-Input@1",type:C,uniqid:null,distribution:null,left:0,top:0,index:4,image:"images/dist_box/Inputs-Pin-1.png",element_type:j.ElementType.INPUTS,size:{width:"80px",height:"90px"},distribution_name:"templated"},{name:"Pins-Input@2",type:k,uniqid:null,distribution:null,left:0,top:0,index:5,image:"images/dist_box/Inputs-Pin-2.png",element_type:j.ElementType.INPUTS,size:{width:"80px",height:"80px"},distribution_name:"templated"}]),u=Object(b.a)(l,2),d=u[0],p=(u[1],Object(a.useState)([])),h=Object(b.a)(p,2),f=h[0],O=h[1];var v=Object(a.useCallback)((function(e,t){var i=t.name;t.uniqid=function(e){var t=new Date;return te()(e+"/"+t.getTime().toString()).toString()}(t.name),t.distribution=e,O(S()(f,i?{$push:[i]}:{$push:[]})),c(S()(s,Object(g.a)({},e,{lastDroppedItem:{$set:t},totalDroppedItems:{$push:[t]}})))}),[f,s]),y=Object(a.useState)([{accepts:ce}]),_=Object(b.a)(y,2),w=_[0],F=(_[1],Object(a.useCallback)((function(e,t){for(var i=t.distribution,n=s[i].totalDroppedItems,a=[],o=0;o<n.length;o++)t.uniqid===n[o].uniqid||a.push(n[o]);c(S()(s,Object(g.a)({},i,{totalDroppedItems:{$set:a}})))}),[s])),R=Object(x.a)({accept:ce,drop:function(e,t){t.getDifferenceFromInitialOffset()}});Object(b.a)(R,2)[1];function M(e,t){return Object(n.jsx)("div",{className:"draggable-box-container",children:Object(n.jsx)(ae,Object(m.a)({id:t,name:e.name,type:e.type,uniqid:e.uniqid,distribution:e.distribution,image:e.image,width:e.size.width,height:e.size.height,isDropped:(i=e.name,f.indexOf(i)>-1),distribution_name:e.distribution_name},e),t)});var i}var H=[],W=[],V=[],G=[];return d.map((function(e,t){switch(e.element_type){case j.ElementType.OUTPUTS:H.push([e,t]);break;case j.ElementType.FRONTS:W.push([e,t]);break;case j.ElementType.ADDONS:V.push([e,t]);break;case j.ElementType.INPUTS:G.push([e,t])}})),Object(n.jsxs)("div",{className:"AppInnerContainer",children:[Object(n.jsx)("div",{style:{overflow:"hidden",clear:"both"},children:Object(n.jsxs)("div",{style:le,className:"templated-distributions-container",children:[Object(n.jsx)("em",{style:{fontSize:"48px",color:"rgb(50, 55, 165)"},children:"24U"}),s.map((function(e,t){var i=e.accepts,a=e.lastDroppedItem,o=e.totalDroppedItems,r=e.e_name;return Object(n.jsx)(oe,{accept:i,lastDroppedItem:a,totalDroppedItems:o,e_name:r,onDrop:function(e){return v(t,e)}},t)}))]},"1")},"0000"),Object(n.jsxs)("div",{className:"boxes-container-draggable",children:[Object(n.jsx)("div",{className:"boxes-container-holder-left",children:Object(n.jsxs)("div",{style:{overflow:"hidden",clear:"both",marginTop:"15px",width:"90%",position:"relative"},className:"boxes-container",children:[Object(n.jsx)("em",{children:W[0][0].element_type},"0"),Object(n.jsx)("div",{className:"draggable-box-inputs",children:W.map((function(e,t){return M(e[0],e[1])}))},"1")]})},"1"),Object(n.jsxs)("div",{className:"boxes-container-holder-right",children:[Object(n.jsxs)("div",{style:{overflow:"hidden",clear:"both",marginTop:"15px",width:"90%",position:"relative"},className:"boxes-container",children:[Object(n.jsx)("em",{children:H[0][0].element_type},"0"),Object(n.jsx)("div",{className:"draggable-box-inputs",children:H.map((function(e,t){return M(e[0],e[1])}))},"1")]},"1"),Object(n.jsxs)("div",{style:{overflow:"hidden",clear:"both",marginTop:"15px",width:"90%",position:"relative"},className:"boxes-container",children:[Object(n.jsx)("em",{children:V[0][0].element_type},"0"),Object(n.jsx)("div",{className:"draggable-box-inputs",children:V.map((function(e,t){return M(e[0],e[1])}))},"1")]},"2"),Object(n.jsxs)("div",{style:{overflow:"hidden",clear:"both",marginTop:"15px",width:"90%",position:"relative"},className:"boxes-container",children:[Object(n.jsx)("em",{children:G[0][0].element_type},"0"),Object(n.jsx)("div",{className:"draggable-box-inputs",children:G.map((function(e,t){return M(e[0],e[1])}))},"1")]},"3")]},"2")]},"1111"),w.map((function(e,t){var i=e.accepts;return Object(n.jsx)(K,{accept:i,onDrop:function(e){return F(t,e)}},t)}))]})};i(249);var de=function(e){Object(d.a)(i,e);var t=Object(p.a)(i);function i(e){var n;Object(c.a)(this,i),(n=t.call(this,e)).id="distribution_front_side",n.viewBox="",n.state={change:!1},n.viewBox=n.props.viewBox,n.paper=window.Snap("#"+n.id),n.g=n.paper.g(),n.image=n.image.bind(Object(u.a)(n)),n.objects=n.objects.bind(Object(u.a)(n)),n.type_mapping=n.type_mapping.bind(Object(u.a)(n)),n.importAllObjects=n.importAllObjects.bind(Object(u.a)(n)),n.importCartesianObjectsByCache=n.importCartesianObjectsByCache.bind(Object(u.a)(n)),n.importCartesianObjectsByCache=n.importCartesianObjectsByCache.bind(Object(u.a)(n)),n.draw=n.draw.bind(Object(u.a)(n)),n.changeSlider=n.changeSlider.bind(Object(u.a)(n)),n.obtainViewBox=n.obtainViewBox.bind(Object(u.a)(n)),n.object_types=Object.fromEntries(n.type_mapping()),n.importAllObjects("local_storage").then((function(e){return n.draw(e)})).catch((function(e){return console.error(e)}));var a=0,o=Object(u.a)(n);return H()("#"+n.id).mousedown((function(e){H()(this).css("cursor","grab"),0==a&&(a={x:e.clientX,y:e.clientY}),H()(this).mousemove((function(e){H()(this).css("cursor","grab");var t=e.clientX-a.x,i=e.clientY-a.y,n=o.obtainViewBox();n[0]-=t,n[1]-=i,n=n.map((function(e){return e.toString()})),o.viewBox=n.join(" "),o.setState({change:!o.state.change})}))})).mouseup((function(){H()(this).css("cursor","default"),H()(this).unbind("mousemove"),a=0})).mouseout((function(){H()(this).css("cursor","default"),H()(this).unbind("mousemove")})),n}return Object(l.a)(i,[{key:"type_mapping",value:function(){return new Map([[I,"image"],[T,"image"]])}},{key:"objects",value:function(){return null}},{key:"image",value:function(e){for(var t=0;t<e.length;t++){var i=e[t].image,n=parseInt(e[t].width.replace("px","")),a=parseInt(e[t].height.replace("px","")),o=this.paper.image(i,e[t].left,e[t].top,(n/j.SCALE.FRONT_SIDE).toString()+"px",(a/j.SCALE.FRONT_SIDE).toString()+"px");this.g.add(o)}}},{key:"importAllObjects",value:function(e){var t=this;return new Promise((function(i,n){try{"local_storage"==e?t.objects=t.importCartesianObjectsByCache():"database"==e&&(t.objects=t.importCartesianObjectsFromDatabase())}catch(a){n(a)}i(t.objects)}))}},{key:"importCartesianObjectsByCache",value:function(){var e=window.localStorage.getItem("cartesian: items");return JSON.parse(e)}},{key:"importCartesianObjectsFromDatabase",value:function(){return null}},{key:"draw",value:function(e){var t=null;for(var i in e)e[i].type in this.object_types&&(t=this.object_types[e[i].type]);null!=t&&this[t](e)}},{key:"obtainViewBox",value:function(){return this.viewBox.split(" ").map((function(e){return parseInt(e)}))}},{key:"changeSlider",value:function(e){var t=this.obtainViewBox(),i=e.target.value;t[0]+=5*(50-i),t[1]+=5*(50-i),t[2]-=5*(50-i),t[3]-=5*(50-i),t=t.map((function(e){return e.toString()})),this.viewBox=t.join(" "),this.setState({change:!this.state.change})}},{key:"render",value:function(){return H()(document.getElementById(this.id)).attr("viewBox",this.viewBox),Object(n.jsx)("input",{type:"range",name:"zoom",id:"zoom",min:"0",max:"50",step:"1",onChange:this.changeSlider})}}]),i}(o.a.Component),pe=function(e){Object(d.a)(i,e);var t=Object(p.a)(i);function i(e){var n;Object(c.a)(this,i),(n=t.call(this,e)).id="distribution_rear_side",n.paper=window.Snap("#"+n.id),n.image=n.image.bind(Object(u.a)(n)),n.objects=n.objects.bind(Object(u.a)(n)),n.type_mapping=n.type_mapping.bind(Object(u.a)(n)),n.importAllObjects=n.importAllObjects.bind(Object(u.a)(n)),n.importCartesianObjectsByCache=n.importCartesianObjectsByCache.bind(Object(u.a)(n)),n.importCartesianObjectsByCache=n.importCartesianObjectsByCache.bind(Object(u.a)(n)),n.draw=n.draw.bind(Object(u.a)(n)),n.object_types=Object.fromEntries(n.type_mapping()),n.importAllObjects("local_storage").then((function(e){return n.draw(e)})).catch((function(e){return console.error(e)}));var a=0,o=Object(u.a)(n);return H()("#"+n.id).mousedown((function(e){H()(this).css("cursor","grab"),0==a&&(a={x:e.clientX,y:e.clientY}),H()(this).mousemove((function(e){H()(this).css("cursor","grab");var t=e.clientX-a.x,i=e.clientY-a.y,n=o.obtainViewBox();n[0]-=t,n[1]-=i,n=n.map((function(e){return e.toString()})),o.viewBox=n.join(" "),o.setState({change:!o.state.change})}))})).mouseup((function(){H()(this).css("cursor","default"),H()(this).unbind("mousemove"),a=0})).mouseout((function(){H()(this).css("cursor","default"),H()(this).unbind("mousemove")})),n}return Object(l.a)(i,[{key:"type_mapping",value:function(){return new Map([[E,this.image],[D,this.image],[C,this.image],[k,this.image],[B,this.image],[N,this.image],[P,this.image],[A,this.image],[L,this.image]])}},{key:"objects",value:function(){return null}},{key:"image",value:function(e){for(var t=0;t<e.length;t++){var i=e[t].image,n=parseInt(e[t].width.replace("px","")),a=parseInt(e[t].height.replace("px",""));this.paper.image(i,e[t].left,e[t].top,(n/j.SCALE.FRONT_SIDE).toString()+"px",(a/j.SCALE.FRONT_SIDE).toString()+"px")}}},{key:"importAllObjects",value:function(e){var t=this;return new Promise((function(i,n){try{"local_storage"==e?t.objects=t.importCartesianObjectsByCache():"database"==e&&(t.objects=t.importCartesianObjectsFromDatabase())}catch(a){n(a)}i(t.objects)}))}},{key:"importCartesianObjectsByCache",value:function(){var e=window.localStorage.getItem("cartesian: items");return JSON.parse(e)}},{key:"importCartesianObjectsFromDatabase",value:function(){return null}},{key:"draw",value:function(e){var t=null;for(var i in e)e[i].type in this.object_types&&(t=this.object_types[e[i].type]);null!=t&&this[t](e)}},{key:"obtainViewBox",value:function(){return this.viewBox.split(" ").map((function(e){return parseInt(e)}))}},{key:"render",value:function(){return H()(document.getElementById(this.id)).attr("viewBox",this.props.viewBox),Object(n.jsx)("input",{type:"range",name:"zoom",id:"zoom",min:"0",max:"50",step:"1",onChange:this.changeSlider})}}]),i}(o.a.Component),me=function e(){Object(c.a)(this,e)};me.controller=null;var ge=me,be=function(e){Object(d.a)(i,e);var t=Object(p.a)(i);function i(e){var n;return Object(c.a)(this,i),n=t.call(this,e),ge.__singletonRef=new ge,ge.__singletonRef.controller=Object(u.a)(n),n.state={svg_monitoring:!1,svg_power:!1,snapToGridAfterDrop:!0,snapToGridWhileDragging:!0,viewBox:""},n.changeToMonitoring=n.changeToMonitoring.bind(Object(u.a)(n)),n.changeToPower=n.changeToPower.bind(Object(u.a)(n)),n.changeToDefault=n.changeToDefault.bind(Object(u.a)(n)),n.cartesianWidth=null,n.cartesianHeight=null,n.templateWidth=null,n.templateHeight=null,n}return Object(l.a)(i,[{key:"changeToMonitoring",value:function(){this.setState({svg_monitoring:!0,svg_power:!1,viewBox:"0 0 "+(this.cartesianWidth*j.SCALE.FRONT_SIDE).toString()+" "+(this.cartesianHeight*j.SCALE.FRONT_SIDE).toString()}),H()(document.body).css("overflow","hidden"),H()(document.documentElement).css("overflow","hidden")}},{key:"changeToPower",value:function(){this.setState({svg_monitoring:!1,svg_power:!0,viewBox:"0 0 "+(this.templateWidth*j.SCALE.REAR_SIDE).toString()+" "+(this.cartesianHeight*j.SCALE.REAR_SIDE).toString()}),H()(document.body).css("overflow","hidden"),H()(document.documentElement).css("overflow","hidden")}},{key:"changeToDefault",value:function(){this.setState({svg_monitoring:!1,svg_power:!1,viewBox:""}),H()(document.body).css("overflow","visible"),H()(document.documentElement).css("overflow","visible")}},{key:"componentDidMount",value:function(){this.cartesianWidth||(this.cartesianWidth=H()(".cartesian").width()),this.cartesianHeight||(this.cartesianHeight=H()(".cartesian").height()),this.templateWidth||(this.templateWidth=H()(".templated").width()),this.templateHeight||(this.templateHeight=H()(".templated").height())}},{key:"render",value:function(){var e=null,t=null,i=Object(n.jsxs)("div",{className:"buttons",children:[Object(n.jsx)("button",{onClick:this.changeToMonitoring,children:"Monitoring"}),Object(n.jsx)("button",{onClick:this.changeToPower,children:"Power"})]});return 1==this.state.svg_monitoring?e=Object(n.jsx)(de,{viewBox:this.state.viewBox}):1==this.state.svg_power?e=Object(n.jsx)(pe,{viewBox:this.state.viewBox}):t=Object(n.jsx)("div",{className:"bodyContainer",children:Object(n.jsx)("div",{className:"AppInnerContainerHolder",children:Object(n.jsx)(ue,{snapToGrid:this.state.snapToGridAfterDrop})})}),Object(n.jsxs)("div",{className:"container",children:[i,t,e]})}}]),i}(o.a.Component),he=i(250),fe=i(87);var je=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(he.a,{backend:fe.a,children:Object(n.jsx)(be,{})})})};var Oe=function(){return Object(n.jsx)(je,{})},xe=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,254)).then((function(t){var i=t.getCLS,n=t.getFID,a=t.getFCP,o=t.getLCP,r=t.getTTFB;i(e),n(e),a(e),o(e),r(e)}))};s.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(Oe,{})}),document.getElementById("root")),xe()},90:function(e,t,i){}},[[247,1,2]]]);
//# sourceMappingURL=main.77a87ac2.chunk.js.map