(this["webpackJsonppower-distribution-box"]=this["webpackJsonppower-distribution-box"]||[]).push([[0],{146:function(e,t,i){},153:function(e,t){},155:function(e,t){},166:function(e,t){},168:function(e,t){},195:function(e,t){},197:function(e,t){},198:function(e,t){},203:function(e,t){},205:function(e,t){},224:function(e,t){},236:function(e,t){},239:function(e,t){},242:function(e,t,i){},243:function(e,t,i){},244:function(e,t,i){"use strict";i.r(t);var n=i(1),a=i(2),s=i.n(a),o=i(23),r=i.n(o),l=(i(146),i(11)),c=i(12),d=i(4),p=i(19),u=i(18),m=i(20),g=i(15),h=i(7),b=i(248),f=i(139),_={PLUGS:"Plugs",SOCKETS:"Sockets",PILOT_LIGHTS:"Pilot Lights",MULTIMETER:"Multimeter",LIVE_PINS_INPUT:"Live Pins Input",LIVE_PINS_OUTPUT:"Loop Through",PINS_INPUT_1:"Pins Input@1",PINS_INPUT_2:"Pins Input@2",PLUGS_1:"Plugs@1",PLUGS_2:"Plugs@2",PLUGS_3:"Plugs@3",PLUGS_4:"Plugs@4",PLUGS_5:"Plugs@5",SOCKETS_1:"Sockets@1",SOCKETS_2:"Sockets@2",SOCKETS_3:"Sockets@3",WHEEL_24U:"Wheel-24U",WHEEL_20U:"Wheel-20U",WHEEL_16U:"Wheel-16U",WHEEL_12U:"Wheel-12U",WHEEL_8U:"Wheel-8U",GRID_24U:"Grid-24U",GRID_20U:"Grid-20U",GRID_16U:"Grid-16U",GRID_12U:"Grid-12U",GRID_8U:"Grid-8U",BREAKERS:"Breaker"},x=new Map([[_.PLUGS_1,45],[_.PLUGS_2,45],[_.PLUGS_3,45],[_.PLUGS_4,45],[_.PLUGS_5,45],[_.SOCKETS_1,45],[_.SOCKETS_2,45],[_.SOCKETS_3,45],[_.PINS_INPUT_1,45],[_.PINS_INPUT_2,45],[_.LIVE_PINS_INPUT,[280,54]],[_.LIVE_PINS_OUTPUT,[280,54]],[_.MULTIMETER,[45,45]],[_.PILOT_LIGHTS,[45,45]],[_.WHEEL_24U,[681,1455]],[_.WHEEL_20U,[681,1254]],[_.WHEEL_16U,[681,1060]],[_.WHEEL_12U,[681,865]],[_.WHEEL_8U,[681,670]],[_.GRID_24U,[484,1183]],[_.GRID_20U,[484,983]],[_.GRID_16U,[484,783]],[_.GRID_12U,[484,583]],[_.GRID_8U,[484,403]]]),j={useLocalStorage:!0,gridSize:16,drawingScale:.47,ElementType:{INPUTS:"Inputs",OUTPUTS:"Outputs",THROUGH_OUTPUTS:"Through Output",ADDONS:"Add-ons",BOXES:"Boxes"},SVG_ELEMENTS:{FULL_WIDTH:"280px"},SCALE:{FRONT_SIDE:5,REAR_SIDE:5},SIZES:Object.fromEntries(x)},v=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,null,[{key:"getGridBoxId",value:function(e){var t="grid-box-item-"+e.name;return{shortClassName:t,className:"grid-box "+t,id:t+"-"+e.uniqid}}},{key:"removeItem",value:function(t){var i=e.__singletonRef.controller.containerRef.state.distributions,n=i[t.distribution].totalDroppedItems,a=[];for(var s in n)n[s].uniqid!=t.uniqid&&a.push(n[s]);if(t.breaker_item){var o=i[1].totalDroppedItems,r=[];for(var s in o)o[s].uniqid!==t.breaker_item.uniqid&&r.push(o[s]);i[1].totalDroppedItems=r,localStorage.setItem("cartesian: items",JSON.stringify(r))}i[t.distribution].totalDroppedItems=a,e.__singletonRef.controller.containerRef.setState({distributions:i}),localStorage.setItem(t.distribution_name+": items",JSON.stringify(a))}}]),e}();v.controller=null;var S=v;function O(e,t){var i=1.625*S.__singletonRef.controller.state.value/100+.5;return[Math.round(e/(j.gridSize*i))*j.gridSize*i,Math.round(t/(j.gridSize*i))*j.gridSize*i]}var w=i(250),y=i(249),I=i(30),E=i.n(I),T=i(50),U=function(e){Object(p.a)(i,e);var t=Object(u.a)(i);function i(e){var n;return Object(l.a)(this,i),(n=t.call(this,e)).handleClick=n.handleClick.bind(Object(d.a)(n)),n}return Object(c.a)(i,[{key:"handleClick",value:function(e,t,i,n){return function(a){S.removeItem({uniqid:e,distribution:t,distribution_name:i,breaker_item:n})}}},{key:"render",value:function(){var e=this.props,t=e.image,i=e.name,a=e.type,s=e.width,o=e.height,r=e.uniqid,l=e.distribution,c=e.distribution_name,d=e.breaker_item;this.item={image:t,name:i,width:s,height:o};var p=Object(n.jsx)(T.a,{id:"context-menu-"+r,children:Object(n.jsx)(T.b,{onClick:this.handleClick(r,l,c,d),children:"Remove"})});return a===_.BREAKERS&&(p=Object(n.jsx)(T.a,{id:"context-menu-"+r})),Object(n.jsxs)("div",{className:"distribution-box-menu",children:[Object(n.jsx)(T.c,{id:"context-menu-"+r,children:Object(n.jsx)("div",{className:"box",children:Object(n.jsx)("img",{src:t,alt:i,title:i,width:s,height:o})})}),p]})}}]),i}(s.a.Component),k=i(0),P=i.n(k),N={border:"1px dashed gray",backgroundColor:"transparent",padding:"0.1px",marginRight:"1.5rem",marginBottom:"1.5rem",cursor:"move",float:"left",zIndex:1e3},D=function(e){var t,i=e.name,s=e.type,o=e.uniqid,r=e.distribution,l=e.image,c=e.top,d=e.left,p=e.width,u=e.height,_=e.distribution_name,x=e.description,v=e.container,w=e.breaker,I=e.breaker_item,E=(e.e_name,e.isDropped,S.getGridBoxId({name:i,uniqid:o})),T=E.className,k=E.id,D=Object(y.a)({item:{name:i,type:s,uniqid:o,distribution:r,image:l,width:p,height:u,distribution_name:_,description:x},collect:function(e){return{item:e.getItem(),opacity:e.isDragging()?.4:1,initialOffset:e.getInitialClientOffset(),currentOffset:e.getSourceClientOffset(),clientOffset:e.getClientOffset(),canDrag:e.canDrag(),isDragging:e.isDragging()}}}),C=Object(h.a)(D,2),L=C[0],R=L.opacity,B=(L.initialOffset,L.currentOffset,L.clientOffset,L.item),z=L.isDragging,G=(L.canDrag,C[1]),A=Object.fromEntries(v.controller.grid_heights);!function(){var e=Object(a.useState)(null),t=Object(h.a)(e,2),i=t[0],n=t[1],s=Object(a.useState)(null),r=Object(h.a)(s,2),l=r[0],c=r[1];if(Object(a.useLayoutEffect)((function(){var e=Object(b.a)(document,"drag").pipe(Object(f.a)((function(e){return[e.clientX,e.clientY]}))).subscribe((function(e){var t=Object(h.a)(e,2),i=t[0],a=t[1];n(i+window.scrollX),c(a+window.scrollY)}));return function(){e.unsubscribe()}}),[]),z&&i&&l){var d=O(i,l),p=Object(h.a)(d,2),u=p[0],m=p[1],g={left:0,top:0};"cartesian"==_?g=P()("#cartesian_distribution_container").offset():"templated"==_&&(g=P()("#templated_distribution_container").offset());var x=function(e){var t=v.getTotalDroppedItems(B.distribution);for(var i in t)if(e==t[i].uniqid)return t[i];return null}(o),S=x.breaker_item;x&&u-g.left-40>=0&&u-g.left-40<=450*j.drawingScale&&m-g.top-40>=0&&m-g.top-40<=j.drawingScale*(A[v.state.distributionSize]-50)&&(x.left=u-g.left-40+"px",x.top=m-g.top-40+"px",W(x),S&&(S.left=x.left,S.top=x.top,W(S))),x&&m-g.top-40>=461.9?(P()(v.selectRef.options[1]).attr("disabled","disabled"),P()(v.selectRef.options[2]).attr("disabled","disabled"),P()(v.selectRef.options[3]).attr("disabled","disabled"),P()(v.selectRef.options[4]).attr("disabled","disabled")):x&&m-g.top-40>=368?(P()(v.selectRef.options[2]).attr("disabled","disabled"),P()(v.selectRef.options[3]).attr("disabled","disabled"),P()(v.selectRef.options[4]).attr("disabled","disabled"),P()(v.selectRef.options[1]).removeAttr("disabled")):x&&m-g.top-40>=274?(P()(v.selectRef.options[3]).attr("disabled","disabled"),P()(v.selectRef.options[4]).attr("disabled","disabled"),P()(v.selectRef.options[2]).removeAttr("disabled"),P()(v.selectRef.options[1]).removeAttr("disabled")):x&&m-g.top-40>=189.4?(P()(v.selectRef.options[4]).attr("disabled","disabled"),P()(v.selectRef.options[3]).removeAttr("disabled"),P()(v.selectRef.options[2]).removeAttr("disabled"),P()(v.selectRef.options[1]).removeAttr("disabled")):(P()(v.selectRef.options[4]).removeAttr("disabled"),P()(v.selectRef.options[3]).removeAttr("disabled"),P()(v.selectRef.options[2]).removeAttr("disabled"),P()(v.selectRef.options[1]).removeAttr("disabled"))}}();function W(e){var t=v.getTotalDroppedItems(e.distribution);for(var i in t)if(t[i].uniqid==e.uniqid){t[i]=e;break}v.setTotalDroppedItems(t,e.distribution,e.distribution_name)}return p=(parseFloat(p.replace("px",""))*j.drawingScale).toString()+"px",Object(n.jsxs)("div",{ref:G,style:Object(m.a)(Object(m.a)({},N),{},{opacity:R,top:c,left:d}),className:T,id:k,children:["default"in w?Object(n.jsx)("img",{className:"breaker-default",src:w.default.image,width:"30px",height:"auto",style:{marginLeft:"15px"}},"0"):null,Object(n.jsx)(U,(t={image:l,name:i,width:p,height:"auto"},Object(g.a)(t,"name",i),Object(g.a)(t,"type",s),Object(g.a)(t,"uniqid",o),Object(g.a)(t,"distribution_name",_),Object(g.a)(t,"distribution",r),Object(g.a)(t,"breaker_item",I),t),"1")]})},C=function(e){var t=e.item,i=(e.currentOffset,e.clientOffset,P()(document.getElementById(t.dragElementId)).width()),a=P()(document.getElementById(t.dragElementId)).height(),s="highlight-component-"+t.name;return Object(n.jsx)("div",{className:"highlight-component",id:s,style:{position:"absolute",display:"block",zIndex:1,backgroundColor:"transparent",backgroundSize:"25%",width:i.toString()+"px",height:a.toString()+"px"}})},L=(j.useLocalStorage,{marginBottom:"0.5rem",textAlign:"center",padding:"66px",fontSize:"1rem",lineHeight:"normal"}),R=function(e){var t=e.accept,i=(e.lastDroppedItem,e.totalDroppedItems),s=e.e_name,o=e.container,r=e.onDrop,l=Object(w.a)({accept:t,drop:r,collect:function(e){return{isOver:e.isOver(),canDrop:e.canDrop(),initialOffset:e.getInitialClientOffset(),currentOffset:e.getSourceClientOffset(),clientOffset:e.getClientOffset(),diffOffset:e.getInitialSourceClientOffset(),item:e.getItem()}},canDrop:function(e,t){return null==e.distribution&&void 0==e.distribution},hover:function(e,t){e;var i="element-box-item-"+e.name;return e.dragElementId=i,e.highlightComponent="highlight-component-"+e.name,!1}}),c=Object(h.a)(l,2),d=c[0],p=d.isOver,u=d.canDrop,g=(d.initialOffset,d.currentOffset),_=d.clientOffset,x=(d.diffOffset,d.item),v=c[1],y="transparent";p&&u?y="darkgreen":u&&(y="darkkhaki");var I=Object(n.jsx)("div",{});x&&_&&g&&document.getElementById(x.dragElementId)&&(I=Object(n.jsx)(C,{item:x,currentOffset:g,clientOffset:_}));!function(){var e=Object(a.useState)(null),t=Object(h.a)(e,2),i=t[0],n=t[1],s=Object(a.useState)(null),r=Object(h.a)(s,2),l=r[0],c=r[1];if(Object(a.useEffect)((function(){var e=Object(b.a)(document,"drag").pipe(Object(f.a)((function(e){return[e.clientX,e.clientY]}))).subscribe((function(e){var t=Object(h.a)(e,2),i=t[0],a=t[1];n(i+window.scrollX),c(a+window.scrollY)}));return function(){e.unsubscribe()}}),[]),u&&x&&document.getElementById(x.highlightComponent)){var d,p=O(i,l),m=Object(h.a)(p,2),g=m[0],_=m[1];if("cartesian"==x.distribution_name){var v=P()("#cartesian_distribution_container").offset(),S=P()("#boxes_container_draggable_holder").width(),w=P()("#templated").parent().width(),y=(P()("#cartesian").parent().width()-500*j.drawingScale)/2,I=P()("#cartesian").offset();document.getElementById(x.highlightComponent).style.width=(parseFloat(x.width.replace("px",""))*j.drawingScale).toString()+"px",document.getElementById(x.highlightComponent).style.height=(parseFloat(x.height.replace("px",""))*j.drawingScale).toString()+"px",document.getElementById(x.highlightComponent).style.left=(g-I.left-S+w+y+185).toString()+"px",document.getElementById(x.highlightComponent).style.top=(_-v.top-40).toString()+"px",document.getElementById(x.dragElementId).style.left=(g-v.left).toString()+"px",document.getElementById(x.dragElementId).style.top=(_-v.top).toString()+"px",x.left=(g-v.left-40).toString()+"px",x.top=(_-v.top-40).toString()+"px"}else if("templated"==x.distribution_name){var E=P()("#templated_distribution_container").offset();P()("#boxes_container_draggable_holder").width(),P()("#templated").parent().width(),j.drawingScale,P()("#templated").offset();document.getElementById(x.highlightComponent).style.width=(parseFloat(x.width.replace("px",""))*j.drawingScale).toString()+"px",document.getElementById(x.highlightComponent).style.height=(parseFloat(x.height.replace("px",""))*j.drawingScale).toString()+"px",document.getElementById(x.highlightComponent).style.left=(g-E.left-40).toString()+"px",document.getElementById(x.highlightComponent).style.top=(_-E.top-40).toString()+"px",document.getElementById(x.dragElementId).style.left=(g-E.left).toString()+"px",document.getElementById(x.dragElementId).style.top=(_-E.top).toString()+"px",x.left=(g-E.left-40).toString()+"px",x.top=(_-E.top-40).toString()+"px"}"cartesian"==x.distribution_name?d=P()("#cartesian_distribution_container").offset():"templated"==x.distribution_name&&(d=P()("#templated_distribution_container").offset()),x&&_-d.top-40>=461.9?(P()(o.selectRef.options[1]).attr("disabled","disabled"),P()(o.selectRef.options[2]).attr("disabled","disabled"),P()(o.selectRef.options[3]).attr("disabled","disabled"),P()(o.selectRef.options[4]).attr("disabled","disabled")):x&&_-d.top-40>=368?(P()(o.selectRef.options[2]).attr("disabled","disabled"),P()(o.selectRef.options[3]).attr("disabled","disabled"),P()(o.selectRef.options[4]).attr("disabled","disabled"),P()(o.selectRef.options[1]).removeAttr("disabled")):x&&_-d.top-40>=274?(P()(o.selectRef.options[3]).attr("disabled","disabled"),P()(o.selectRef.options[4]).attr("disabled","disabled"),P()(o.selectRef.options[2]).removeAttr("disabled"),P()(o.selectRef.options[1]).removeAttr("disabled")):x&&_-d.top-40>=189.4?(P()(o.selectRef.options[4]).attr("disabled","disabled"),P()(o.selectRef.options[3]).removeAttr("disabled"),P()(o.selectRef.options[2]).removeAttr("disabled"),P()(o.selectRef.options[1]).removeAttr("disabled")):(P()(o.selectRef.options[4]).removeAttr("disabled"),P()(o.selectRef.options[3]).removeAttr("disabled"),P()(o.selectRef.options[2]).removeAttr("disabled"),P()(o.selectRef.options[1]).removeAttr("disabled"))}}();var E=Object(a.useState)(0),T=Object(h.a)(E,2),U=T[0],k=T[1];Object(a.useLayoutEffect)((function(){var e=localStorage.getItem("cartesian: size");if(e){k(e);var t=new Map([["24U",1183],["20U",983],["16U",783],["12U",583],["8U",403]]);t=Object.fromEntries(t),document.getElementById(s+"_distribution_container").style.height=(t[U]*P()(document.getElementById(s)).outerWidth()/681).toString()+"px"}}),[U]),i||(i=[]);var N=(681*j.drawingScale).toString()+"px",R=(500*j.drawingScale).toString()+"px",B=Object.fromEntries(S.__singletonRef.controller.heights),z=Object.fromEntries(S.__singletonRef.controller.grid_heights),G=((j.drawingScale*B[o.state.distributionSize]).toString(),(j.drawingScale*z[o.state.distributionSize]).toString()+"px"),A=(66*j.drawingScale).toString()+"px";return Object(n.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-6",children:Object(n.jsx)("div",{style:Object(m.a)(Object(m.a)({},L),{},{padding:A,width:N}),className:s,id:s,"data-size":o.state.distributionSize,children:Object(n.jsxs)("div",{ref:v,style:{width:R,height:G,backgroundColor:y,backgroundSize:.35*(S.__singletonRef.controller.state.value-50+100)+"%"},className:"distribution_container",id:s+"_distribution_container",children:[I,i.map((function(e,t){return Object(n.jsx)(D,{container:o,name:e.name,type:e.type,uniqid:e.uniqid,distribution:e.distribution,image:e.image,e_name:s,top:e.top,left:e.left,width:e.width,height:e.height,distribution_name:e.distribution_name,description:e.description,breaker:e.breaker,breaker_item:e.breaker_item,isDropped:!0},t)}))]})})})},B={border:"0px none",backgroundColor:"white",padding:"0px",marginRight:"1.5rem",marginBottom:"0.25rem",cursor:"move",zIndex:100},z=function(e){var t=e.name,i=e.type,a=e.uniqid,s=e.distribution,o=e.image,r=e.width,l=e.height,c=e.distribution_name,d=e.description,p=e.box_item,u=(e.isDropped,Object(y.a)({item:{name:t,type:i,uniqid:a,distribution:s,image:o,width:r,height:l,distribution_name:c,description:d,breaker:p.breaker},collect:function(e){return{opacity:e.isDragging()?.4:1}}})),g=Object(h.a)(u,2),b=g[0].opacity,f=g[1],_="box-item box-item-"+t;return Object(n.jsxs)("div",{ref:f,style:Object(m.a)(Object(m.a)({},B),{},{opacity:b}),className:_,id:"element-box-item-"+t,children:[Object(n.jsx)("img",{src:o,alt:t,title:t,width:r,height:"auto"}),Object(n.jsx)("br",{})]})},G=i(140),A=i.n(G);function W(e){var t=new Date;return A()(e+"/"+t.getTime().toString()).toString()}var H=i(137);function q(e,t,i){var n="translate3d(".concat(e,"px, ").concat(t,"px, 0)");return{opacity:i?0:1,height:i?0:"",transform:n,WebkitTransform:n,left:e,top:t,marginBottom:"1.5rem"}}var M=function(e){var t=e.name,i=e.type,o=e.uniqid,r=e.distribution,l=e.image,c=e.width,d=e.height,p=e.isDropped,u=e.left,m=e.top,g=e.distribution_name,b=e.description,f=e.box_item,_=e.id,x=Object(y.a)({item:{name:t,type:i,uniqid:o,distribution:r,image:l,width:c,distribution_name:g},collect:function(e){return{isDragging:e.isDragging()}}}),v=Object(h.a)(x,3),S=v[0].isDragging,O=(v[1],v[2]);return Object(a.useEffect)((function(){O(Object(H.a)(),{captureDraggingState:!0})}),[]),Object(n.jsxs)("div",{style:q(u,m,S),className:"draggable-box",children:["breaker"in f&&"default"in f.breaker?Object(n.jsx)("img",{className:"breaker-default",src:f.breaker.default.image,width:"30px",height:"auto",style:{marginLeft:"15px"}}):f.element_type==j.ElementType.OUTPUTS?Object(n.jsx)("img",{className:"breaker-default",src:"",width:"30px",height:"auto",style:{marginLeft:"15px"}}):null,Object(n.jsx)(z,{name:t,type:i,uniqid:o,distribution:r,image:l,width:c,height:d,distribution_name:g,description:b,box_item:f,isDropped:p}),Object(n.jsx)("abbr",{style:{width:"100%",display:"inline",marginRight:"1.5rem"},children:Object(n.jsx)(s.a.Fragment,{children:Object(n.jsx)("b",{children:b})})})]},_)},V=function(e){Object(p.a)(i,e);var t=Object(u.a)(i);function i(e){return Object(l.a)(this,i),t.call(this,e)}return Object(c.a)(i,[{key:"render",value:function(){var e=this.props,t=e.accept,i=e.lastDroppedItem,a=e.totalDroppedItems,s=e.e_name,o=e.onDrop,r=e.index;return this.e_name=s,Object(n.jsx)(R,{container:this.props.container,accept:t,lastDroppedItem:i,totalDroppedItems:a,e_name:s,onDrop:o},r)}}]),i}(s.a.Component),F=j.useLocalStorage,K=[_.PLUGS_1,_.PLUGS_2,_.PLUGS_3,_.PLUGS_4,_.PLUGS_5,_.SOCKETS_1,_.SOCKETS_2,_.SOCKETS_3,_.LIVE_PINS_INPUT,_.LIVE_PINS_OUTPUT,_.PINS_INPUT_1,_.PINS_INPUT_2],Z={width:"100%",marginBottom:"0.5rem",color:"#ababab",padding:"1rem",textAlign:"center",fontSize:"1rem",lineHeight:"normal",float:"left",height:"100%"},J=function(e){Object(p.a)(i,e);var t=Object(u.a)(i);function i(e){var a;Object(l.a)(this,i),(a=t.call(this,e)).state={distributions:[],boxes:[],droppedBoxNames:[],distributionSize:"24U",drawing_scale:j.drawingScale,breakers:[]},a.slide={inputs:!0,outputs:!1,through_outputs:!1,addons:!1,boxes:!0},a.slide_keys=new Map([[j.ElementType.INPUTS,"inputs"],[j.ElementType.OUTPUTS,"outputs"],[j.ElementType.THROUGH_OUTPUTS,"through_outputs"],[j.ElementType.ADDONS,"addons"],[j.ElementType.BOXES,"boxes"]]),a.controller=a.props.controller,S.__singletonRef.controller.container=Object(d.a)(a);var s=null,o=null;F&&(s=localStorage.getItem("cartesian: items"),o=localStorage.getItem("templated: items"),s=s?JSON.parse(s):[],o=o?JSON.parse(o):[]),a.handleDrop=a.handleDrop.bind(Object(d.a)(a));var r=[{name:"RCD-Plugs--1",type:_.BREAKERS,uniqid:null,distribution:1,left:0,top:0,index:0,image:"images/dist_box/breaker-output-plug-1.png",element_type:j.ElementType.INPUTS,size:{width:"55px",height:"45px"},distribution_name:"cartesian",description:"",breaker:{}},{name:"RCD-Sockets--1",type:_.BREAKERS,uniqid:null,distribution:1,left:0,top:0,index:0,image:"images/dist_box/breaker-output-socket-1.png",element_type:j.ElementType.INPUTS,size:{width:"55px",height:"45px"},distribution_name:"cartesian",description:"",breaker:{}},{name:"RCD-Sockets--2",type:_.BREAKERS,uniqid:null,distribution:1,left:0,top:0,index:0,image:"images/dist_box/breaker-output-socket-2.png",element_type:j.ElementType.INPUTS,size:{width:"55px",height:"45px"},distribution_name:"cartesian",description:"",breaker:{}}],c=[{name:"Plugs--1",type:_.PLUGS_1,uniqid:null,distribution:null,left:0,top:0,index:0,image:"images/dist_box/Output-Plug-1.png",element_type:j.ElementType.OUTPUTS,size:{width:"55px",height:"45px"},distribution_name:"templated",description:"63A CEE 400V 5P",breaker:{default:{index:0,image:"images/dist_box/breaker-output-plug-1.png"}}},{name:"Plugs--2",type:_.PLUGS_2,uniqid:null,distribution:null,left:0,top:0,index:0,image:"images/dist_box/Output-Plug-2.png",element_type:j.ElementType.OUTPUTS,size:{width:"55px",height:"45px"},distribution_name:"templated",description:"125A 400V CEE 5P",breaker:{}},{name:"Plugs--3",type:_.PLUGS_3,uniqid:null,distribution:null,left:0,top:0,index:0,image:"images/dist_box/Output-Plug-3.png",element_type:j.ElementType.OUTPUTS,size:{width:"55px",height:"45px"},distribution_name:"templated",description:"63A 400V CEE 5P",breaker:{}},{name:"Plugs--4",type:_.PLUGS_4,uniqid:null,distribution:null,left:0,top:0,index:0,image:"images/dist_box/Output-Plug-4.png",element_type:j.ElementType.OUTPUTS,size:{width:"55px",height:"45px"},distribution_name:"templated",description:"125A 400V CEE 5P",breaker:{}},{name:"Plugs--5",type:_.PLUGS_5,uniqid:null,distribution:null,left:0,top:0,index:0,image:"images/dist_box/Output-Plug-5.png",element_type:j.ElementType.OUTPUTS,size:{width:"55px",height:"45px"},distribution_name:"templated",description:"63A 400V CEE 5P",breaker:{}},{name:"Sockets--1",type:_.SOCKETS_1,uniqid:null,distribution:null,left:0,top:0,index:1,image:"images/dist_box/Output-Socket-1.png",element_type:j.ElementType.OUTPUTS,size:{width:"55px",height:"45px"},distribution_name:"templated",description:"125A CEE 400V 5P",breaker:{default:{index:1,image:"images/dist_box/breaker-output-socket-1.png"}}},{name:"Sockets--2",type:_.SOCKETS_2,uniqid:null,distribution:null,left:0,top:0,index:1,image:"images/dist_box/Output-Socket-2.png",element_type:j.ElementType.OUTPUTS,size:{width:"55px",height:"45px"},distribution_name:"templated",description:"19pin Connector Socket",breaker:{default:{index:2,image:"images/dist_box/breaker-output-socket-2.png"}}},{name:"Sockets--3",type:_.SOCKETS_3,uniqid:null,distribution:null,left:0,top:0,index:1,image:"images/dist_box/Output-Socket-3.png",element_type:j.ElementType.OUTPUTS,size:{width:"55px",height:"45px"},distribution_name:"templated",description:"125A 400V CEE 5P",breaker:{}},{name:"Pilot-Lights",type:_.PILOT_LIGHTS,uniqid:null,distribution:null,left:0,top:0,index:2,image:"images/dist_box/pilot-lights.gif",element_type:j.ElementType.ADDONS,size:{width:"55px",height:"45px"},distribution_name:"cartesian",description:"PILOT LIGHTS",breaker:{}},{name:"Multimeter",type:_.MULTIMETER,uniqid:null,distribution:null,left:0,top:0,index:3,image:"images/dist_box/multimeter.png",element_type:j.ElementType.THROUGH_OUTPUTS,size:{width:"55px",height:"45px"},distribution_name:"cartesian",description:"MULTIMETER",breaker:{}},{name:"Live-Pins-Input",type:_.LIVE_PINS_INPUT,uniqid:null,distribution:null,left:0,top:0,index:4,image:"images/dist_box/Live-Pins-Inputs.png",element_type:j.ElementType.INPUTS,size:{width:j.SVG_ELEMENTS.FULL_WIDTH,height:"47px"},distribution_name:"templated",description:Object(n.jsxs)("b",{children:["400A Power Lock Set ",Object(n.jsx)("br",{})," (with 250A Protection)"]}),breaker:{}},{name:"Loop-Through",type:_.LIVE_PINS_OUTPUT,uniqid:null,distribution:null,left:0,top:0,index:5,image:"images/dist_box/Live-Pins-Outputs.png",element_type:j.ElementType.INPUTS,size:{width:j.SVG_ELEMENTS.FULL_WIDTH,height:"47px"},distribution_name:"templated",description:"400A Power Lock Set",breaker:{}},{name:"Pins-Input--2",type:_.PINS_INPUT_2,uniqid:null,distribution:null,left:0,top:0,index:5,image:"images/dist_box/Inputs-Pin-2.png",element_type:j.ElementType.INPUTS,size:{width:"65px",height:"45px"},distribution_name:"templated",description:"63A CEE 400V 5P",breaker:{}},{name:"Pins-Input--1",type:_.PINS_INPUT_1,uniqid:null,distribution:null,left:0,top:0,index:4,image:"images/dist_box/Inputs-Pin-1.png",element_type:j.ElementType.INPUTS,size:{width:"55px",height:"45px"},distribution_name:"templated",description:"125A CEE 400V 5P",breaker:{}}],p=[{accepts:K,lastDroppedItem:null,totalDroppedItems:o,e_name:"templated"},{accepts:[_.PILOT_LIGHTS,_.MULTIMETER],lastDroppedItem:null,totalDroppedItems:s,e_name:"cartesian"}];return a.setDistributionSize=a.setDistributionSize.bind(Object(d.a)(a)),a.setDistributions=a.setDistributions.bind(Object(d.a)(a)),a.setDroppedBoxNames=a.setDroppedBoxNames.bind(Object(d.a)(a)),a.handleDrop=a.handleDrop.bind(Object(d.a)(a)),a.state.boxes=c,a.state.distributions=p,a.state.breakers=r,a.setTotalDroppedItems=a.setTotalDroppedItems.bind(Object(d.a)(a)),a.getTotalDroppedItems=a.getTotalDroppedItems.bind(Object(d.a)(a)),a.saveTotalDroppedItems=a.saveTotalDroppedItems.bind(Object(d.a)(a)),a.slideDown=a.slideDown.bind(Object(d.a)(a)),a}return Object(c.a)(i,[{key:"setDistributions",value:function(e){this.setState({distributions:e})}},{key:"setDroppedBoxNames",value:function(e){this.setState({droppedBoxNames:e})}},{key:"getTotalDroppedItems",value:function(e){return this.state.distributions[e].totalDroppedItems}},{key:"setTotalDroppedItems",value:function(e,t,i){E()(this.state.distributions,Object(g.a)({},t,{totalDroppedItems:{$set:e}})),this.saveTotalDroppedItems(e,i,t)}},{key:"saveTotalDroppedItems",value:function(e,t,i){e&&localStorage.setItem(t+": items",JSON.stringify(this.state.distributions[i].totalDroppedItems))}},{key:"handleDrop",value:function(e,t){var i=t.name;if(t.uniqid=W(t.name),t.distribution=e,"default"in t.breaker){var n=this.state.breakers[t.breaker.default.index];n.uniqid=W(n.name),n.left=t.left,n.top=t.top,n.width=n.size.width,n.height=n.size.height,this.setDistributions(E()(this.state.distributions,Object(g.a)({},1,{lastDroppedItem:{$set:n},totalDroppedItems:{$push:[n]}}))),t.breaker_item=n}else t.breaker_item=null;this.setDroppedBoxNames(E()(this.state.droppedBoxNames,i?{$push:[i]}:{$push:[]})),this.setDistributions(E()(this.state.distributions,Object(g.a)({},e,{lastDroppedItem:{$set:t},totalDroppedItems:{$push:[t]}}))),this.saveTotalDroppedItems(this.state.distributions[t.distribution].totalDroppedItems,t.distribution_name,t.distribution)}},{key:"setDistributionSize",value:function(e){this.setState({distributionSize:e})}},{key:"componentWillMount",value:function(){var e=localStorage.getItem("cartesian: size");e&&(this.setDistributionSize(e),P()("#cartesian").attr("data-size",this.state.distributionSize),P()("#templated").attr("data-size",this.state.distributionSize),P()("#unit_size").val(this.state.distributionSize))}},{key:"slideDown",value:function(e){var t=P()(e.target).attr("data-element"),i=Object.fromEntries(this.slide_keys)[P()(e.target).text()];this.slide[i.toLowerCase()]?(P()("#"+t).slideUp(300),this.slide[i.toLowerCase()]=!1):(P()("#"+t).slideDown(300),this.slide[i.toLowerCase()]=!0)}},{key:"render",value:function(){var e=this,t=this;function i(e,i,a,s){return Object(n.jsx)("div",{className:"draggable-box-container"+s,style:a,children:Object(n.jsx)(M,Object(m.a)({id:i,name:e.name,type:e.type,uniqid:e.uniqid,distribution:e.distribution,image:e.image,width:e.size.width,height:e.size.height,isDropped:(o=e.name,t.state.droppedBoxNames.indexOf(o)>-1),description:e.description,distribution_name:e.distribution_name,box_item:e},e),i)},i);var o}var a=[],s=[],o=[],r=[],l=[];this.state.boxes.map((function(e,t){switch(e.element_type){case j.ElementType.INPUTS:e.type==_.LIVE_PINS_OUTPUT||e.type==_.LIVE_PINS_INPUT?r.push([e,t]):e.type!=_.PINS_INPUT_1&&e.type!=_.PINS_INPUT_2||l.push([e,t]);break;case j.ElementType.OUTPUTS:a.push([e,t]);break;case j.ElementType.THROUGH_OUTPUTS:s.push([e,t]);break;case j.ElementType.ADDONS:o.push([e,t])}}));var c={display:"none"},d={display:"block"};return Object(n.jsx)("div",{className:"AppInnerContainer",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col col-lg-3 col-md-3 col-sm-3",id:"boxes_container_draggable_holder",children:Object(n.jsxs)("div",{className:"boxes-container-draggable",id:"boxes_container_draggable","sliding-panel":this.controller.sliding?"on":"off",children:[Object(n.jsxs)("div",{style:{overflow:"hidden",clear:"both",marginTop:"0px",position:"relative"},className:"boxes-container",children:[Object(n.jsx)("em",{className:"accordion-title",onClick:this.slideDown,"data-element":"boxes-set",children:j.ElementType.BOXES},"0"),Object(n.jsx)("div",{className:"clearfix",id:"boxes-set",style:d,children:Object(n.jsx)("select",{ref:function(t){e.selectRef=t},defaultValue:localStorage.getItem("cartesian: size"),name:"unit_size",id:"unit_size",style:{fontSize:"48px",color:"rgb(50, 55, 165)"},onChange:this.controller.changeUnitSize,children:this.controller.colors.map((function(e,t){var i=e.size,a=e.color;return Object(n.jsx)("option",{style:{fontSize:"48px",color:a},value:i,children:i},i)}))})})]},"0"),Object(n.jsxs)("div",{style:{overflow:"hidden",clear:"both",marginTop:"0px",position:"relative"},className:"boxes-container",children:[Object(n.jsx)("em",{className:"accordion-title",onClick:this.slideDown,"data-element":"inputs-set",children:r.length>0?r[0][0].element_type:""},"0"),Object(n.jsxs)("div",{id:"inputs-set",className:"clearfix",style:d,children:[Object(n.jsx)("div",{className:"draggable-box-inputs",children:r.map((function(e,t){return i(e[0],e[1],{},"")}))},"1"),Object(n.jsx)("div",{className:"draggable-box-inputs",style:{display:"flex"},children:l.map((function(e,t){return i(e[0],e[1],{flex:"wrap"},"")}))},"2")]},"1")]},"3"),Object(n.jsxs)("div",{style:{overflow:"hidden",clear:"both",marginTop:"0px",position:"relative"},className:"boxes-container",children:[Object(n.jsx)("em",{className:"accordion-title",onClick:this.slideDown,"data-element":"outputs-set",children:a.length>0?a[0][0].element_type:""},"0"),Object(n.jsx)("div",{className:"draggable-box-inputs row",id:"outputs-set",style:c,children:a.map((function(e,t){return i(e[0],e[1],{},"col-lg-6 col-md-6 col-sm-6")}))},"1")]},"1"),Object(n.jsxs)("div",{style:{overflow:"hidden",clear:"both",marginTop:"0px",position:"relative"},className:"boxes-container",children:[Object(n.jsx)("em",{className:"accordion-title",onClick:this.slideDown,"data-element":"through-outputs-set",children:s.length>0?s[0][0].element_type:""},"0"),Object(n.jsx)("div",{className:"draggable-box-inputs",id:"through-outputs-set",style:c,children:s.map((function(e,t){return i(e[0],e[1],{},"")}))},"1")]}),Object(n.jsxs)("div",{style:{overflow:"hidden",clear:"both",marginTop:"0px",position:"relative"},className:"boxes-container",children:[Object(n.jsx)("em",{className:"accordion-title",onClick:this.slideDown,"data-element":"addons-set",children:o.length>0?o[0][0].element_type:""},"0"),Object(n.jsx)("div",{className:"draggable-box-inputs",id:"addons-set",style:c,children:o.map((function(e,t){return i(e[0],e[1],{},"")}))},"1")]},"2")]},"1111")}),Object(n.jsx)("div",{className:"col col-lg-9 col-md-9 col-sm-9",id:"distros_designer","sliding-panel":this.controller.sliding?"on":"off",style:{backgroundSize:.35*(S.__singletonRef.controller.state.value-50+100)+"%"},children:Object(n.jsx)("div",{style:{overflow:"hidden",clear:"both",height:"100%"},children:Object(n.jsx)("div",{style:Z,className:"templated-distributions-container row",children:this.state.distributions.map((function(t,i){var a=t.accepts,s=t.lastDroppedItem,o=t.totalDroppedItems,r=t.e_name;return Object(n.jsx)(V,{container:e,accept:a,lastDroppedItem:s,totalDroppedItems:o,e_name:r,onDrop:function(t){return e.handleDrop(i,t)}},i)}))},"1")},"0000")})]})})}}]),i}(s.a.Component);i(242),i(243),i(246);var X=function(e){Object(p.a)(i,e);var t=Object(u.a)(i);function i(e){var n;Object(l.a)(this,i),(n=t.call(this,e)).id="distribution_front_side",n.viewBox="",n.state={change:!1,value:50,grid:0,wheel:0},n.viewBox=n.props.viewBox,n.paper=window.Snap("#"+n.id),n.g=n.paper.g(),n.image=n.image.bind(Object(d.a)(n)),n.objects=n.objects.bind(Object(d.a)(n)),n.type_mapping=n.type_mapping.bind(Object(d.a)(n)),n.wheel_image=n.wheel_image.bind(Object(d.a)(n)),n.grid_image=n.grid_image.bind(Object(d.a)(n)),n.importAllObjects=n.importAllObjects.bind(Object(d.a)(n)),n.importCartesianObjectsByCache=n.importCartesianObjectsByCache.bind(Object(d.a)(n)),n.importCartesianObjectsByCache=n.importCartesianObjectsByCache.bind(Object(d.a)(n)),n.draw=n.draw.bind(Object(d.a)(n)),n.changeSlider=n.changeSlider.bind(Object(d.a)(n)),n.obtainViewBox=n.obtainViewBox.bind(Object(d.a)(n)),n.wheel=n.wheel.bind(Object(d.a)(n));var a=0,s=Object(d.a)(n),o=0;return P()("#"+n.id).mousedown((function(e){P()(this).css("cursor","grab"),0==a&&(a={x:e.clientX,y:e.clientY}),P()(this).mousemove((function(e){o+=.95,P()(this).css("cursor","grab");var t=(e.clientX-a.x)/o,i=(e.clientY-a.y)/o,n=s.obtainViewBox(s.viewBox);n[0]-=t,n[1]-=i,n=n.map((function(e){return e.toString()})),s.viewBox=n.join(" "),s.setState({change:!s.state.change})}))})).mouseup((function(){P()(this).css("cursor","default"),P()(this).unbind("mousemove"),a=0,o=0})).mouseout((function(){P()(this).css("cursor","default"),P()(this).unbind("mousemove"),o=0})),n.showGrid=n.showGrid.bind(Object(d.a)(n)),n.showWheel=n.showWheel.bind(Object(d.a)(n)),n.wheel_svg=Object.fromEntries(n.wheel_image()),n.grid_svg=Object.fromEntries(n.grid_image()),n}return Object(c.a)(i,[{key:"wheel_image",value:function(){return new Map([["24U","images/power_box/canvas_wheel.png"],["20U","images/power_box/canvas_wheel-20u.png"],["16U","images/power_box/canvas_wheel-16u.png"],["12U","images/power_box/canvas_wheel-12u.png"],["8U","images/power_box/canvas_wheel-8u.png"]])}},{key:"grid_image",value:function(){return new Map([["24U","images/power_box/canvas_grid.png"],["20U","images/power_box/canvas_grid-20u.png"],["16U","images/power_box/canvas_grid-16u.png"],["12U","images/power_box/canvas_grid-12u.png"],["8U","images/power_box/canvas_grid-8u.png"]])}},{key:"type_mapping",value:function(){return new Map([[_.WHEEL,"base_image"],[_.PILOT_LIGHTS,"image"],[_.MULTIMETER,"image"]])}},{key:"objects",value:function(){return null}},{key:"wheel",value:function(){var e=P()("#unit_size").val(),t=this.wheel_svg[e],i=j.SIZES[_["WHEEL_"+e.toString()]][0],n=j.SIZES[_["WHEEL_"+e.toString()]][1],a=this.paper.image(t,0,0,i.toString()+"px",n.toString()+"px");this.g.prepend(a),this.wheelEl=a}},{key:"grid",value:function(){var e=P()("#unit_size").val(),t=this.grid_svg[e],i=j.SIZES[_["GRID_"+e.toString()]][0],n=j.SIZES[_["GRID_"+e.toString()]][1],a=this.paper.image(t,100,65,i.toString()+"px",n.toString()+"px");this.g.prepend(a),this.gridEl=a}},{key:"image",value:function(e){for(var t=0;t<e.length;t++){var i=e[t].image,n=(parseFloat(e[t].width.replace("px","")),parseFloat(e[t].height.replace("px","")),this.paper.image(i,e[t].left,e[t].top,j.SIZES[e[t].type][0].toString()+"px",j.SIZES[e[t].type][1].toString()+"px"));n.attr("style","z-index: 100"),this.g.add(n)}}},{key:"importAllObjects",value:function(e){var t=this;return new Promise((function(i,n){try{"local_storage"==e?t.objects=t.importCartesianObjectsByCache():"database"==e&&(t.objects=t.importCartesianObjectsFromDatabase())}catch(a){n(a)}i(t.objects)}))}},{key:"importCartesianObjectsByCache",value:function(){var e=window.localStorage.getItem("cartesian: items");return JSON.parse(e)}},{key:"importCartesianObjectsFromDatabase",value:function(){return null}},{key:"draw",value:function(e){var t=[];for(var i in e)e[i].type in this.object_types&&!(this.object_types[e[i].type]in t)&&t.push(this.object_types[e[i].type]);if(t.length>0)for(var n in t)this[t[n]](e)}},{key:"obtainViewBox",value:function(e){return e.split(" ").map((function(e){return parseInt(e)}))}},{key:"changeSlider",value:function(e){var t=this.obtainViewBox(this.props.viewBox),i=this.obtainViewBox(this.viewBox),n=e.target.value;i[2]=t[2]-20*n,i[3]=t[3]-20*n,i=i.map((function(e){return e.toString()})),this.viewBox=i.join(" "),this.setState({change:!this.state.change}),this.setState({value:n})}},{key:"showGrid",value:function(){0==this.state.grid?(this.grid(),this.setState({grid:1})):(this.gridEl.remove(),this.setState({grid:0}))}},{key:"showWheel",value:function(){0==this.state.wheel?(this.wheel(),this.setState({wheel:1})):(this.wheelEl.remove(),this.setState({wheel:0}))}},{key:"componentDidMount",value:function(){var e=this;this.object_types=Object.fromEntries(this.type_mapping()),this.importAllObjects("local_storage").then((function(t){return e.draw(t)})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){return P()(document.getElementById(this.id)).attr("viewBox",this.viewBox),Object(n.jsxs)("div",{className:"distros_controls",children:[Object(n.jsx)("input",{type:"range",name:"zoom",id:"zoom",min:"-100",max:"0",step:"1",value:this.state.value,onChange:this.changeSlider}),Object(n.jsx)("input",{title:"Show Grid",type:"checkbox",name:"show_grid",id:"show_grid",value:this.state.grid,onChange:this.showGrid}),Object(n.jsx)("input",{title:"Display Wheel",type:"checkbox",name:"show_wheel",id:"show_wheel",value:this.state.wheel,onChange:this.showWheel})]})}}]),i}(s.a.Component),Y=function(e){Object(p.a)(i,e);var t=Object(u.a)(i);function i(e){var n;Object(l.a)(this,i),(n=t.call(this,e)).id="distribution_front_side",n.viewBox="",n.state={change:!1,value:50,grid:0,wheel:0},n.viewBox=n.props.viewBox,n.paper=window.Snap("#"+n.id),n.g=n.paper.g(),n.image=n.image.bind(Object(d.a)(n)),n.objects=n.objects.bind(Object(d.a)(n)),n.type_mapping=n.type_mapping.bind(Object(d.a)(n)),n.wheel_image=n.wheel_image.bind(Object(d.a)(n)),n.grid_image=n.grid_image.bind(Object(d.a)(n)),n.importAllObjects=n.importAllObjects.bind(Object(d.a)(n)),n.importCartesianObjectsByCache=n.importCartesianObjectsByCache.bind(Object(d.a)(n)),n.importCartesianObjectsByCache=n.importCartesianObjectsByCache.bind(Object(d.a)(n)),n.draw=n.draw.bind(Object(d.a)(n)),n.changeSlider=n.changeSlider.bind(Object(d.a)(n)),n.obtainViewBox=n.obtainViewBox.bind(Object(d.a)(n)),n.wheel=n.wheel.bind(Object(d.a)(n));var a=0,s=Object(d.a)(n),o=0;return P()("#"+n.id).mousedown((function(e){P()(this).css("cursor","grab"),0==a&&(a={x:e.clientX,y:e.clientY}),P()(this).mousemove((function(e){o+=.95,P()(this).css("cursor","grab");var t=(e.clientX-a.x)/o,i=(e.clientY-a.y)/o,n=s.obtainViewBox(s.viewBox);n[0]-=t,n[1]-=i,n=n.map((function(e){return e.toString()})),s.viewBox=n.join(" "),s.setState({change:!s.state.change})}))})).mouseup((function(){P()(this).css("cursor","default"),P()(this).unbind("mousemove"),a=0,o=0})).mouseout((function(){P()(this).css("cursor","default"),P()(this).unbind("mousemove"),o=0})),n.showGrid=n.showGrid.bind(Object(d.a)(n)),n.showWheel=n.showWheel.bind(Object(d.a)(n)),n.wheel_svg=Object.fromEntries(n.wheel_image()),n.grid_svg=Object.fromEntries(n.grid_image()),n}return Object(c.a)(i,[{key:"wheel_image",value:function(){return new Map([["24U","images/power_box/canvas_wheel.png"],["20U","images/power_box/canvas_wheel-20u.png"],["16U","images/power_box/canvas_wheel-16u.png"],["12U","images/power_box/canvas_wheel-12u.png"],["8U","images/power_box/canvas_wheel-8u.png"]])}},{key:"grid_image",value:function(){return new Map([["24U","images/power_box/canvas_grid.png"],["20U","images/power_box/canvas_grid-20u.png"],["16U","images/power_box/canvas_grid-16u.png"],["12U","images/power_box/canvas_grid-12u.png"],["8U","images/power_box/canvas_grid-8u.png"]])}},{key:"type_mapping",value:function(){return new Map([[_.LIVE_PINS_INPUT,this.image],[_.LIVE_PINS_OUTPUT,this.image],[_.PINS_INPUT_1,this.image],[_.PINS_INPUT_2,this.image],[_.PLUGS_1,this.image],[_.PLUGS_2,this.image],[_.PLUGS_3,this.image],[_.PLUGS_4,this.image],[_.PLUGS_5,this.image]])}},{key:"objects",value:function(){return null}},{key:"wheel",value:function(){var e=P()("#unit_size").val(),t=this.wheel_svg[e],i=j.SIZES[_["WHEEL_"+e.toString()]][0],n=j.SIZES[_["WHEEL_"+e.toString()]][1],a=this.paper.image(t,0,0,i.toString()+"px",n.toString()+"px");this.g.prepend(a),this.wheelEl=a}},{key:"grid",value:function(){var e=P()("#unit_size").val(),t=this.grid_svg[e],i=j.SIZES[_["GRID_"+e.toString()]][0],n=j.SIZES[_["GRID_"+e.toString()]][1],a=this.paper.image(t,100,65,i.toString()+"px",n.toString()+"px");this.g.prepend(a),this.gridEl=a}},{key:"image",value:function(e){for(var t=0;t<e.length;t++){var i=e[t].image,n=(parseFloat(e[t].width.replace("px","")),parseFloat(e[t].height.replace("px","")),this.paper.image(i,e[t].left,e[t].top,j.SIZES[e[t].type][0].toString()+"px",j.SIZES[e[t].type][1].toString()+"px"));n.attr("style","z-index: 100"),this.g.add(n)}}},{key:"importAllObjects",value:function(e){var t=this;return new Promise((function(i,n){try{"local_storage"==e?t.objects=t.importCartesianObjectsByCache():"database"==e&&(t.objects=t.importCartesianObjectsFromDatabase())}catch(a){n(a)}i(t.objects)}))}},{key:"importCartesianObjectsByCache",value:function(){var e=window.localStorage.getItem("cartesian: items");return JSON.parse(e)}},{key:"importCartesianObjectsFromDatabase",value:function(){return null}},{key:"draw",value:function(e){var t=[];for(var i in e)e[i].type in this.object_types&&!(this.object_types[e[i].type]in t)&&t.push(this.object_types[e[i].type]);if(t.length>0)for(var n in t)this[t[n]](e)}},{key:"obtainViewBox",value:function(e){return e.split(" ").map((function(e){return parseInt(e)}))}},{key:"changeSlider",value:function(e){var t=this.obtainViewBox(this.props.viewBox),i=this.obtainViewBox(this.viewBox),n=e.target.value;i[2]=t[2]-20*n,i[3]=t[3]-20*n,i=i.map((function(e){return e.toString()})),this.viewBox=i.join(" "),this.setState({change:!this.state.change}),this.setState({value:n})}},{key:"showGrid",value:function(){0==this.state.grid?(this.grid(),this.setState({grid:1})):(this.gridEl.remove(),this.setState({grid:0}))}},{key:"showWheel",value:function(){0==this.state.wheel?(this.wheel(),this.setState({wheel:1})):(this.wheelEl.remove(),this.setState({wheel:0}))}},{key:"componentDidMount",value:function(){var e=this;this.object_types=Object.fromEntries(this.type_mapping()),this.importAllObjects("local_storage").then((function(t){return e.draw(t)})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){return P()(document.getElementById(this.id)).attr("viewBox",this.viewBox),Object(n.jsxs)("div",{className:"distros_controls",children:[Object(n.jsx)("input",{type:"range",name:"zoom",id:"zoom",min:"-100",max:"0",step:"1",value:this.state.value,onChange:this.changeSlider}),Object(n.jsx)("input",{title:"Show Grid",type:"checkbox",name:"show_grid",id:"show_grid",value:this.state.grid,onChange:this.showGrid}),Object(n.jsx)("input",{title:"Display Wheel",type:"checkbox",name:"show_wheel",id:"show_wheel",value:this.state.wheel,onChange:this.showWheel})]})}}]),i}(s.a.Component),$=function(e){Object(p.a)(i,e);var t=Object(u.a)(i);function i(e){var n;return Object(l.a)(this,i),(n=t.call(this,e)).colors=[{size:"24U",color:"rgb(50, 55, 165)"},{size:"20U",color:"rgb(150, 55, 105)"},{size:"16U",color:"rgb(20, 155, 105)"},{size:"12U",color:"rgb(50, 155, 165)"},{size:"8U",color:"rgb(150, 55, 165)"}],n.heights=new Map([["24U",1455],["20U",1254],["16U",1060],["12U",865],["8U",670]]),n.grid_heights=new Map([["24U",1183],["20U",983],["16U",783],["12U",583],["8U",403]]),n.margin_top=new Map([["24U",0],["20U",100],["16U",185],["12U",275],["8U",370]]),n.state={svg_monitoring:!1,svg_power:!1,snapToGridAfterDrop:!0,snapToGridWhileDragging:!0,viewBox:"",value:0,change:!1,monitoring_show:1,power_show:1},S.__singletonRef=new S,S.__singletonRef.controller=Object(d.a)(n),n.changeToMonitoring=n.changeToMonitoring.bind(Object(d.a)(n)),n.changeToPower=n.changeToPower.bind(Object(d.a)(n)),n.changeToDefault=n.changeToDefault.bind(Object(d.a)(n)),n.cartesianWidth=null,n.cartesianHeight=null,n.templateWidth=null,n.templateHeight=null,n.changeGridSizes=n.changeGridSizes.bind(Object(d.a)(n)),n.showPanel=n.showPanel.bind(Object(d.a)(n)),n.toggleSliging=n.toggleSliging.bind(Object(d.a)(n)),n.changeUnitSize=n.changeUnitSize.bind(Object(d.a)(n)),n.home=n.home.bind(Object(d.a)(n)),n}return Object(c.a)(i,[{key:"changeToMonitoring",value:function(){P()("#distribution-front-side").show(),P()("#distribution-rear-side").hide(),this.setState({svg_monitoring:!0,svg_power:!1,viewBox:"0 0 "+(this.cartesianWidth*j.SCALE.FRONT_SIDE).toString()+" "+(this.cartesianHeight*j.SCALE.FRONT_SIDE).toString()}),P()(document.body).css("overflow","hidden"),P()(document.documentElement).css("overflow","hidden")}},{key:"changeToPower",value:function(){P()("#distribution-front-side").hide(),P()("#distribution-rear-side").show(),this.setState({svg_monitoring:!1,svg_power:!0,viewBox:"0 0 "+(this.templateWidth*j.SCALE.REAR_SIDE).toString()+" "+(this.cartesianHeight*j.SCALE.REAR_SIDE).toString()}),P()(document.body).css("overflow","hidden"),P()(document.documentElement).css("overflow","hidden")}},{key:"changeToDefault",value:function(){this.setState({svg_monitoring:!1,svg_power:!1,viewBox:""}),P()(document.body).css("overflow","visible"),P()(document.documentElement).css("overflow","visible")}},{key:"componentDidMount",value:function(){this.cartesianWidth||(this.cartesianWidth=P()(".cartesian").width()),this.cartesianHeight||(this.cartesianHeight=P()(".cartesian").height()),this.templateWidth||(this.templateWidth=P()(".templated").width()),this.templateHeight||(this.templateHeight=P()(".templated").height()),localStorage.getItem("cartesian: size")&&(P()(document.getElementById("cartesian")).attr("data-size",localStorage.getItem("cartesian: size")),P()(document.getElementById("templated")).attr("data-size",localStorage.getItem("templated: size")))}},{key:"changeGridSizes",value:function(e){var t=e.target.value-50+100;P()("#cartesian_distribution_container").css("backgroundSize",t+"%"),P()("#templated_distribution_container").css("backgroundSize",t+"%"),P()("#distros_designer").css("backgroundSize",.45*t+"%"),localStorage.setItem("cartesian: grid",JSON.stringify({size:t})),localStorage.setItem("templated: grid",JSON.stringify({size:t})),this.setState({value:e.target.value})}},{key:"componentWillMount",value:function(){var e=JSON.parse(localStorage.getItem("cartesian: grid"));e&&"size"in e&&this.setState({value:e.size-100+50})}},{key:"showPanel",value:function(e){return this.toggleSliging(),P()("#boxes_container_draggable, #distros_designer").attr("sliding-panel",this.sliding?"on":"off"),P()(e.target).toggleClass("fa-anchor").toggleClass("fa-bars"),P()("#distros_designer").toggleClass("col-lg-9 col-sm-9 col-md-9").toggleClass("col-lg-12 col-sm-12 col-md-12"),e.preventDefault(),!1}},{key:"toggleSliging",value:function(){this.sliding=!this.sliding,localStorage.setItem("designer: slider",this.sliding.toString()),P()("#boxes_container_draggable").css("width","100%")}},{key:"changeUnitSize",value:function(e){var t=e.target,i=Object.fromEntries(this.margin_top);P()(document.getElementById("cartesian")).attr("data-size",P()(t).val()),P()(document.getElementById("templated")).attr("data-size",P()(t).val()),localStorage.setItem("cartesian: size",P()(t).val()),localStorage.setItem("templated: size",P()(t).val());var n=Object.fromEntries(this.grid_heights);P()("#templated, #cartesian").css("marginTop",i[P()(t).val()]+"px"),P()("#templated_distribution_container").css("height",(n[P()(t).val()]*P()(document.getElementById("templated")).outerWidth()/681).toString()+"px"),P()("#cartesian_distribution_container").css("height",(n[P()(t).val()]*P()(document.getElementById("cartesian")).outerWidth()/681).toString()+"px"),this.containerRef.setDistributionSize(P()(t).val())}},{key:"monitoringShow",value:function(e){0==e.target.checked?(P()("#cartesian").hide(),document.getElementById("power_show").checked=!0):P()("#cartesian").show()}},{key:"powerShow",value:function(e){0==e.target.checked?(document.getElementById("monitoring_show").checked=!0,P()("#templated").hide()):P()("#templated").show()}},{key:"home",value:function(){this.setState({svg_monitoring:!1,svg_power:!1})}},{key:"render",value:function(){var e=this,t=null,i=null,a=Object(n.jsxs)("div",{className:"buttons",children:[Object(n.jsxs)("div",{className:"header-logo row",children:[Object(n.jsx)("div",{className:"col col-lg-3 col-md-3 col-sm-3",children:Object(n.jsx)("h2",{className:"header-tagline",style:{color:"#b00110"},children:"Customize your Distro"})}),Object(n.jsx)("div",{className:"col col-lg-5 col-md-5 col-sm-5",id:"header_controls"}),Object(n.jsx)("div",{className:"col col-lg-4 col-md-4 col-sm-4",children:Object(n.jsx)("div",{className:"header-logo-image-container",children:Object(n.jsx)("img",{src:"images/logo/power_distros_logo-01.png",width:"180px",alt:"Power Distros Logo",title:"Power Distros Logo"})})})]}),Object(n.jsxs)("div",{className:"header-tag-full",style:{padding:"3px 20px",width:"100%",backgroundColor:"#4a0d12",color:"white",fontSize:"24px",textAlign:"left"},children:[Object(n.jsxs)("nav",{className:"menu-navigation col-lg-12 col-md-12 col-sm-12",style:{clear:"both"},children:[Object(n.jsx)("i",{className:"fas fa-anchor",style:{color:"red",cursor:"alias"}}),Object(n.jsxs)("ul",{className:"menu_navigation",id:"menu_navigation",children:[Object(n.jsx)("li",{className:"menu-item",onClick:this.home,children:"HOME"}),Object(n.jsx)("li",{className:"menu-item",children:"NEW"}),Object(n.jsx)("li",{className:"menu-item",children:"OPEN"}),Object(n.jsx)("li",{className:"menu-item",children:"SAVE"}),Object(n.jsx)("li",{className:"menu-item",children:"PRINT"})]}),Object(n.jsx)("div",{className:"field-controls",style:{marginRight:"30px",float:"right",display:"inline-block"}}),Object(n.jsx)("div",{className:"clearfix",style:{clear:"both"}})]}),Object(n.jsxs)("div",{className:"row",id:"header-separation",children:[Object(n.jsx)("div",{className:"col-lg-3 col-md-3 col-sm-3"}),Object(n.jsxs)("div",{className:"col-lg-9 col-md-9 col-sm-9",children:[Object(n.jsx)("h5",{className:"power-header",onClick:this.changeToPower,style:{margin:"10px 0px",cursor:"pointer"},children:"PLUGS / SOCKETS"}),Object(n.jsx)("h5",{className:"monitoring-header",onClick:this.changeToMonitoring,style:{margin:"10px 0px",cursor:"pointer"},children:"BREAKERS"})]})]})]})]});return 1==this.state.svg_monitoring?t=Object(n.jsx)(X,{viewBox:this.state.viewBox}):1==this.state.svg_power?t=Object(n.jsx)(Y,{viewBox:this.state.viewBox}):i=Object(n.jsx)("div",{className:"bodyContainer",children:Object(n.jsx)("div",{className:"AppInnerContainerHolder",children:Object(n.jsx)(J,{controller:this,ref:function(t){e.containerRef=t},snapToGrid:this.state.snapToGridAfterDrop})})}),Object(n.jsxs)("div",{className:"container-fluid",children:[a,i,t]})}}]),i}(s.a.Component),Q=i(247),ee=i(85);var te=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(Q.a,{backend:ee.a,children:Object(n.jsx)($,{})})})};var ie=function(){return Object(n.jsx)(te,{})},ne=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,251)).then((function(t){var i=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,o=t.getTTFB;i(e),n(e),a(e),s(e),o(e)}))};r.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(ie,{})}),document.getElementById("root")),ne()}},[[244,1,2]]]);
//# sourceMappingURL=main.cd7edf5f.chunk.js.map